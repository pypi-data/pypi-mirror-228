"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[809],{45:function(e,n,t){t.d(n,{t:function(){return c}});var r=t(52322);t(2784);var i=t(2736),a=t(87323),o=t(12734),u=t(91588),l=t(19369),c=function(e){var n=e.title,t=e.description,c=e.icon,s=e.action,f=e.shrinkable,d=1===[n,t,s].filter(Boolean).length;return(0,r.jsxs)(i.x,{flex:{gap:20,alignItems:d?"center":"flex-start"},background:a.w.Gray50,padding:24,style:{margin:"auto",borderRadius:8,width:f?"initial":"max-content",maxWidth:500},children:["spinner"===c?(0,r.jsx)(u.$,{purpose:"section"}):"no-results"===c?(0,r.jsx)(o.JO,{name:"search",size:48,color:a.w.Gray400}):c?(0,r.jsx)(o.JO,{name:c,size:48,color:a.w.Gray400}):null,(0,r.jsxs)(i.x,{flex:{gap:8,direction:"column",alignItems:"flex-start",shrink:1,grow:1},children:[n&&(0,r.jsx)(l.pm,{style:{color:a.w.Gray900},children:n}),t&&(0,r.jsx)("div",{style:{color:a.w.Gray500},children:t}),s]})]})}},98353:function(e,n,t){t.d(n,{T:function(){return a}});var r=t(73235);function i(){var e=(0,r._)(["\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n"]);return i=function(){return e},e}var a=t(35505).ZP.div.withConfig({componentId:"sc-2cf5acf-0"})(i())},28413:function(e,n,t){t.d(n,{Gf:function(){return _},HE:function(){return g},HY:function(){return k},TC:function(){return y},WD:function(){return b},cJ:function(){return j},jP:function(){return S}});var r=t(58467),i=t(73235),a=t(82550),o=t(52322),u=t(38058),l=t(2784),c=t(35505),s=t(2736),f=t(87323),d=t(55829),v=t(17577),p=t(91588);function x(){var e=(0,i._)(["\n  border: none;\n  border-radius: 8px;\n  box-shadow: "," inset 0px 0px 0px 1px, "," inset 2px 2px 1.5px;\n  min-width: 400px;\n  max-width: ",";\n  transition: box-shadow 150ms;\n\n  &.bp4-active {\n    box-shadow: "," inset 0px 0px 0px 1px, "," inset 2px 2px 1.5px,\n      rgba(58, 151, 212, 0.6) 0 0 0 3px;\n  }\n\n  input {\n    font-size: 14px;\n    font-weight: 400;\n    padding-left: 4px;\n    padding-bottom: 2px;\n    padding-top: 2px;\n  }\n\n  && .bp4-tag-input-values:first-child .bp4-input-ghost:first-child {\n    padding-left: 8px;\n  }\n\n  && .bp4-tag-input-values {\n    margin-right: 4px;\n    margin-top: 4px;\n  }\n\n  && .bp4-tag-input-values > * {\n    margin-bottom: 4px;\n  }\n\n  .bp4-tag {\n    border-radius: 6px;\n    display: inline-flex;\n    flex-direction: row;\n    font-size: 12px;\n    line-height: 16px;\n    align-items: center;\n    max-width: 400px;\n    overflow: hidden;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    padding: 4px 8px;\n    user-select: none;\n  }\n\n  .bp4-tag.bp4-minimal:not([class*='bp4-intent-']) {\n    background-color: ",";\n    color: ",";\n  }\n\n  .bp4-tag.bp4-minimal.bp4-intent-success {\n    background-color: ",";\n    color: ",";\n  }\n\n  .bp4-tag.bp4-minimal.bp4-intent-warning {\n    background-color: ",";\n    color: ",";\n  }\n\n  .bp4-tag.bp4-minimal.bp4-intent-danger {\n    background-color: ",";\n    color: ",";\n  }\n"]);return x=function(){return e},e}function m(){var e=(0,i._)(["\n  width: 400px;\n"]);return m=function(){return e},e}function h(e,n){return n.find(function(n){return n.token&&n.token.toLowerCase()===e.toLowerCase()})}var g=function(e,n){return""===e?[]:y(e.split(","),n)},y=function(e,n){return e.map(function(e){return b(e,n)})},w=function(e){var n=e.indexOf(":");return -1===n?[e,""]:[e.slice(0,n),e.slice(n+1)]};function b(e,n){var t=(0,r._)(w(e),2),i=t[0],a=t[1];return h(i,n)&&i&&a?{token:i,value:a}:{value:e}}var k=function(e){return e.token?"".concat(e.token,":").concat(e.value):e.value},j=function(e){return e.filter(function(e){return""!==e.value}).map(k)},S=function(e){return j(e).join(",")},_=function(e){var n,t,i=e.suggestionProviders,u=e.suggestionProvidersFilter,c=e.values,f=e.maxValues,x=e.onChange,m=e.onChangeBeforeCommit,g=e.onFocus,y=e.onTextChange,w=e.placeholder,k=e.addOnBlur,j=e.loading,S=e.className,_=e.fullwidth,A=e.suggestionRenderer,L=(0,r._)(l.useState(!1),2),I=L[0],R=L[1],D=(0,r._)(l.useState(null),2),E=D[0],T=D[1],M=(0,r._)(l.useState(""),2),F=M[0],J=M[1],V=l.useMemo(function(){return(0,a._)(c)},[c]);n=b(F,i),(t=V[V.length-1])&&n.token===t.token&&n.value===t.value&&V.pop();var K=void 0!==f&&V.length>=f,H=u?u(i,V):i,z=F.split(":"),P=(z[z.length-1]||"").toLowerCase(),N=l.useMemo(function(){if(K)return[];var e=[],n=function(e,n){return!e||n.text.toLowerCase().split(":").some(function(n){return n.includes(e)})},t=function(e){var t=e.suggestionFilter||n;return e.values().filter(function(n){return!V.some(function(t){return t.token===e.token&&t.value===n})}).map(function(n){return{text:(null==e?void 0:e.token)?"".concat(e.token,":").concat(n):n,final:!e.textOnly}}).filter(function(e){return t(P,e)}).slice(0,100)};if(1===z.length){e=H.reduce(function(e,n){return n.token?(0,a._)(e).concat([{text:"".concat(n.token,":"),final:!1}]):e},[]).filter(function(e){return n(P,e)});var r=!0,i=!1,o=void 0;try{for(var u,l=H[Symbol.iterator]();!(r=(u=l.next()).done);r=!0){var c,s=u.value;(!s.token||F.length>0)&&(c=e).push.apply(c,(0,a._)(t(s)))}}catch(e){i=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw o}}}if(2===z.length){var f=z[0];if(f){var d=h(f,H);e=d?t(d):[]}}return e.sort(function(e,n){return e.text.localeCompare(n.text)}),e},[K,H,P,z,F.length,V]),U=function(e){J(e),y&&y(e)};l.useEffect(function(){if(!E&&N.length){var e=N[0];e&&T({text:e.text,idx:0});return}if(E){if(0===N.length){T(null);return}var n=N.findIndex(function(e){return e.text===E.text}),t=-1!==n?n:E.idx;t=Math.max(0,Math.min(N.length-1,t));var r=N[t];r&&(t!==E.idx||r.text!==E.text)&&T({text:r.text,idx:t})}},[E,N]);var B=function(e){K||(e.final?(G(e.text),U(""),T(null),R(!1)):U(e.text))},G=function(e){K||e.endsWith(":")||""===e||(U(""),x((0,a._)(V).concat([b(e,H)])))},W=l.createRef();l.useEffect(function(){if(W.current&&E){var e=W.current.querySelector("[data-idx='".concat(E.idx,"']"));e&&e instanceof HTMLElement&&"scrollIntoView"in e&&e.scrollIntoView({block:"nearest"})}},[W,E]);var Y=A||function(e){return e.text};return(0,o.jsx)(v.J,{isOpen:I&&N.length>0&&!K,position:"bottom-left",content:N.length>0?(0,o.jsx)("div",{style:{maxHeight:235,overflowY:"scroll"},ref:W,children:(0,o.jsx)(O,{children:N.map(function(e,n){return(0,o.jsx)(d.sN,{"data-idx":n,text:Y(e),shouldDismissPopover:!1,active:(null==E?void 0:E.idx)===n,onMouseDown:function(n){n.preventDefault(),n.stopPropagation(),B(e),T(null)}},e.text)})})}):(0,o.jsx)("div",{}),children:(0,o.jsx)(C,{className:S,values:V.map(function(e){return e.token?"".concat(e.token,":").concat(e.value):e.value}),inputValue:F,onRemove:function(e,n){var t=(0,a._)(V);t.splice(n,1),x(t)},onInputChange:function(e){if(U(e.currentTarget.value),m){var n=b(e.currentTarget.value,H);x((0,a._)(V).concat([n]))}},inputProps:{onFocus:function(){R(!0),g&&g()},onBlur:function(){k&&G(F),R(!1)}},$maxWidth:_?"100%":void 0,onAdd:function(){return!1},onKeyDown:function(e){if(K&&"Delete"!==e.key&&"Backspace"!==e.key){e.preventDefault(),e.stopPropagation();return}if("Enter"===e.key||"Return"===e.key||"Tab"===e.key){if(E){var n=N.find(function(e){return e.text===E.text});if(!n)throw Error("Selection out of sync with suggestions");B(n),e.preventDefault(),e.stopPropagation()}else F.length&&(G(F),e.preventDefault(),e.stopPropagation());return}if(" "===e.key){e.preventDefault(),G(F);return}if("Escape"===e.key){T(null),R(!1);return}I||"Delete"===e.key||"Backspace"===e.key||R(!0);var t={ArrowDown:1,ArrowUp:-1}[e.key];if(t&&N.length>0){e.preventDefault();var r=(E?E.idx:-1)+t;r=Math.max(0,Math.min(r,N.length-1));var i=N[r];i&&T({text:i.text,idx:r})}},tagProps:{minimal:!0},placeholder:w||"Filterâ€¦",rightElement:j&&I?(0,o.jsx)(s.x,{style:{alignSelf:"center"},margin:{right:4},children:(0,o.jsx)(p.$,{purpose:"body-text"})}):void 0})})},C=(0,c.ZP)(u.EG).withConfig({componentId:"sc-d11f8a77-0"})(x(),f.w.Gray300,f.w.KeylineGray,function(e){return e.$maxWidth?e.$maxWidth:"600px"},f.w.Gray300,f.w.KeylineGray,f.w.Gray100,f.w.Gray900,f.w.Green50,f.w.Green700,f.w.Yellow50,f.w.Yellow700,f.w.Red50,f.w.Red700),O=(0,c.ZP)(d.v2).withConfig({componentId:"sc-d11f8a77-1"})(m())},76358:function(e,n,t){t.d(n,{q:function(){return v}});var r=t(87612),i=t(85333),a=t(58467),o=t(18149),u=t.n(o),l=t(19126),c=t.n(l),s=t(2784),f=t(7267),d={};function v(e){var n=e.queryKey,t=e.defaults,o=e.encode,l=e.decode;n&&(o||(o=function(e){return(0,r._)({},n,e)}),l||(l=function(e){return p(e[n])}));var v=(0,f.TH)(),x=(0,f.k6)(),m=s.useMemo(function(){d=c().parse(v.search,{ignoreQueryPrefix:!0});var e=(0,i._)({},t||{},d);return l?l(e):function(e){var n={},t=!0,r=!1,i=void 0;try{for(var a,o=Object.keys(e)[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value;n[u]=p(e[u])}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return n}(e)},[v.search,l,t]),h=s.useRef(m),g=s.useCallback(function(n){var t=(0,i._)({},d,o?o(n):n),r=!0,u=!1,l=void 0;try{for(var s,f=Object.entries(t)[Symbol.iterator]();!(r=(s=f.next()).done);r=!0){var p=(0,a._)(s.value,2),m=p[0],h=p[1];e.defaults&&e.defaults[m]===h&&delete t[m]}}catch(e){u=!0,l=e}finally{try{r||null==f.return||f.return()}finally{if(u)throw l}}d=t,x.replace("".concat(v.pathname,"?").concat(c().stringify(t,{arrayFormat:"brackets"})))},[x,o,v.pathname,e]);return u()(h.current,m)||(h.current=m),[h.current,g]}function p(e){return"false"!==e&&("true"===e||e)}},16215:function(e,n,t){t.d(n,{F:function(){return i}});var r=t(2784);function i(e,n){var t=r.useRef(e);t.current=e;var i=r.useRef(n);return i.current=n,r.useCallback(function(e){e instanceof Function?t.current=e(t.current):t.current=e,i.current(t.current)},[])}},40903:function(e,n,t){t.d(n,{L:function(){return i}});var r=t(2784),i=function(e){var n=r.useRef(e);return n.current=e,n}},24651:function(e,n,t){t.d(n,{h:function(){return s}});var r=t(52322),i=t(2736),a=t(12734),o=t(87323);t(2784);var u=t(47933),l=t(41060),c=t(16201),s=function(e){var n=e.pipelineName,t=e.pipelineHrefContext,s=e.isJob,f=e.snapshotId,d=e.showIcon,v=e.truncationThreshold,p=void 0===v?40:v,x=e.size,m=p>0&&n.length>p?"".concat(n.slice(0,p-5),"â€¦"):n,h="repo-unknown"===t?(0,r.jsx)(u.rU,{to:(0,l.r4)(n,s),children:m}):"no-link"===t?(0,r.jsx)(r.Fragment,{children:m}):(0,r.jsx)(u.rU,{to:(0,l.jT)({repoName:t.name,repoLocation:t.location,pipelineName:n,isJob:s}),children:m});return(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex"},children:[d&&(0,r.jsx)(i.x,{margin:{right:8},children:(0,r.jsx)(a.JO,{color:o.w.Gray400,name:"job"})}),(0,r.jsxs)("span",{children:[h,f&&" @ ",f&&(0,r.jsx)(c.J2,{snapshotId:f,pipelineName:n,size:void 0===x?"normal":x})]})]})}},37842:function(e,n,t){t.d(n,{Ys:function(){return a},_m:function(){return o},cv:function(){return l},hd:function(){return u},oV:function(){return c},sy:function(){return i}});var r=t(7334),i=new Set([r.VOA.QUEUED]),a=new Set([r.VOA.STARTED,r.VOA.STARTING,r.VOA.CANCELING]),o=new Set([r.VOA.SUCCESS]),u=new Set([r.VOA.FAILURE,r.VOA.CANCELED]),l=new Set([r.VOA.FAILURE,r.VOA.SUCCESS,r.VOA.CANCELED]),c=new Set([r.VOA.QUEUED,r.VOA.STARTED])},56918:function(e,n,t){t.d(n,{Q:function(){return h}});var r=t(81862),i=t(87612),a=t(82550),o=t(22970),u=t(52322),l=t(2736),c=t(2784),s=t(67953),f=t(99339),d=t(28292),v=t(29545),p=["mode",v.H.Backfill,v.H.Partition],x=new Set(p),m=(0,i._)({},v.H.SolidSelection,v.H.OpSelection),h=c.memo(function(e){var n=e.tags,t=e.onAddTag,i=e.onToggleTagPin,h=e.mode,g=(0,f.m)(),y=c.useMemo(function(){var e;return{label:"Copy tag",onClick:(e=(0,r._)(function(e){return(0,o.Jh)(this,function(n){switch(n.label){case 0:return g("".concat(e.key,":").concat(e.value)),[4,(0,s.B7)({intent:"success",message:"Copied tag!"})];case 1:return n.sent(),[2]}})}),function(n){return e.apply(this,arguments)})}},[g]),w=c.useMemo(function(){return t?{label:"Add tag to filter",onClick:function(e){t({token:"tag",value:"".concat(e.originalKey||e.key,"=").concat(e.value)})}}:null},[t]),b=function(e){var n,t=[y];return w&&(n=e.key)!==v.H.SolidSelection&&n!==v.H.OpSelection&&"mode"!==n&&t.push(w),i&&t.push({label:e.pinned?"Hide tag":"Show tag in table",onClick:function(){i(e.originalKey||e.key)}}),t.filter(function(e){return!!e})},k=c.useMemo(function(){var e=[],t=[],r=n.map(function(e){return{key:e.key,value:e.value,pinned:e.pinned,link:e.link}}),i=!0,o=!1,u=void 0;try{for(var l,c=r[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var s=l.value,f=s.key;m.hasOwnProperty(f)&&(s.key=m[f],s.originalKey=f),s.value.startsWith(d.u1)&&(f===v.H.PartitionSet||f===v.H.StepSelection)||(x.has(f)?e.push(s):t.push(s))}}catch(e){o=!0,u=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw u}}return(0,a._)(e.sort(function(e,n){return p.indexOf(e.key)-p.indexOf(n.key)})).concat((0,a._)(t))},[n]);if(!n.length)return null;var j=h?(0,u.jsx)(v.i,{tag:{key:"mode",value:h},actions:b({key:"mode",value:h})}):null;return(0,u.jsxs)(l.x,{flex:{direction:"row",wrap:"wrap",gap:4},children:[j,k.map(function(e){return(0,u.jsx)(v.i,{tag:e,actions:b(e)},e.key)})]})})},47424:function(e,n,t){t.d(n,{VH:function(){return ea},it:function(){return ei},oD:function(){return er},Vv:function(){return ec}});var r=t(81862),i=t(85333),a=t(6692),o=t(58467),u=t(73235),l=t(82550),c=t(22970),s=t(52322),f=t(3842),d=t(56675),v=t(60138),p=t(28413),x=t(2736),m=t(12734),h=t(30733),g=t.n(h),y=t(19126),w=t.n(y),b=t(2784),k=t(28292),j=t(7334),S=t(76358),_=t(15049),C=t(54788),O=t(65382),A=t(37923),L=t(40903);function I(e){var n=e.value,t=e.filter,r=e.renderLabel,i=t.state.includes(n),a=b.useRef(null);return(0,s.jsx)(x.x,{flex:{direction:"row",gap:6,alignItems:"center"},ref:a,margin:{left:4},style:{maxWidth:"500px",overflow:"hidden"},children:(0,s.jsx)("div",{style:{overflow:"hidden"},children:r({value:n,isActive:i})})})}var R=t(87323),D=t(80572),E=t(70399),T=t(28879),M=t.n(T),F=t(67338),J=t.n(F),V=t(10264),K=t.n(V),H=t(18149),z=t.n(H),P=t(9585),N=t(35505),U=t(89356),B=t(24819),G=t(22442);function W(){var e=(0,u._)(["\n  height: 430px;\n\n  /* Hide the default date picker for Chrome, Edge, and Safari */\n  input[type='date']::-webkit-calendar-picker-indicator {\n    display: none;\n  }\n\n  /* Hide the default date picker for Firefox */\n  input[type='date']::-moz-calendar-picker-indicator {\n    display: none;\n  }\n\n  /* Hide the default date picker for Internet Explorer */\n  input[type='date']::-ms-calendar-picker-indicator {\n    display: none;\n  }\n\n  .DayPickerKeyboardShortcuts_show {\n    display: none;\n  }\n\n  .CalendarDay__hovered_span,\n  .CalendarDay__hovered_span:hover,\n  .CalendarDay__selected_span,\n  .CalendarDay__selected_span:hover {\n    background: ",";\n    color: ",";\n    border: 1px solid #e4e7e7;\n  }\n  .CalendarDay__selected,\n  .CalendarDay__selected:active,\n  .CalendarDay__selected:hover {\n    background: ",";\n    border: 1px solid #e4e7e7;\n  }\n  .DateInput_input__focused {\n    border-color: ",";\n  }\n"]);return W=function(){return e},e}function Y(e){var n=e.range;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"date",color:R.w.Dark}),n]})}function $(e){var n=e.state,t=e.remove,r=e.timezone,i=e.timeRanges,a=b.useMemo(function(){return new Intl.DateTimeFormat(navigator.language,{year:"numeric",month:"numeric",day:"numeric",timeZone:r})},[r]),o=b.useMemo(function(){return z()(n,i.TODAY.range)?(0,s.jsxs)(s.Fragment,{children:["is ",(0,s.jsx)(G.y,{children:"Today"})]}):z()(n,i.YESTERDAY.range)?(0,s.jsxs)(s.Fragment,{children:["is ",(0,s.jsx)(G.y,{children:"Yesterday"})]}):z()(n,i.LAST_7_DAYS.range)?(0,s.jsxs)(s.Fragment,{children:["is within ",(0,s.jsx)(G.y,{children:"Last 7 days"})]}):z()(n,i.LAST_30_DAYS.range)?(0,s.jsxs)(s.Fragment,{children:["is within ",(0,s.jsx)(G.y,{children:"Last 30 days"})]}):n[0]?n[1]?(0,s.jsxs)(s.Fragment,{children:["is in range"," ",(0,s.jsx)(G.y,{children:a.format(n[0])})," - ",(0,s.jsx)(G.y,{children:a.format(n[1])})]}):(0,s.jsxs)(s.Fragment,{children:["is after"," ",(0,s.jsx)(G.y,{children:a.format(n[0])})]}):(0,s.jsxs)(s.Fragment,{children:["is before"," ",(0,s.jsx)(G.y,{children:a.format(n[1])})]})},[a,n,i]);return(0,s.jsx)(G.d,{iconName:"date",label:(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:["Timestamp ",o]}),onRemove:t})}function q(e){var n=e.filter,t=e.closeRef,r=(0,o._)(b.useState(null),2),i=r[0],a=r[1],u=(0,o._)(b.useState(null),2),l=u[0],c=u[1],f=(0,o._)(b.useState("startDate"),2),d=f[0],v=f[1],p=(0,o._)(b.useState(!0),2),m=p[0],h=p[1];return(0,s.jsxs)(D.Vq,{isOpen:m,title:"Select a date range",onClosed:function(){t.current()},style:{width:"652px"},children:[(0,s.jsx)(Z,{children:(0,s.jsx)(x.x,{flex:{direction:"row",gap:8},padding:16,children:(0,s.jsx)(P.DateRangePicker,{onDatesChange:function(e){var n=e.startDate,t=e.endDate;a(n),c(t)},onFocusChange:function(e){e&&v(e)},startDate:i,endDate:l,startDateId:"start",endDateId:"end",focusedInput:d,withPortal:!1,keepOpenOnDateSelect:!0,isOutsideRange:function(){return!1}})})}),(0,s.jsxs)(D.cN,{topBorder:!0,children:[(0,s.jsx)(E.zx,{onClick:function(){h(!1)},children:"Cancel"}),(0,s.jsx)(E.zx,{intent:"primary",disabled:!i||!l,onClick:function(){n.setState([i.valueOf(),l.valueOf()]),h(!1)},children:"Apply"})]})]})}t(85229),t(16320),M().extend(K()),M().extend(J());var Z=N.ZP.div.withConfig({componentId:"sc-eca6a26e-0"})(W(),R.w.Blue50,R.w.Blue700,R.w.Blue200,R.w.Blue500),X=t(33667),Q=t(29545);function ee(){var e=(0,u._)(["\n  query RunTagKeysQuery {\n    runTagKeysOrError {\n      ... on RunTagKeys {\n        keys\n      }\n    }\n  }\n"]);return ee=function(){return e},e}function en(){var e=(0,u._)(["\n  query RunTagValuesQuery($tagKeys: [String!]!) {\n    runTagsOrError(tagKeys: $tagKeys) {\n      ... on RunTags {\n        tags {\n          key\n          values\n        }\n      }\n    }\n  }\n"]);return en=function(){return e},e}var et=[{token:"id",values:function(){return[]}},{token:"status",values:function(){return[]}},{token:"pipeline",values:function(){return[]}},{token:"job",values:function(){return[]}},{token:"tag",values:function(){return[]}},{token:"snapshotId",values:function(){return[]}},{token:"created_date_before",values:function(){return[]}},{token:"created_date_after",values:function(){return[]}}];function er(e){return(0,S.q)(b.useMemo(function(){return{encode:function(e){return{q:(0,p.cJ)(e),cursor:void 0}},decode:function(n){var t=n.q,r=void 0===t?[]:t;return(0,p.TC)(r,et).filter(function(n){return!n.token||!e||e.includes(n.token)})}}},[e]))}function ei(e){return"/runs?".concat(w().stringify({q:(0,p.cJ)(e)},{arrayFormat:"brackets"}))}function ea(e){if(!e[0])return{};var n={},t=!0,r=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var l=a.value;if("created_date_before"===l.token)n.createdBefore=parseInt(l.value);else if("created_date_after"===l.token)n.updatedAfter=parseInt(l.value);else if("pipeline"===l.token||"job"===l.token)n.pipelineName=l.value;else if("id"===l.token)n.runIds=n.runIds||[],n.runIds.push(l.value);else if("status"===l.token)n.statuses=n.statuses||[],n.statuses.push(l.value);else if("snapshotId"===l.token)n.snapshotId=l.value;else if("tag"===l.token){var c=(0,o._)(l.value.split("="),2),s=c[0],f=c[1],d=void 0===f?"":f;n.tags?n.tags.push({key:s,value:d}):n.tags=[{key:s,value:d}]}}}catch(e){r=!0,i=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}return n}var eo=Object.keys(j.VOA).map(function(e){return{label:(0,A.fm)(e),value:e,match:[e]}}),eu=[Q.H.Automaterialize,Q.H.SensorName,Q.H.ScheduleName,Q.H.User],el=(0,l._)(eu).concat([Q.H.Backfill]),ec=function(e){var n,t,u,v,p,h,g,y,w,j,S,R,D,E,T,F,J,V,K,H,z,P,N,G,W,Z,ee,en,et,er,ei,ea,ec,em,eh,eg,ey,ew,eb,ek,ej,eS,e_,eC,eO,eA,eL,eI=e.tokens,eR=e.onChange,eD=e.enabledFilters,eE=(0,X.vl)().options,eT=(0,o._)((0,f.t)(ep),2),eM=eT[0],eF=eT[1].data,eJ=(0,d.x)(),eV=(0,_.C)().UserDisplay,eK=b.useCallback((n=(0,r._)(function(e){var n,t,r,i,a,o;return(0,c.Jh)(this,function(u){switch(u.label){case 0:return[4,eJ.query({query:ex,variables:{tagKeys:e?[e]:[]}})];case 1:if((null===(t=r=u.sent().data)||void 0===t?void 0:null===(n=t.runTagsOrError)||void 0===n?void 0:n.__typename)==="RunTags")return[2,(null===(o=r)||void 0===o?void 0:null===(a=o.runTagsOrError.tags)||void 0===a?void 0:null===(i=a[0])||void 0===i?void 0:i.values.map(function(n){return ev(e,n)}))||[]];return[2,[]]}})}),function(e){return n.apply(this,arguments)}),[eJ]),eH=b.useMemo(function(){var e;return(null==eF?void 0:null===(e=eF.runTagKeysOrError)||void 0===e?void 0:e.__typename)==="RunTagKeys"&&(null==eF?void 0:eF.runTagKeysOrError.keys.filter(function(e){return!el.includes(e)}).map(function(e){return{final:!1,value:{value:e}}}))||[]},[eF]),ez=(0,o._)(es(Q.H.SensorName),2),eP=ez[0],eN=ez[1],eU=(0,o._)(es(Q.H.ScheduleName),2),eB=eU[0],eG=eU[1],eW=(0,o._)(es(Q.H.User),2),eY=eW[0],e$=eW[1],eq=(0,o._)(es(Q.H.Backfill),2),eZ=eq[0],eX=eq[1],eQ=!eD||(null==eD?void 0:eD.includes("backfill")),e0=b.useCallback(function(){eM(),eP(),eB(),eY(),eQ&&eZ()},[eZ,eB,eP,eM,eY,eQ]),e2=b.useMemo(function(){return[ef(Q.H.Automaterialize,"true")].concat((0,l._)(eN),(0,l._)(eG),(0,l._)(e$))},[eN,eG,e$]),e1=!eD||(null==eD?void 0:eD.includes("job")),e3=b.useMemo(function(){var e=[],n=[];if(!e1)return{pipelines:[],jobs:[]};var t=!0,r=!1,i=void 0;try{for(var a,o=eE[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var u=a.value.repository,l=!0,c=!1,s=void 0;try{for(var f,d=u.pipelines[Symbol.iterator]();!(l=(f=d.next()).done);l=!0){var v=f.value;v.isJob?v.name.startsWith(k.u1)||n.push(v.name):e.push(v.name)}}catch(e){c=!0,s=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw s}}}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}return{pipelines:e.map(function(e){return{key:e,value:e,match:[e]}}),jobs:n.map(function(e){return{key:e,value:e,match:[e]}})}},[e1,eE]),e5=e3.pipelines,e4=e3.jobs,e8=!eD||(null==eD?void 0:eD.includes("job"))&&e5.length,e7=(0,A.im)({name:"Job",icon:"job",allowMultipleSelections:!1,allValues:e4,renderLabel:function(e){var n=e.value;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"job"}),(0,s.jsx)(C.rd,{text:n})]})},getStringValue:function(e){return e},initialState:b.useMemo(function(){return new Set(eI.filter(function(e){return"job"===e.token}).map(function(e){return e.value}))},[eI]),onStateChanged:function(e){eR((0,l._)(eI.filter(function(e){return"job"!==e.token})).concat((0,l._)(Array.from(e).map(function(e){return{token:"job",value:e}}))))}}),e6=(0,A.im)({name:"Status",icon:"status",allValues:eo,renderLabel:function(e){var n=e.value;return(0,s.jsx)("span",{children:(0,A.fm)(n)})},getStringValue:function(e){return(0,A.fm)(e)},initialState:b.useMemo(function(){return new Set(eI.filter(function(e){return"status"===e.token}).map(function(e){return e.value}))},[eI]),onStateChanged:function(e){eR((0,l._)(eI.filter(function(e){return"status"!==e.token})).concat((0,l._)(Array.from(e).map(function(e){return{token:"status",value:e}}))))}}),e9=(0,A.im)({name:"Pipelines",icon:"job",allValues:e5,allowMultipleSelections:!1,renderLabel:function(e){var n=e.value;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"job"}),(0,s.jsx)(C.rd,{text:n})]})},getStringValue:function(e){return e},initialState:b.useMemo(function(){return new Set(eI.filter(function(e){return"job"===e.token}).map(function(e){return e.value}))},[eI]),onStateChanged:function(e){eR((0,l._)(eI.filter(function(e){return"pipeline"!==e.token})).concat((0,l._)(Array.from(e).map(function(e){return{token:"pipeline",value:e}}))))}}),ne=(0,A.im)({name:"Backfill ID",icon:"backfill",allValues:eX,allowMultipleSelections:!1,initialState:b.useMemo(function(){return new Set(eI.filter(function(e){var n=e.token,t=e.value;return"tag"===n&&t.split("=")[0]===Q.H.Backfill}).map(function(e){return ed(e.value)}))},[eI]),renderLabel:function(e){var n=e.value;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"job"}),(0,s.jsx)(C.rd,{text:n.value})]})},getStringValue:function(e){return e.value},onStateChanged:function(e){eR((0,l._)(eI.filter(function(e){var n=e.token,t=e.value;return"tag"!==n||t.split("=")[0]!==Q.H.Backfill})).concat((0,l._)(Array.from(e).map(function(e){return{token:"tag",value:"".concat(e.type,"=").concat(e.value)}}))))}}),nn=(0,O.m)({filters:[!eD||(null==eD?void 0:eD.includes("status"))?e6:null,(0,A.im)({name:"Launched by",icon:"add_circle",allValues:e2,renderLabel:function(e){var n,t=e.value,r=t.value;if(t.type===Q.H.SensorName)n=(0,s.jsx)(m.JO,{name:"sensors"});else if(t.type===Q.H.ScheduleName)n=(0,s.jsx)(m.JO,{name:"schedule"});else{if(t.type===Q.H.User)return(0,s.jsx)(eV,{email:t.value,isFilter:!0});t.type===Q.H.Automaterialize&&(n=(0,s.jsx)(m.JO,{name:"auto_materialize_policy"}),r="Auto-materialize policy")}return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[n,(0,s.jsx)(C.rd,{text:r})]})},getStringValue:function(e){return e.type===Q.H.Automaterialize?"Auto-materialize policy":e.value},initialState:b.useMemo(function(){return new Set(eI.filter(function(e){var n=e.token,t=e.value;return"tag"===n&&eu.includes(t.split("=")[0])}).map(function(e){return ed(e.value)}))},[eI]),onStateChanged:function(e){eR((0,l._)(eI.filter(function(e){return"tag"!==e.token||!eu.includes(e.value.split("=")[0])})).concat((0,l._)(Array.from(e).map(function(e){return{token:"tag",value:"".concat(e.type,"=").concat(e.value)}}))))}}),(u=(t={name:"Created date",icon:"date",initialState:b.useMemo(function(){var e=eI.find(function(e){return"created_date_before"===e.token}),n=eI.find(function(e){return"created_date_after"===e.token});return[n?1e3*parseInt(n.value):null,e?1e3*parseInt(e.value):null]},[eI]),onStateChanged:function(e){var n;eR((0,l._)(eI.filter(function(e){return!["created_date_before","created_date_after"].includes(null!==(n=e.token)&&void 0!==n?n:"")})).concat((0,l._)([null!=e[0]?{token:"created_date_after",value:"".concat(e[0]/1e3)}:null,null!=e[1]?{token:"created_date_before",value:"".concat(e[1]/1e3)}:null].filter(function(e){return e}))))}}).name,v=t.icon,p=t.initialState,h=t.onStateChanged,g=b.useContext(U.JB),w="Automatic"===(y=(0,o._)(g.timezone,1)[0])?(0,B.cw)():y,S=(j=(0,o._)(b.useState(p||[null,null]),2))[0],R=j[1],b.useEffect(function(){null==h||h(S)},[S[0],S[1]]),b.useEffect(function(){R(p||[null,null])},[p]),E=(D=b.useMemo(function(){var e,n,t,r,i;return e="Automatic"===w?(0,B.cw)():w,n=Date.now(),i=Object.keys(r={TODAY:{label:"Today",range:[(t=M()(n).tz(e).startOf("day")).valueOf(),null]},YESTERDAY:{label:"Yesterday",range:[M()(n).tz(e).subtract(1,"day").startOf("day").valueOf(),t.valueOf()]},LAST_7_DAYS:{label:"Within last 7 days",range:[M()(n).tz(e).subtract(1,"week").valueOf(),null]},LAST_30_DAYS:{label:"Within last 30 days",range:[M()(n).tz(e).subtract(30,"days").valueOf(),null]},CUSTOM:{label:"Custom...",range:[null,null]}}).map(function(e){return{key:e,label:r[e].label,range:r[e].range}}),{timeRanges:r,timeRangesArray:i}},[w,Math.floor(Date.now()/36e5)])).timeRanges,T=D.timeRangesArray,F=function(){R([null,null])},J=b.useMemo(function(){return{name:u,icon:v,state:S,setState:R,isActive:null!==S[0]||null!==S[1],getResults:function(e){return T.filter(function(n){var t=n.label;return""===e||t.toLowerCase().includes(e.toLowerCase())}).map(function(e){var n=e.label,t=e.key;return{label:(0,s.jsx)(Y,{range:n}),key:t,value:t}})},onSelect:function(e){var n=e.value,t=e.close,r=e.createPortal;if("CUSTOM"===n){var i={current:function(){}};i.current=r((0,s.jsx)(q,{filter:V.current,closeRef:i}))}else R(E[n].range);t()},activeJSX:(0,s.jsx)($,{timeRanges:E,state:S,timezone:w,remove:F})}},[u,v,S,E,w,T]),V=(0,L.L)(J),J),e1?e7:null,e8?e9:null,eQ?ne:null,(z=(H={name:"Tag",icon:"tag",initialSuggestions:eH,freeformSearchResult:b.useCallback(function(e,n){return(0,a._)((0,i._)({},ev(n[0]?n[0].value:"",e)),{final:!!n.length})},[]),state:b.useMemo(function(){return eI.filter(function(e){var n=e.token,t=e.value;return"tag"===n&&!el.includes(t.split("=")[0])}).map(function(e){var n=(0,o._)(e.value.split("="),2);return ev(n[0],n[1]).value})},[eI]),setState:function(e){eR((0,l._)(eI.filter(function(e){var n=e.token,t=e.value;return"tag"!==n||el.includes(t.split("=")[0])})).concat((0,l._)(e.map(function(e){var n=e.key,t=e.value;return{token:"tag",value:"".concat(n,"=").concat(t)}}))))},onSuggestionClicked:(K=(0,r._)(function(e){return(0,c.Jh)(this,function(n){switch(n.label){case 0:return[4,eK(e.value)];case 1:return[2,n.sent()]}})}),function(e){return K.apply(this,arguments)}),getStringValue:function(e){var n=e.key,t=e.value;return"".concat(n,"=").concat(t)},getKey:function(e){var n=e.key,t=e.value;return"".concat(n,": ").concat(t)},renderLabel:function(e){var n=e.value;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"tag"}),(0,s.jsx)(C.rd,{text:n.value})]})},renderActiveStateLabel:function(e){var n=e.value;return(0,s.jsxs)(x.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,s.jsx)(m.JO,{name:"tag"}),(0,s.jsx)(C.rd,{text:"".concat(n.key,"=").concat(n.value)}),n.key,"=",n.value]})},isMatch:function(e,n){return e.value.toLowerCase().includes(n.toLowerCase())},matchType:"all-of"}).name,P=H.icon,N=H.freeformSearchResult,G=H.state,W=H.setState,Z=H.initialSuggestions,ee=H.onSuggestionClicked,en=H.getStringValue,et=H.getKey,er=H.renderLabel,ei=H.renderActiveStateLabel,ea=H.isMatch,em=void 0===(ec=H.matchType)?"any-of":ec,eg=(eh=(0,o._)(b.useState(!1),2))[0],ey=eh[1],eb=(ew=(0,o._)(b.useState(null),2))[0],ek=ew[1],ej=(0,L.L)(eb),eS=(0,L.L)(eg),eC=(e_=(0,o._)(b.useState([]),2))[0],eO=e_[1],eA=b.useMemo(function(){var e;return{name:z,icon:P,state:G,isActive:G.length>0,onUnselected:function(){ek(null),ey(!1),eO([])},isLoadingFilters:eg,getResults:function(e){var n=!1;if(t=ej.current||eS.current?(null===(r=ej.current)||void 0===r?void 0:r.filter(function(t){var r=t.value;return en(r)===e&&(n=!0),""===e||ea(r,e)}).map(function(e,n){return{label:(0,s.jsx)(I,{value:e.value,renderLabel:er,filter:eL.current}),key:(null==et?void 0:et(e.value))||n.toString(),value:e}}))||[]:Z.filter(function(t){var r=t.value;return en(r)===e&&(n=!0),""===e||ea(r,e)}).map(function(e,n){return{label:(0,s.jsx)(I,{value:e.value,renderLabel:er,filter:eL.current}),key:(null==et?void 0:et(e.value))||n.toString(),value:e}}),!n&&N&&e.length){var t,r,i=N(e,eC);t.unshift({label:(0,s.jsx)(I,{value:i.value,renderLabel:er,filter:eL.current}),key:(null==et?void 0:et(i.value))||"freeform",value:i})}return t},onSelect:(e=(0,r._)(function(e){var n,t,r;return(0,c.Jh)(this,function(i){switch(i.label){case 0:if(n=e.value,t=e.clearSearch,!n.final)return[3,1];return G.includes(n.value)?W(G.filter(function(e){return e!==n.value})):W((0,l._)(G).concat([n.value])),[3,3];case 1:if(t(),r=ee(n.value),eO(function(e){return(0,l._)(e).concat([n.value])}),!r)return[3,3];return ey(!0),[4,r];case 2:ek(i.sent()),ey(!1),i.label=3;case 3:return[2]}})}),function(n){return e.apply(this,arguments)}),activeJSX:(0,s.jsx)(A.nX,{name:z,state:new Set(G),getStringValue:en,renderLabel:ei||er,onRemove:function(){W([])},icon:P,matchType:em})}},[z,P,G,eg,en,ei,er,em,ej,eS,Z,N,ea,et,eC,W,ee]),eL=(0,L.L)(eA),eA)].filter(function(e){return e})}),nt=nn.button,nr=nn.activeFiltersJsx;return{button:(0,s.jsx)("span",{onClick:e0,children:nt}),activeFiltersJsx:nr}};function es(e){var n=(0,o._)((0,f.t)(ex,{variables:{tagKeys:e?[e]:[]}}),2),t=n[0],r=n[1].data;return[t,b.useMemo(function(){var n;return e&&(null==r?void 0:null===(n=r.runTagsOrError)||void 0===n?void 0:n.__typename)==="RunTags"?r.runTagsOrError.tags.map(function(e){return e.values}).flat().map(function(n){return ef(e,n)}):[]},[r,e])]}function ef(e,n){return{label:n,value:ed("".concat(e,"=").concat(n)),match:[n]}}var ed=g()(function(e){return{key:e,type:e.split("=")[0],value:e.split("=")[1]}}),ev=g()(function(e,n){return{final:!0,value:{key:e,value:n}}},function(e,n){return"".concat(e,":").concat(n)}),ep=(0,v.Ps)(ee()),ex=(0,v.Ps)(en())},16369:function(e,n,t){t.d(n,{A:function(){return f}});var r=t(85333),i=t(6692),a=t(2281),o=t(52322),u=t(53518),l=t(70399),c=t(2784),s=t(47933),f=c.forwardRef(function(e,n){var t=e.children,c=e.icon,f=e.intent,d=e.outlined,v=e.rightIcon,p=(0,a._)(e,["children","icon","intent","outlined","rightIcon"]);return(0,o.jsxs)(u.S,(0,i._)((0,r._)({},p),{as:s.rU,$fillColor:(0,l.qZ)(f,d),$strokeColor:(0,l.hb)(f,d),$textColor:(0,l.l6)(f,d),ref:n,children:[c||null,t?(0,o.jsx)(u.p,{children:t}):null,v||null]}))});f.displayName="AnchorButton"},65382:function(e,n,t){t.d(n,{m:function(){return z}});var r=t(52322),i=t(2784),a=t(81862),o=t(85333),u=t(2281),l=t(58467),c=t(73235),s=t(82550),f=t(22970),d=t(2736),v=t(12734),p=t(71539),x=t(55829),m=t(91588),h=t(17577),g=t(70399),y=t(87323),w=t(68577),b=t(35505),k=t(6364),j=t(89030),S=t(16215),_=t(40903),C=t(4250);function O(){var e=(0,c._)(["\n  "," {\n    margin-left: 0 !important;\n  }\n"]);return O=function(){return e},e}function A(){var e=(0,c._)(["\n  display: flex;\n  flex-direction: row;\n  flex-gap: 12px;\n  > *:first-child {\n    flex-grow: 1;\n  }\n  input {\n    padding: 12px 16px;\n    &,\n    :focus,\n    :active,\n    :hover {\n      box-shadow: none;\n    }\n  }\n"]);return A=function(){return e},e}function L(){var e=(0,c._)(["\n  &.bp4-active:focus {\n    color: white;\n    box-shadow: initial;\n  }\n"]);return L=function(){return e},e}function I(){var e=(0,c._)(["\n  border-radius: 4px;\n  padding: 0px 6px;\n  background: ",";\n  color: ",";\n"]);return I=function(){return e},e}function R(){var e=(0,c._)(["\n  .filter-dropdown.filter-dropdown.filter-dropdown.filter-dropdown {\n    border-radius: 8px;\n    max-width: 100%;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    .bp4-popover2-content {\n      border-radius: 8px;\n    }\n  }\n  \n  .bp4-overlay-content {\n    max-width: 100%;\n  }\n"]);return R=function(){return e},e}var D=function(e){var n,t=e.filters,o=e.setIsOpen,u=e.setPortaledElements,c=(0,l._)(i.useState(function(){return(0,k.Z)()}),2),h=c[0];c[1];var g=(0,l._)(i.useState(-1),2),y=g[0],b=g[1],j=(0,l._)((0,i.useState)(""),2),O=j[0],A=j[1],L=(0,l._)((0,i.useState)(null),2),I=L[0],R=L[1],D=i.useMemo(function(){return t.find(function(e){return e.name===I})},[t,I]),E=(0,S.F)(I,function(e){if(R(e),null===e&&D){var n;null===(n=D.onUnselected)||void 0===n||n.call(D)}}),J=(0,_.L)(D);i.useLayoutEffect(function(){return function(){var e,n;null===(n=J.current)||void 0===n||null===(e=n.onUnselected)||void 0===e||e.call(n)}},[J]);var K=i.useMemo(function(){var e=D?[]:O?t.filter(function(e){return e.name.toLowerCase().includes(O.toLowerCase())}):t,n={};return O&&t.forEach(function(e){n[e.name]=e.getResults(O)}),{results:n,filteredFilters:e}},[O,t,D]),z=K.results,P=K.filteredFilters,N=i.useCallback(function(e,n){e.onSelect({value:n,close:function(){A(""),E(null),b(-1),o(!1)},clearSearch:function(){A("")},createPortal:function(n){var t=(0,r.jsx)(i.Fragment,{children:n},e.name);return u(function(e){return(0,s._)(e).concat([t])}),function(){u(function(e){return e.filter(function(e){return e!==t})})}}})},[o,u,E]),U=i.useMemo(function(){if(D)return D.getResults(O).map(function(e,n){return(0,r.jsx)(F,{onClick:function(){return N(D,e.value)},text:e.label,index:n,menuKey:h,active:y===n},"filter:".concat(D.name,":").concat(e.key))});var e=[];return t.forEach(function(n){var t;if(P.includes(n)){var i=e.length;e.push((0,r.jsx)(F,{onClick:function(){E(n.name),b(-1)},text:(0,r.jsxs)(d.x,{flex:{direction:"row",gap:12},children:[(0,r.jsx)(v.JO,{name:n.icon}),n.name]}),index:i,menuKey:h,active:y===i},"filter:".concat(n.name)))}null===(t=z[n.name])||void 0===t||t.forEach(function(t){var i=e.length;e.push((0,r.jsx)(F,{onClick:function(){E(n.name),N(n,t.value)},text:t.label,index:i,menuKey:h,active:y===i},"filter-result:".concat(n.name,":").concat(t.key)))})}),e},[D,t,O,h,y,N,P,z,E]),B=(0,i.useRef)(null),G=(0,i.useRef)(null),W=i.useCallback((n=(0,a._)(function(e){var n,t,r,i;return(0,f.Jh)(this,function(a){if(n=U.length-1,"ArrowDown"!==e.key&&("Tab"!==e.key||e.shiftKey)){if("ArrowUp"===e.key||"Tab"===e.key&&e.shiftKey)b(function(e){return -1===e?n:e-1}),e.preventDefault();else if("Enter"===e.key||" "===e.key){if(-1===y)return[2];e.preventDefault(),null===(r=U[y])||void 0===r||null===(t=(i=r.props).onClick)||void 0===t||t.call(i)}else"Escape"===e.key?D?(E(null),b(-1)):o(!1):e.target===B.current&&b(-1)}else b(function(e){return e===n?-1:e+1}),e.preventDefault();return[2]})}),function(e){return n.apply(this,arguments)}),[U,y,D,E,o]),Y=i.useRef(null),$=(0,w.useVirtualizer)({count:U.length,getScrollElement:function(){return Y.current},estimateSize:function(e){return 32},overscan:10}),q=$.getTotalSize(),Z=$.getVirtualItems();return(0,r.jsxs)("div",{children:[(0,r.jsxs)(M,{children:[(0,r.jsx)(p.oi,{type:"text",value:O,onChange:function(e){return A(e.target.value)},onKeyDown:W,placeholder:"Search filters...",ref:function(e){B.current=e,null==e||e.focus()},"aria-label":"Search filters","aria-activedescendant":-1!==y?H(h,y):void 0,role:"combobox","aria-expanded":"true","aria-owns":h}),(0,r.jsx)(d.x,{flex:{justifyContent:"center",alignItems:"center"},padding:{vertical:12,horizontal:16},children:(0,r.jsx)(V,{children:"f"})})]}),(0,r.jsx)(x.v2,{children:(0,r.jsx)(T,{id:h,ref:G,onKeyDown:W,children:D&&D.isLoadingFilters?(0,r.jsx)(d.x,{padding:{vertical:12,horizontal:16},children:(0,r.jsx)(m.$,{purpose:"section"})}):U.length?(0,r.jsx)(C.W2,{ref:Y,style:{maxHeight:"500px",overflowY:"auto",width:(null==D?void 0:D.menuWidth)||"auto"},children:(0,r.jsx)(C.Nh,{$totalHeight:q,children:Z.map(function(e){var n=e.index,t=e.end,i=e.start;return(0,r.jsx)(C.X2,{$height:t-i,$start:i,children:U[n]},n)})})}):(0,r.jsx)(d.x,{padding:{vertical:12,horizontal:16},children:"No results"})})})]})},E=i.memo(function(e){var n=e.filters,t=i.useRef(0),a=(0,l._)((0,i.useState)(!1),2),o=a[0],u=a[1],c=i.useRef(o),s=(0,S.F)(o,function(e){u(e),e&&!c.current&&t.current++,c.current=e}),f=(0,l._)((0,i.useState)([]),2),d=f[0],p=f[1],x=i.useRef(null),m=i.useRef(null);return i.useLayoutEffect(function(){var e=function(e){var n,t;!((null===(n=x.current)||void 0===n?void 0:n.contains(e.target))||(null===(t=m.current)||void 0===t?void 0:t.contains(e.target)))&&document.contains(e.target)&&s(!1)};return document.body.addEventListener("click",e),function(){document.body.removeEventListener("click",e)}},[s]),(0,r.jsxs)(j.b,{shortcutLabel:"F",shortcutFilter:function(e){return"KeyF"===e.code&&!(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)},onShortcut:function(){return s(function(e){return!e})},children:[(0,r.jsx)(K,{}),(0,r.jsx)(h.J,{content:(0,r.jsx)("div",{ref:m,children:(0,r.jsx)(D,{filters:n,setIsOpen:s,setPortaledElements:p},t.current)}),canEscapeKeyClose:!0,popoverClassName:"filter-dropdown",isOpen:o,placement:"bottom-start",onClosing:function(){c.current=!1},children:(0,r.jsx)("div",{children:(0,r.jsx)(h.J,{content:(0,r.jsx)(r.Fragment,{children:d}),canEscapeKeyClose:!0,isOpen:!!d.length,position:"bottom",children:(0,r.jsx)(g.zx,{ref:x,icon:(0,r.jsx)(v.JO,{name:"filter_alt"}),onClick:function(){s(function(e){return!e})},children:"Filter"})})})})]})}),T=b.ZP.div.withConfig({componentId:"sc-c5894a39-0"})(O(),v.a1),M=b.ZP.div.withConfig({componentId:"sc-c5894a39-1"})(A()),F=i.memo(function(e){var n=e.menuKey,t=e.index,a=(0,u._)(e,["menuKey","index"]),l=i.useRef(null);return i.useLayoutEffect(function(){if(a.active&&l.current){var e,n;null===(n=l.current)||void 0===n||null===(e=n.scrollIntoView)||void 0===e||e.call(n,{block:"center"})}},[a.active]),(0,r.jsx)("div",{role:"option",id:H(n,t),"aria-selected":a.active?"true":"false",ref:l,children:(0,r.jsx)(J,(0,o._)({},a))})}),J=(0,b.ZP)(x.sN).withConfig({componentId:"sc-c5894a39-2"})(L()),V=b.ZP.div.withConfig({componentId:"sc-c5894a39-3"})(I(),y.w.Gray100,y.w.Gray500),K=(0,b.vJ)(R());function H(e,n){return"item-".concat(e,"-").concat(n)}var z=function(e){var n=e.filters,t=i.useMemo(function(){return n.filter(function(e){return e.isActive}).map(function(e,n){return(0,r.jsx)(i.Fragment,{children:e.activeJSX},n)})},[n]);return{button:i.useMemo(function(){return(0,r.jsx)(E,{filters:n})},[n]),activeFiltersJsx:t}}},22442:function(e,n,t){t.d(n,{d:function(){return x},y:function(){return h}});var r=t(85333),i=t(6692),a=t(2281),o=t(73235),u=t(52322),l=t(86002),c=t(12734),s=t(87323),f=t(2784),d=t(35505),v=t(54788);function p(){var e=(0,o._)(["\n  color: ",";\n  font-weight: 600;\n  font-size: 12px;\n  max-width: 100px;\n"]);return p=function(){return e},e}var x=function(e){var n=e.iconName,t=e.label,r=e.onRemove;return(0,u.jsx)("div",{children:(0,u.jsx)(l.m,{icon:(0,u.jsx)(c.JO,{name:n,color:s.w.Link}),rightIcon:(0,u.jsx)("div",{onClick:r,style:{cursor:"pointer"},tabIndex:0,children:(0,u.jsx)(c.JO,{name:"close",color:s.w.Link})}),label:t,fillColor:s.w.Blue50,textColor:s.w.Link})})},m=(0,d.ZP)(v.rd).withConfig({componentId:"sc-723c6007-0"})(p(),s.w.Blue500),h=f.forwardRef(function(e,n){var t=e.children,o=(0,a._)(e,["children"]);return(0,u.jsx)(m,(0,i._)((0,r._)({text:t,tooltipStyle:g},o),{ref:n}))}),g=JSON.stringify({background:s.w.Blue50,color:s.w.Blue500,border:"none",borderRadius:7,overflow:"hidden",fontSize:12,padding:"5px 10px",transform:"translate(-10px,-5px)",fontWeight:600})},37923:function(e,n,t){t.d(n,{fm:function(){return v},im:function(){return f},nX:function(){return d}});var r=t(58467),i=t(52322),a=t(2736),o=t(17577),u=t(29403),l=t(2784),c=t(40903),s=t(22442);function f(e){var n=e.name,t=e.icon,a=e.getKey,o=e.allValues,u=e.renderLabel,s=e.renderActiveStateLabel,f=e.initialState,v=e.getStringValue,x=e.onStateChanged,m=e.menuWidth,h=e.allowMultipleSelections,g=void 0===h||h,y=e.matchType,w=void 0===y?"any-of":y,b=(0,r._)(l.useState(function(){return new Set(f||[])}),2),k=b[0],j=b[1];l.useEffect(function(){null==x||x(k)},[k]),l.useEffect(function(){j(f?new Set(f):new Set)},[f]);var S=l.useMemo(function(){return{name:n,icon:t,state:k,isActive:k.size>0,getResults:function(e){return""===e?o.map(function(e,n){var t=e.value;return{label:(0,i.jsx)(p,{value:t,renderLabel:u,filter:_.current,allowMultipleSelections:g}),key:(null==a?void 0:a(t))||n.toString(),value:t}}):o.filter(function(n){return n.match.some(function(n){return n.toLowerCase().includes(e.toLowerCase())})}).map(function(e,n){var t=e.value;return{label:(0,i.jsx)(p,{value:t,renderLabel:u,filter:_.current,allowMultipleSelections:g}),key:(null==a?void 0:a(t))||n.toString(),value:t}})},onSelect:function(e){var n=e.value,t=new Set(_.current.state);t.has(n)?t.delete(n):g?t.add(n):t=new Set([n]),j(t)},activeJSX:(0,i.jsx)(d,{name:n,state:k,getStringValue:v,renderLabel:s||u,onRemove:function(){j(new Set)},icon:t,matchType:w}),setState:j,menuWidth:m}},[n,t,k,v,s,u,w,o,g,a]),_=(0,c.L)(S);return S}function d(e){var n=e.name,t=e.state,r=e.icon,u=e.getStringValue,c=e.onRemove,f=e.renderLabel,d="any-of"===e.matchType,p=l.useMemo(function(){return Array.from(t)},[t]),x=l.useMemo(function(){return 0===p.length?null:p.length<=3?(0,i.jsxs)(i.Fragment,{children:["is\xa0",1===p.length?"":(0,i.jsxs)(i.Fragment,{children:[d?"any of":"all of","\xa0"]}),p.map(function(e,n){return(0,i.jsxs)(l.Fragment,{children:[(0,i.jsx)(s.y,{children:u(e)}),n<p.length-1?(0,i.jsx)(i.Fragment,{children:",\xa0"}):""]},n)})]}):(0,i.jsxs)(a.x,{flex:{direction:"row",alignItems:"center"},children:["is ",(0,i.jsxs)(i.Fragment,{children:[d?"any of":"all of","\xa0"]}),(0,i.jsx)(o.J,{interactionKind:"hover",position:"bottom",content:(0,i.jsx)(a.x,{padding:{vertical:8,horizontal:12},flex:{direction:"column",gap:4},children:p.map(function(e){return(0,i.jsx)("div",{style:{maxWidth:"500px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:f({value:e,isActive:!0})},u(e))})}),children:(0,i.jsx)(s.y,{children:"(".concat(p.length,")")})})]})},[p,u,d,f]);return 0===p.length?null:(0,i.jsx)(s.d,{iconName:r,label:(0,i.jsxs)(a.x,{flex:{direction:"row",alignItems:"center"},children:[v(n),"\xa0",x]}),onRemove:c})}function v(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase().replace(/_/g," ")}function p(e){var n=e.value,t=e.filter,r=e.renderLabel,o=e.allowMultipleSelections,c=t.state.has(n),s=l.useRef(null);return(0,i.jsxs)(a.x,{flex:{direction:"row",gap:6,alignItems:"center"},ref:s,margin:{left:4},style:{maxWidth:"500px"},children:[o?(0,i.jsx)(u.X,{checked:c,size:"small",readOnly:!0}):null,(0,i.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,i.jsx)("div",{style:{overflow:"hidden"},children:r({value:n,isActive:c})})})]})}},40543:function(e,n,t){t.d(n,{U:function(){return x}});var r=t(85333),i=t(6692),a=t(2281),o=t(73235),u=t(52322),l=t(55829),c=t(2736),s=t(12734),f=t(87323);t(2784);var d=t(47933),v=t(35505);function p(){var e=(0,o._)(["\n  text-decoration: none;\n\n  border-radius: 4px;\n  display: block;\n  line-height: 20px;\n  padding: 6px 8px 6px 12px;\n  transition: background-color 50ms, box-shadow 150ms;\n  align-items: flex-start;\n  user-select: none;\n\n  /**\n   * Use margin instead of align-items: center because the contents of the menu item may wrap \n   * in unusual circumstances.\n   */\n  "," {\n    margin-top: 2px;\n  }\n\n  ",":first-child {\n    margin-left: -4px;\n  }\n\n  &&&:link,\n  &&&:visited,\n  &&&:hover,\n  &&&:active {\n    color: ",";\n    text-decoration: none;\n  }\n\n  &&&:hover {\n    background: ",";\n  }\n"]);return p=function(){return e},e}var x=function(e){var n=e.icon,t=e.intent,o=e.text,s=e.disabled,f=(0,a._)(e,["icon","intent","text","disabled"]);return s?(0,u.jsx)(l.sN,{disabled:!0,icon:n,intent:t,text:o}):(0,u.jsx)(m,(0,i._)((0,r._)({},f),{children:(0,u.jsxs)(c.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.cR)(n,t),(0,u.jsx)("div",{children:o})]})}))},m=(0,v.ZP)(d.rU).withConfig({componentId:"sc-6ba54ff8-0"})(p(),s.a1,s.a1,f.w.Gray900,f.w.Gray100)}}]);
//# sourceMappingURL=809.649035ea06850629.js.map