(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[705],{85246:function(e,n,r){var t=r(45386),o=r(38333),i=r(34893),s=r(50343),a=r(47826),u=r(59950);e.exports=function(e,n,r,c){var l=-1,p=o,d=!0,f=e.length,g=[],h=n.length;if(!f)return g;r&&(n=s(n,a(r))),c?(p=i,d=!1):n.length>=200&&(p=u,d=!1,n=new t(n));e:for(;++l<f;){var m=e[l],x=null==r?m:r(m);if(m=c||0!==m?m:0,d&&x==x){for(var y=h;y--;)if(n[y]===x)continue e;g.push(m)}else p(n,x,c)||g.push(m)}return g}},35838:function(e,n,r){var t=r(62034),o=r(16760);e.exports=function(e,n){return t(o(e,n),1)}},42208:function(e,n,r){var t=r(50343),o=r(68286),i=r(93759),s=r(76939);e.exports=function(e,n){if(null==e)return{};var r=t(s(e),function(e){return[e]});return n=o(n),i(e,r,function(e,r){return n(e,r[0])})}},67304:function(e,n,r){var t=r(85246),o=r(36060),i=r(93746),s=o(function(e,n){return i(e)?t(e,n):[]});e.exports=s},81268:function(e,n,r){"use strict";r.d(n,{$H:function(){return j},Lg:function(){return y},eB:function(){return m}});var t=r(52322),o=r(38379),i=r(12734),s=r(55829),a=r(2736),u=r(29403),c=r(18149),l=r.n(c),p=r(84636),d=r.n(p),f=r(2784),g=r(20270),h=r(61018);function m(e){return f.useMemo(function(){return d()((e||[]).map(j).filter(function(e){return!!e}),function(e){return JSON.stringify(e)}).sort(function(e,n){return e.groupName.localeCompare(n.groupName)})},[e])}var x={groupName:"-",repositoryLocationName:"-",repositoryName:"-"},y=function(e){var n=e.assetGroups,r=e.value,c=e.onChange,p=function(e){return"".concat(e.repositoryName,"@").concat(e.repositoryLocationName)},d=n[0]?p(n[0]):"",f=!n.every(function(e){return d===p(e)});return(0,t.jsx)(o.U5,{selectedItem:r.length?x:null,items:n,menuWidth:300,inputProps:{style:{width:200},placeholder:"Filter asset groupsâ€¦",rightElement:r.length?(0,t.jsx)(g.C,{onClick:function(){return c([])},style:{marginTop:5,marginRight:4},children:(0,t.jsx)(i.JO,{name:"cancel"})}):void 0},inputValueRenderer:function(){return 1===r.length?r[0].groupName:r.length>1?"".concat(r.length," groups"):""},itemPredicate:function(e,n){return 0===e.length||n.groupName.toLowerCase().includes(e.toLowerCase())},itemsEqual:l(),itemRenderer:function(e,n){return(0,t.jsx)(s.sN,{active:n.modifiers.active,onClick:n.handleClick,text:(0,t.jsxs)(a.x,{flex:{direction:"row",gap:6,alignItems:"center"},margin:{left:4},style:{maxWidth:"500px"},children:[(0,t.jsx)(u.X,{checked:r.some(function(n){return l()(n,e)}),size:"small",readOnly:!0}),(0,t.jsx)(a.x,{flex:{direction:"row",alignItems:"center",grow:1,shrink:1},style:{overflow:"hidden"},children:(0,t.jsxs)("div",{style:{overflow:"hidden"},children:[e.groupName,f?(0,t.jsx)("span",{style:{opacity:.5,paddingLeft:4},children:(0,h.At)(e.repositoryName,e.repositoryLocationName)}):void 0]})})]})},JSON.stringify(e))},noResults:(0,t.jsx)(s.sN,{disabled:!0,text:"No asset groups"}),closeOnSelect:!1,resetOnQuery:!1,onItemSelect:function(e){var n=r.filter(function(n){return!l()(e,n)});n.length===r.length&&n.push(e),c(n)}})};function j(e){return e.definition&&e.definition.groupName?{groupName:e.definition.groupName,repositoryName:e.definition.repository.name,repositoryLocationName:e.definition.repository.location.name}:null}},95379:function(e,n,r){"use strict";r.r(n),r.d(n,{AssetsGroupsGlobalGraphRoot:function(){return k}});var t=r(85333),o=r(6692),i=r(58467),s=r(52322),a=r(98353),u=r(62540),c=r(19369),l=r(18149),p=r.n(l),d=r(2784),f=r(7267),g=r(95318),h=r(34503),m=r(76358),x=r(31271),y=r(16201),j=r(38736),v=r(33667),N=r(81268),C=r(50292),O="__GLOBAL__",k=function(){var e=(0,f.UO)()[0],n=d.useContext(v.C5),r=n.allRepos,l=n.visibleRepos,k=(0,f.k6)(),L=(0,i._)((0,m.q)({encode:function(e){return{groups:JSON.stringify(e.groups)}},decode:function(e){return{groups:e.groups?JSON.parse(e.groups):[]}}}),2),R=L[0],b=L[1];(0,h.j)("Global Asset Lineage");var w=d.useCallback(function(e,n){var r=(0,y.gY)((0,o._)((0,t._)({},e),{pipelineName:O})).replace(O,"");k[n]({pathname:"/asset-groups".concat(r),search:k.location.search})},[k]),_=d.useCallback(function(e){k.push((0,C.p)(e.assetKey,{view:"definition"}))},[k]),E=d.useMemo(function(){return{hideEdgesToNodesOutsideQuery:!1,hideNodesMatching:function(e){var n;if(!l.some(function(n){return n.repositoryLocation.name===e.repository.location.name&&n.repository.name===e.repository.name}))return!0;if(null===(n=R.groups)||void 0===n?void 0:n.length){var r=(0,N.$H)({definition:e});if(!R.groups.some(function(e){return p()(e,r)}))return!0}return!1}}},[R.groups,l]),G=d.useMemo(function(){return l.flatMap(function(e){return e.repository.assetGroups.map(function(n){return{groupName:n.groupName,repositoryLocationName:e.repositoryLocation.name,repositoryName:e.repository.name}})})},[l]);return(0,s.jsxs)(a.T,{style:{display:"flex",flexDirection:"column",paddingBottom:0},children:[(0,s.jsx)(u.m,{title:(0,s.jsx)(c.X6,{children:"Global Asset Lineage"}),right:(0,s.jsx)("div",{style:{marginBottom:-8},children:(0,s.jsx)(j.i,{label:"Reload definitions"})})}),(0,s.jsx)(g.OK,{fetchOptions:E,fetchOptionFilters:(0,s.jsxs)(s.Fragment,{children:[r.length>1&&(0,s.jsx)(x.C,{}),(0,s.jsx)(N.Lg,{assetGroups:G,value:R.groups||[],onChange:function(e){return b((0,o._)((0,t._)({},R),{groups:e}))}})]}),options:{preferAssetRendering:!0,explodeComposites:!0},explorerPath:(0,y.p3)(O+e||"/"),onChangeExplorerPath:w,onNavigateToSourceAssetNode:_})]})};n.default=k},31271:function(e,n,r){"use strict";r.d(n,{C:function(){return d}});var t=r(58467),o=r(52322),i=r(80572),s=r(2736),a=r(70399),u=r(12734),c=r(2784),l=r(86900),p=r(33667),d=function(){var e=c.useContext(p.C5),n=e.allRepos,r=e.visibleRepos,d=e.toggleVisible,f=(0,t._)(c.useState(!1),2),g=f[0],h=f[1];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(i.Vq,{canOutsideClickClose:!0,canEscapeKeyClose:!0,isOpen:g,style:{width:"auto"},onClose:function(){return h(!1)},children:[(0,o.jsx)(i.fK,{icon:"repo",label:"Filter code locations"}),(0,o.jsx)(l.e,{options:n,onBrowse:function(){return h(!1)},onToggle:d,selected:r}),(0,o.jsx)(i.cN,{children:(0,o.jsx)(s.x,{padding:{top:8},children:(0,o.jsx)(a.zx,{intent:"none",onClick:function(){return h(!1)},children:"Done"})})})]}),(0,o.jsx)(a.zx,{intent:"none",icon:(0,o.jsx)(u.JO,{name:"folder"}),rightIcon:(0,o.jsx)(u.JO,{name:"expand_more"}),onClick:function(){return h(!0)},children:"".concat(r.length," of ").concat(n.length)})]})}},38736:function(e,n,r){"use strict";r.d(n,{i:function(){return g}});var t=r(58467),o=r(52322),i=r(42971),s=r(70399),a=r(12734),u=r(80572),c=r(2784),l=r(90951),p=r(14590),d=r(63013),f=r(48908),g=function(e){var n=e.label,r=void 0===n?"Reload all":n,g=(0,l.WB)(),h=g.permissions.canReloadWorkspace,m=g.disabledReasons,x=(0,d.Dc)({scope:"workspace",reloadFn:d.rL}),y=x.reloading,j=x.tryReload,v=x.error,N=x.errorLocationId,C=(0,t._)(c.useState(!!v),2),O=C[0],k=C[1];return(c.useEffect(function(){return k(!!v)},[v]),h)?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.zx,{onClick:j,icon:(0,o.jsx)(a.JO,{name:"refresh"}),loading:y,intent:"none",children:r}),N?(0,o.jsx)(f.V,{error:v,location:N,reloading:y,onTryReload:j,onDismiss:function(){return k(!1)},isOpen:O}):(0,o.jsxs)(u.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:O,children:[(0,o.jsx)(u.a7,{children:v&&(0,o.jsx)(p.T9,{error:v})}),(0,o.jsx)(u.cN,{children:(0,o.jsx)(s.zx,{onClick:function(){return k(!1)},children:"Dismiss"})})]})]}):(0,o.jsx)(i.u,{content:m.canReloadWorkspace,children:(0,o.jsx)(s.zx,{icon:(0,o.jsx)(a.JO,{name:"refresh"}),disabled:!0,intent:"none",children:r})})}}}]);
//# sourceMappingURL=705.1fb716684e5d10de.js.map