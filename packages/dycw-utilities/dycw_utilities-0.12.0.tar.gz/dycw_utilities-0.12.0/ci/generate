#!/usr/bin/env bash

pre-commit run pip-compile --all-files
cp requirements-dev.txt ci/macos-latest.txt
gsed -i "s/sys_platform == 'linux'/sys_platform == 'darwin'/g" pyproject.toml
pre-commit run pip-compile --all-files
cp requirements-dev.txt ci/ubuntu-latest.txt
gsed -i 's/sys_platform == "darwin"/sys_platform == "linux"/g' ci/ubuntu-latest.txt
git checkout -- pyproject.toml requirements-dev.txt
