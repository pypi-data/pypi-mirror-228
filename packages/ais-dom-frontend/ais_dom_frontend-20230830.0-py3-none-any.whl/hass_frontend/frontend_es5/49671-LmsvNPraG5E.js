"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[49671],{33762:function(t,i,e){var n,a,d,s,l=e(99312),r=e(81043),o=e(88962),c=e(33368),u=e(71650),f=e(82390),h=e(69205),p=e(70906),v=e(91808),m=e(68144),x=e(79932),g=e(14516),k=e(76680),_=e(47181),y=e(85415),b=e(38014),C=e(27322),w=(e(77576),e(52039),e(3143),e(40163));(0,v.Z)([(0,x.Mo)("ha-statistic-picker")],(function(t,i){var e,v=function(i){(0,h.Z)(n,i);var e=(0,p.Z)(n);function n(){var i;(0,u.Z)(this,n);for(var a=arguments.length,d=new Array(a),s=0;s<a;s++)d[s]=arguments[s];return i=e.call.apply(e,[this].concat(d)),t((0,f.Z)(i)),i}return(0,c.Z)(n)}(i);return{F:v,d:[{kind:"field",decorators:[(0,x.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,x.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,x.Cb)()],key:"value",value:void 0},{kind:"field",decorators:[(0,x.Cb)({attribute:"statistic-types"})],key:"statisticTypes",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean,attribute:"allow-custom-entity"})],key:"allowCustomEntity",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Array})],key:"statisticIds",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean})],key:"disabled",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Array,attribute:"include-statistics-unit-of-measurement"})],key:"includeStatisticsUnitOfMeasurement",value:void 0},{kind:"field",decorators:[(0,x.Cb)({attribute:"include-unit-class"})],key:"includeUnitClass",value:void 0},{kind:"field",decorators:[(0,x.Cb)({attribute:"include-device-class"})],key:"includeDeviceClass",value:void 0},{kind:"field",decorators:[(0,x.Cb)({type:Boolean,attribute:"entities-only"})],key:"entitiesOnly",value:function(){return!1}},{kind:"field",decorators:[(0,x.Cb)({type:Array,attribute:"exclude-statistics"})],key:"excludeStatistics",value:void 0},{kind:"field",decorators:[(0,x.SB)()],key:"_opened",value:void 0},{kind:"field",decorators:[(0,x.IO)("ha-combo-box",!0)],key:"comboBox",value:void 0},{kind:"field",key:"_init",value:function(){return!1}},{kind:"field",key:"_statistics",value:function(){return[]}},{kind:"field",decorators:[(0,x.SB)()],key:"_filteredItems",value:function(){}},{kind:"field",key:"_rowRenderer",value:function(){var t=this;return function(i){return(0,m.dy)(n||(n=(0,o.Z)(['<mwc-list-item graphic="avatar" twoline> '," <span>",'</span> <span slot="secondary">',"</span> </mwc-list-item>"])),i.state?(0,m.dy)(a||(a=(0,o.Z)(['<state-badge slot="graphic" .stateObj="','"></state-badge>'])),i.state):"",i.name,""===i.id||"__missing"===i.id?(0,m.dy)(d||(d=(0,o.Z)(['<a target="_blank" rel="noopener noreferrer" href="','">',"</a>"])),(0,C.R)(t.hass,"/more-info/statistics/"),t.hass.localize("ui.components.statistic-picker.learn_more")):i.id)}}},{kind:"field",key:"_getStatistics",value:function(){var t=this;return(0,g.Z)((function(i,e,n,a,d,s){if(!i.length)return[{id:"",name:t.hass.localize("ui.components.statistic-picker.no_statistics"),strings:[]}];if(e){var l=(0,k.r)(e);i=i.filter((function(t){return l.includes(t.statistics_unit_of_measurement)}))}if(n){var r=(0,k.r)(n);i=i.filter((function(t){return r.includes(t.unit_class)}))}if(a){var o=(0,k.r)(a);i=i.filter((function(i){var e=t.hass.states[i.statistic_id];return!e||o.includes(e.attributes.device_class||"")}))}var c=[];return i.forEach((function(i){if(!s||!s.includes(i.statistic_id)){var e=t.hass.states[i.statistic_id];if(e){var n=i.statistic_id,a=(0,b.Kd)(t.hass,i.statistic_id,i);c.push({id:n,name:a,state:e,strings:[n,a]})}else if(!d){var l=i.statistic_id,r=(0,b.Kd)(t.hass,i.statistic_id,i);c.push({id:l,name:r,strings:[l,r]})}}})),c.length?(c.length>1&&c.sort((function(i,e){return(0,y.$)(i.name||"",e.name||"",t.hass.locale.language)})),c.push({id:"__missing",name:t.hass.localize("ui.components.statistic-picker.missing_entity"),strings:[]}),c):[{id:"",name:t.hass.localize("ui.components.statistic-picker.no_match"),strings:[]}]}))}},{kind:"method",key:"open",value:function(){var t;null===(t=this.comboBox)||void 0===t||t.open()}},{kind:"method",key:"focus",value:function(){var t;null===(t=this.comboBox)||void 0===t||t.focus()}},{kind:"method",key:"willUpdate",value:function(t){var i=this;(!this.hasUpdated&&!this.statisticIds||t.has("statisticTypes"))&&this._getStatisticIds(),(!this._init&&this.statisticIds||t.has("_opened")&&this._opened)&&(this._init=!0,this.hasUpdated?this._statistics=this._getStatistics(this.statisticIds,this.includeStatisticsUnitOfMeasurement,this.includeUnitClass,this.includeDeviceClass,this.entitiesOnly,this.excludeStatistics):this.updateComplete.then((function(){i._statistics=i._getStatistics(i.statisticIds,i.includeStatisticsUnitOfMeasurement,i.includeUnitClass,i.includeDeviceClass,i.entitiesOnly,i.excludeStatistics)})))}},{kind:"method",key:"render",value:function(){var t;return 0===this._statistics.length?m.Ld:(0,m.dy)(s||(s=(0,o.Z)([' <ha-combo-box .hass="','" .label="','" .value="','" .renderer="','" .disabled="','" .allowCustomValue="','" .items="','" .filteredItems="','" item-value-path="id" item-id-path="id" item-label-path="name" @opened-changed="','" @value-changed="','" @filter-changed="','"></ha-combo-box> '])),this.hass,void 0===this.label&&this.hass?this.hass.localize("ui.components.statistic-picker.statistic"):this.label,this._value,this._rowRenderer,this.disabled,this.allowCustomEntity,this._statistics,null!==(t=this._filteredItems)&&void 0!==t?t:this._statistics,this._openedChanged,this._statisticChanged,this._filterChanged)}},{kind:"method",key:"_getStatisticIds",value:(e=(0,r.Z)((0,l.Z)().mark((function t(){return(0,l.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,b.uR)(this.hass,this.statisticTypes);case 2:this.statisticIds=t.sent;case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{kind:"get",key:"_value",value:function(){return this.value||""}},{kind:"method",key:"_statisticChanged",value:function(t){t.stopPropagation();var i=t.detail.value;"__missing"===i&&(i=""),i!==this._value&&this._setValue(i)}},{kind:"method",key:"_openedChanged",value:function(t){this._opened=t.detail.value}},{kind:"method",key:"_filterChanged",value:function(t){var i=t.detail.value.toLowerCase();this._filteredItems=i.length?(0,w.q)(i,this._statistics):void 0}},{kind:"method",key:"_setValue",value:function(t){var i=this;this.value=t,setTimeout((function(){(0,_.B)(i,"value-changed",{value:t}),(0,_.B)(i,"change")}),0)}}]}}),m.oi)},3555:function(t,i,e){var n,a,d,s,l=e(88962),r=e(33368),o=e(71650),c=e(82390),u=e(69205),f=e(70906),h=e(91808),p=e(34541),v=e(47838),m=e(42977),x=e(31338),g=e(68144),k=e(79932);(0,h.Z)([(0,k.Mo)("ha-textfield")],(function(t,i){var e=function(i){(0,u.Z)(n,i);var e=(0,f.Z)(n);function n(){var i;(0,o.Z)(this,n);for(var a=arguments.length,d=new Array(a),s=0;s<a;s++)d[s]=arguments[s];return i=e.call.apply(e,[this].concat(d)),t((0,c.Z)(i)),i}return(0,r.Z)(n)}(i);return{F:e,d:[{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,k.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,k.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(t){(0,p.Z)((0,v.Z)(e.prototype),"updated",this).call(this,t),(t.has("invalid")&&(this.invalid||void 0!==t.get("invalid"))||t.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),t.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),t.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),t.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1],e=i?"trailing":"leading";return(0,g.dy)(n||(n=(0,l.Z)([' <span class="mdc-text-field__icon mdc-text-field__icon--','" tabindex="','"> <slot name="','Icon"></slot> </span> '])),e,i?1:-1,e)}},{kind:"field",static:!0,key:"styles",value:function(){return[x.W,(0,g.iv)(a||(a=(0,l.Z)([".mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}"]))),"rtl"===document.dir?(0,g.iv)(d||(d=(0,l.Z)([".mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}"]))):(0,g.iv)(s||(s=(0,l.Z)([""])))]}}]}}),m.P)}}]);
//# sourceMappingURL=49671-LmsvNPraG5E.js.map