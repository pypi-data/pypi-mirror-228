"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[15950],{81545:function(e,t,n){var a,i,r=n(88962),s=n(33368),o=n(71650),l=n(82390),d=n(69205),c=n(70906),u=n(91808),h=n(34541),p=n(47838),m=(n(65666),n(68144)),y=n(79932),f=n(74265);(0,u.Z)([(0,y.Mo)("ha-button-menu")],(function(e,t){var n=function(t){(0,d.Z)(a,t);var n=(0,c.Z)(a);function a(){var t;(0,o.Z)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,l.Z)(t)),t}return(0,s.Z)(a)}(t);return{F:n,d:[{kind:"field",key:f.gA,value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,y.Cb)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,y.Cb)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,y.Cb)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,y.Cb)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,y.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return(0,m.dy)(a||(a=(0,r.Z)([' <div @click="','"> <slot name="trigger" @slotchange="','"></slot> </div> <mwc-menu .corner="','" .menuCorner="','" .fixed="','" .multi="','" .activatable="','" .y="','" .x="','"> <slot></slot> </mwc-menu> '])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(e){var t=this;(0,h.Z)((0,p.Z)(n.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((function(){t.querySelectorAll("mwc-list-item").forEach((function(e){var t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,m.iv)(i||(i=(0,r.Z)([":host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}"])))}}]}}),m.oi)},32511:function(e,t,n){var a,i=n(88962),r=n(33368),s=n(71650),o=n(82390),l=n(69205),d=n(70906),c=n(91808),u=n(58417),h=n(39274),p=n(68144),m=n(79932);(0,c.Z)([(0,m.Mo)("ha-checkbox")],(function(e,t){var n=function(t){(0,l.Z)(a,t);var n=(0,d.Z)(a);function a(){var t;(0,s.Z)(this,a);for(var i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=n.call.apply(n,[this].concat(r)),e((0,o.Z)(t)),t}return(0,r.Z)(a)}(t);return{F:n,d:[{kind:"field",static:!0,key:"styles",value:function(){return[h.W,(0,p.iv)(a||(a=(0,i.Z)([":host{--mdc-theme-secondary:var(--primary-color)}"])))]}}]}}),u.A)},46583:function(e,t,n){var a,i,r,s,o,l=n(99312),d=n(81043),c=n(88962),u=n(33368),h=n(71650),p=n(82390),m=n(69205),y=n(70906),f=n(91808),v=n(34541),k=n(47838),_=n(68144),g=n(79932),b=n(83448),x=n(47181),w=n(96151),V=(n(52039),"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z");(0,f.Z)([(0,g.Mo)("ha-expansion-panel")],(function(e,t){var n,f=function(t){(0,m.Z)(a,t);var n=(0,y.Z)(a);function a(){var t;(0,h.Z)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,p.Z)(t)),t}return(0,u.Z)(a)}(t);return{F:f,d:[{kind:"field",decorators:[(0,g.Cb)({type:Boolean,reflect:!0})],key:"expanded",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)({type:Boolean,reflect:!0})],key:"outlined",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)({type:Boolean,reflect:!0})],key:"leftChevron",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,g.Cb)()],key:"secondary",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_showContent",value:function(){return this.expanded}},{kind:"field",decorators:[(0,g.IO)(".container")],key:"_container",value:void 0},{kind:"method",key:"render",value:function(){return(0,_.dy)(a||(a=(0,c.Z)([' <div class="top ','"> <div id="summary" @click="','" @keydown="','" @focus="','" @blur="','" role="button" tabindex="0" aria-expanded="','" aria-controls="sect1"> ',' <slot name="header"> <div class="header"> ',' <slot class="secondary" name="secondary">',"</slot> </div> </slot> ",' </div> <slot name="icons"></slot> </div> <div class="container ','" @transitionend="','" role="region" aria-labelledby="summary" aria-hidden="','" tabindex="-1"> '," </div> "])),(0,b.$)({expanded:this.expanded}),this._toggleContainer,this._toggleContainer,this._focusChanged,this._focusChanged,this.expanded,this.leftChevron?(0,_.dy)(i||(i=(0,c.Z)([' <ha-svg-icon .path="','" class="summary-icon ','"></ha-svg-icon> '])),V,(0,b.$)({expanded:this.expanded})):"",this.header,this.secondary,this.leftChevron?"":(0,_.dy)(r||(r=(0,c.Z)([' <ha-svg-icon .path="','" class="summary-icon ','"></ha-svg-icon> '])),V,(0,b.$)({expanded:this.expanded})),(0,b.$)({expanded:this.expanded}),this._handleTransitionEnd,!this.expanded,this._showContent?(0,_.dy)(s||(s=(0,c.Z)(["<slot></slot>"]))):"")}},{kind:"method",key:"willUpdate",value:function(e){var t=this;(0,v.Z)((0,k.Z)(f.prototype),"willUpdate",this).call(this,e),e.has("expanded")&&this.expanded&&(this._showContent=this.expanded,setTimeout((function(){t.expanded&&(t._container.style.overflow="initial")}),300))}},{kind:"method",key:"_handleTransitionEnd",value:function(){this._container.style.removeProperty("height"),this._container.style.overflow=this.expanded?"initial":"hidden",this._showContent=this.expanded}},{kind:"method",key:"_toggleContainer",value:(n=(0,d.Z)((0,l.Z)().mark((function e(t){var n,a,i=this;return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.defaultPrevented){e.next=2;break}return e.abrupt("return");case 2:if("keydown"!==t.type||"Enter"===t.key||" "===t.key){e.next=4;break}return e.abrupt("return");case 4:if(t.preventDefault(),n=!this.expanded,(0,x.B)(this,"expanded-will-change",{expanded:n}),this._container.style.overflow="hidden",!n){e.next=12;break}return this._showContent=!0,e.next=12,(0,w.y)();case 12:a=this._container.scrollHeight,this._container.style.height="".concat(a,"px"),n||setTimeout((function(){i._container.style.height="0px"}),0),this.expanded=n,(0,x.B)(this,"expanded-changed",{expanded:this.expanded});case 17:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{kind:"method",key:"_focusChanged",value:function(e){this.shadowRoot.querySelector(".top").classList.toggle("focused","focus"===e.type)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,_.iv)(o||(o=(0,c.Z)([":host{display:block}.top{display:flex;align-items:center;border-radius:var(--ha-card-border-radius,12px)}.top.expanded{border-bottom-left-radius:0px;border-bottom-right-radius:0px}.top.focused{background:var(--input-fill-color)}:host([outlined]){box-shadow:none;border-width:1px;border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));border-radius:var(--ha-card-border-radius,12px)}.summary-icon{margin-left:8px}:host([leftchevron]) .summary-icon{margin-left:0;margin-right:8px}#summary{flex:1;display:flex;padding:var(--expansion-panel-summary-padding,0 8px);min-height:48px;align-items:center;cursor:pointer;overflow:hidden;font-weight:500;outline:0}.summary-icon{transition:transform 150ms cubic-bezier(.4,0,.2,1);direction:var(--direction)}.summary-icon.expanded{transform:rotate(180deg)}.header,::slotted([slot=header]){flex:1}.container{padding:var(--expansion-panel-content-padding,0 8px);overflow:hidden;transition:height .3s cubic-bezier(.4,0,.2,1);height:0px}.container.expanded{height:auto}.secondary{display:block;color:var(--secondary-text-color);font-size:12px}"])))}}]}}),_.oi)},15950:function(e,t,n){n.r(t),n.d(t,{HaPanelAisTts:function(){return F}});var a,i,r,s,o,l,d,c,u,h,p,m,y,f,v,k,_,g,b,x,w,V,Z=n(99312),I=n(81043),C=n(88962),z=n(33368),S=n(71650),A=n(82390),L=n(69205),T=n(70906),B=n(91808),H=n(34541),M=n(47838),P=(n(32460),n(27289),n(12730),n(10983),n(25782),n(53973),n(89194),n(51095),n(13529),n(44577),n(14095),n(81545),n(22098),n(48932),n(92197),n(46583),n(32511),n(68144)),E=n(79932),R=n(18848),j=n(34990),D=function(e,t,n){return e.callWS(Object.assign({type:"aistts/items/update",item_id:t},n))},N=n(26765),U=n(83849),O=n(11654),G=[],W=[{key:"jola",name:"Jola",lang:"pl_PL"},{key:"celina",name:"Celina",lang:"pl_PL"},{key:"anżela",name:"Anżela",lang:"pl_PL"},{key:"asia",name:"Asia",lang:"pl_PL"},{key:"sebastian",name:"Sebastian",lang:"pl_PL"},{key:"bartek",name:"Bartek",lang:"pl_PL"},{key:"andrzej",name:"Andrzej",lang:"pl_PL"},{key:"mariya",name:"Mariya",lang:"uk_UA"},{key:"allison",name:"Allison",lang:"en_GB"},{key:"jon",name:"Jon",lang:"en_GB"},{key:"sophia",name:"Sophia",lang:"en_GB"},{key:"sam",name:"Sam",lang:"en_GB"}],F=(0,B.Z)([(0,E.Mo)("ha-panel-aistts")],(function(e,t){var B,F,q,$,J=function(t){(0,L.Z)(a,t);var n=(0,T.Z)(a);function a(){var t;(0,S.Z)(this,a);for(var i=arguments.length,r=new Array(i),s=0;s<i;s++)r[s]=arguments[s];return t=n.call.apply(n,[this].concat(r)),e((0,A.Z)(t)),t}return(0,z.Z)(a)}(t);return{F:J,d:[{kind:"field",decorators:[(0,E.Cb)()],key:"hass",value:void 0},{kind:"field",decorators:[(0,E.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,E.Cb)()],key:"_uncheckedItems",value:void 0},{kind:"field",decorators:[(0,E.Cb)()],key:"_checkedItems",value:void 0},{kind:"field",decorators:[(0,E.Cb)()],key:"_textValue",value:function(){return""}},{kind:"field",decorators:[(0,E.Cb)()],key:"_selectedLanguage",value:function(){return"pl_PL"}},{kind:"field",decorators:[(0,E.Cb)()],key:"_selectedVoice",value:function(){return"pl-pl-x-oda-local"}},{kind:"field",decorators:[(0,E.Cb)()],key:"_speedValue",value:function(){return 1}},{kind:"field",decorators:[(0,E.Cb)()],key:"_pitchValue",value:function(){return 1}},{kind:"field",decorators:[(0,E.Cb)()],key:"_delayValue",value:function(){return 0}},{kind:"field",decorators:[(0,E.Cb)()],key:"_counterValue",value:function(){return 0}},{kind:"field",decorators:[(0,E.Cb)()],key:"_play_counting",value:function(){return!1}},{kind:"field",decorators:[(0,E.Cb)()],key:"_fileNameValue",value:function(){return""}},{kind:"field",decorators:[(0,E.Cb)()],key:"_reordering",value:function(){return!1}},{kind:"field",decorators:[(0,E.Cb)()],key:"_renderEmptySortable",value:function(){return!1}},{kind:"field",key:"_sortable",value:void 0},{kind:"field",decorators:[(0,E.IO)("#sortable-tts",!0)],key:"_sortableEl",value:void 0},{kind:"method",key:"firstUpdated",value:function(e){(0,H.Z)((0,M.Z)(J.prototype),"firstUpdated",this).call(this,e),this.hass.user.is_admin&&(this.hassSubscribeListUpdate(),this.hassSubscribeSayText()),this._fetchData()}},{kind:"method",key:"render",value:function(){var e=this;return(0,P.dy)(a||(a=(0,C.Z)([' <ha-app-layout> <app-header slot="header" fixed> <app-toolbar> <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> <div main-title>TTS Ręczny</div> <ha-icon-button label="Dodaj" icon="hass:music-box-multiple-outline" @click="','"></ha-icon-button> </app-toolbar> </app-header> <div class="content"> <ha-card> <paper-radio-group name="selectedLanguage" .selected="','" @selected-changed="','"> <paper-radio-button name="pl_PL" lang="pl_PL" .disabled="','"> <img style="width:50px" src="/static/ais_dom/Flag_of_Poland.svg"> Polski </paper-radio-button> <paper-radio-button name="en_GB" lang="en_GB" .disabled="','"> <img style="width:50px" src="/static/ais_dom/Flag_of_the_United_Kingdom.svg"> English </paper-radio-button> <paper-radio-button name="uk_UA" lang="uk_UA" .disabled="','"> <img style="width:50px" src="/static/ais_dom/Flag_of_Ukraine.svg"> Український </paper-radio-button> </paper-radio-group> <paper-icon-item> <paper-item-body> <paper-textarea class="addBox" label="Tekst do przeczytania" placeholder="wpisz nowy tekst do przeczytania" name="description" maxRows="1" .disabled="','" .value="','" @change="','"></paper-textarea> ',' <div class="AisTtsDelay"> <div class="AisTtsDelayItems"> <paper-input class="AisTtsDelayInput" label="Opóźnienie wysłania komunikatu w sekundach" placeholder="0" type="number" min="0" max="99" .value="','" step="1" @change="','" .disabled="','"></paper-input> </div> </div> <div class="AisButtons"> ',' <ha-icon-button slot="item-icon" icon="hass:play" @click="','" .disabled="','"></ha-icon-button> <ha-icon-button slot="item-icon" icon="hass:stop" @click="','"></ha-icon-button> '," <span> </span> </div> </paper-item-body> </paper-icon-item> </ha-card> "," "," </div> </ha-app-layout> "])),this.hass,this.narrow,this._showBrowseMedia,this._selectedLanguage,this._setLanguage,this._play_counting,this._play_counting,this._play_counting,this._play_counting,this._textValue,this._textValueChanged,this.hass.user.is_admin?(0,P.dy)(i||(i=(0,C.Z)([' <div class="AisTtsLang"> <mwc-select label="Głos" style="margin-left:30px;width:250px" .disabled="','" attr-for-selected="voice" .value="','" @selected="','"> ',' </mwc-select> <label class="label-is-floating" style="font-size:12px;color:var(--primary-color)">Prędkość</label> <ha-slider editable pin step="0.1" min="0.3" max="4" .value="','" @change="','" .disabled="','"></ha-slider> <label class="label-is-floating" style="margin-left:30px;font-size:12px;color:var(--primary-color)">Ton</label> <ha-slider editable pin step="0.1" min="0.3" max="4" .value="','" @change="','" .disabled="','"></ha-slider> </div> <paper-input label="Nazwa pliku" placeholder="jeśli podasz nazwę pliku to zapiszemy go pod tą nazwą w bibliotece na dysku" type="text" .value="','" @change="','" maxRows="1" .disabled="','"></paper-input> '])),this._play_counting,this._selectedVoice,this._setVoice,G.map((function(e){return(0,P.dy)(r||(r=(0,C.Z)([' <mwc-list-item value="','">',"</mwc-list-item> "])),e.key,e.key)})),Number(this._speedValue),this._speedValueChanged,this._play_counting,Number(this._pitchValue),this._pitchValueChanged,this._play_counting,this._fileNameValue,this._fileNameValueChanged,this._play_counting):"",this._delayValue,this._delayValueChanged,this._play_counting,Number(this._counterValue)>0?(0,P.dy)(s||(s=(0,C.Z)([' <mwc-button name="Opóźnienie" style="margin-top:6px"> Opóźnienie: '," </mwc-button>"])),this._counterValue):(0,P.dy)(o||(o=(0,C.Z)([""]))),this._playItem,this._play_counting,this._stopPlayItem,this.hass.user.is_admin?(0,P.dy)(l||(l=(0,C.Z)([' <ha-icon-button slot="item-icon" icon="hass:plus" @click="','" .disabled="','"></ha-icon-button> '])),this._addItem,this._play_counting):"",this.hass.user.is_admin?(0,P.dy)(d||(d=(0,C.Z)([' <div class="tip"> Wpisz tekst, wybierz język i parametry, a następnie kliknij „Play”, aby usłyszeć czytany tekst.<br>Żeby dodać pozycję do listy naciśnij "Plus". </div> ']))):(0,P.dy)(c||(c=(0,C.Z)([' <div class="tip"> Wpisz tekst a następnie kliknij „Play”, aby usłyszeć czytany tekst.<br> Możesz też dodać opóźnienie i wybrać tekst z listy. </div> ']))),this._play_counting?(0,P.dy)(y||(y=(0,C.Z)([" "]))):(0,P.dy)(u||(u=(0,C.Z)(["<ha-card> "," "," </ha-card>"])),this._reordering?(0,P.dy)(h||(h=(0,C.Z)([" "," "])),(0,j.l)([this._uncheckedItems,this._renderEmptySortable],(function(){return e._renderEmptySortable?"":e._renderItems(e._uncheckedItems)}))):this._renderItems(this._uncheckedItems),this._checkedItems&&this._checkedItems.length>0?(0,P.dy)(p||(p=(0,C.Z)([' <div class="divider"></div> <div class="checked"> <span> Pozycje zaznaczone </span> <ha-icon class="clearall" tabindex="0" icon="hass:delete" title="Usuń zaznaczone" @click="','"> </ha-icon> </div> '," "])),this._clearItems,(0,R.r)(this._checkedItems,(function(e){return e.id}),(function(t){return(0,P.dy)(m||(m=(0,C.Z)([' <div class="editRow"> <ha-checkbox tabindex="0" ?checked="','" .itemId="','" @click="','"></ha-checkbox> <paper-input no-label-float .value="','" .itemId="','" @change="','"></paper-input> </div> '])),t.complete,t.id,e._completeItem,t.name,t.id,e._saveEdit)}))):""))}},{kind:"method",key:"_showBrowseMedia",value:function(){(0,U.c)("/media-browser")}},{kind:"method",key:"hassSubscribeListUpdate",value:function(){var e=this;return this._fetchData(),[this.hass.connection.subscribeEvents((function(){return e._fetchData()}),"aistts_list_updated")]}},{kind:"method",key:"hassSubscribeSayText",value:function(){var e=this;return this._fetchData(),[this.hass.connection.subscribeEvents((function(){return e._playItem("")}),"aistts_play_item")]}},{kind:"method",key:"_renderItems",value:function(e){var t=this;return void 0===e?(0,P.dy)(f||(f=(0,C.Z)([" "]))):(0,P.dy)(v||(v=(0,C.Z)([" ",' <div class="checked"> <span> Dostępne pozycje </span> </div> <div id="sortable-tts"> '," </div>"])),this.hass.user.is_admin?(0,P.dy)(k||(k=(0,C.Z)(['<div class="AisButtons"> <ha-icon-button slot="item-icon" icon="hass:sort" @click="','"></ha-icon-button> </div> <div class="divider"></div>'])),this._toggleReorder):(0,P.dy)(_||(_=(0,C.Z)([" "]))),(0,R.r)(this._uncheckedItems,(function(e){return e.id}),(function(e){return(0,P.dy)(g||(g=(0,C.Z)([' <div class="editRow" tts-item-id="','"> ',' <paper-input no-label-float .value="','" .itemId="','" .disabled="','" @change="','"></paper-input> <ha-icon-button slot="item-icon" icon="hass:play" .item="','" @click="','"></ha-icon-button> '," </div> "])),e.id,t.hass.user.is_admin?(0,P.dy)(b||(b=(0,C.Z)([' <ha-expansion-panel> <div class="ItemInfo"> <span class="ItemInfoLabel">Język</span><span class="ItemInfoValue">','</span> <span class="ItemInfoLabel">Prędkość</span><span class="ItemInfoValue">','</span> <span class="ItemInfoLabel">Ton</span><span class="ItemInfoValue">','</span> <span class="ItemInfoLabel">Głos</span><span class="ItemInfoValue">','</span> </div> <div> <span class="ItemInfoLabel">GET Request: </span> ',' </div> </ha-expansion-panel> <ha-checkbox tabindex="0" ?checked="','" .itemId="','" @click="','"></ha-checkbox> '])),e.language,e.pitch,e.rate,e.voice,t._getItemRow(e,!1),e.complete,e.id,t._completeItem):"",e.name,e.id,!t.hass.user.is_admin,t._saveEdit,e,t._playItemRow,t._reordering?(0,P.dy)(x||(x=(0,C.Z)([' <ha-svg-icon title="Reorder" class="reorderButton" .path="','"> </ha-svg-icon> '])),"M7,19V17H9V19H7M11,19V17H13V19H11M15,19V17H17V19H15M7,15V13H9V15H7M11,15V13H13V15H11M15,15V13H17V15H15M7,11V9H9V11H7M11,11V9H13V11H11M15,11V9H17V11H15M7,7V5H9V7H7M11,7V5H13V7H11M15,7V5H17V7H15Z"):"")})))}},{kind:"method",key:"_fetchData",value:($=(0,I.Z)((0,Z.Z)().mark((function e(){var t,n,a,i;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.hass){e.next=2;break}return e.abrupt("return");case 2:return t=[],n=[],e.next=6,this.hass.callWS({type:"aistts/items"});case 6:for(i in a=e.sent)a[i].complete?t.push(a[i]):n.push(a[i]);this._checkedItems=t,this._uncheckedItems=n,this._reordering&&this._createSortable();case 11:case"end":return e.stop()}}),e,this)}))),function(){return $.apply(this,arguments)})},{kind:"method",key:"_completeItem",value:function(e){var t=this;D(this.hass,e.target.itemId,{complete:e.target.checked}).catch((function(){return t._fetchData()}))}},{kind:"method",key:"_saveEdit",value:function(e){var t=this;D(this.hass,e.target.itemId,{name:e.target.value}).catch((function(){return t._fetchData()})),e.target.blur()}},{kind:"method",key:"_clearItems",value:function(){var e=this;(0,N.g7)(this,{text:"Zaznaczone pozycje zostaną trwale usunięte. Czy jesteś pewny?",dismissText:"Anuluj",confirmText:"Tak potwierdzam",confirm:function(){var t;(t=e.hass,t.callWS({type:"aistts/items/clear"})).catch((function(){return e._fetchData()}))}})}},{kind:"get",key:"_newItem",value:function(){return this.shadowRoot.querySelector(".addBox")}},{kind:"method",key:"_updateCounterAndPlay",value:function(e){var t=this;this._counterValue-=1,this._counterValue>0&&this._play_counting?setTimeout((function(){return t._updateCounterAndPlay(e)}),1e3):this._play_counting&&(this._play_counting=!1,this.hass.callService("ais_ai_service","say_it",{text:e,pitch:this._pitchValue,rate:this._speedValue,language:this._selectedLanguage,voice:this._selectedVoice,path:this._fileNameValue}))}},{kind:"method",key:"_playItem",value:function(e){var t=this._newItem.value;null==t||0===t.length?(t="Wpisz tekst do przeczytania",this.hass.callService("ais_ai_service","say_it",{text:t})):(this._counterValue=this._delayValue,this._play_counting=!0,this._updateCounterAndPlay(t))}},{kind:"method",key:"_stopPlayItem",value:function(e){this._play_counting=!1,this._counterValue=0,this.hass.callService("ais_tts","stop_talking",{mode:"manual"})}},{kind:"method",key:"_getItemRow",value:function(e,t){var n="http://"+this.hass.states["sensor.internal_ip_address"].state.trim()+":8122/text_to_speech?language="+e.language+"&voice="+e.voice+"&rate="+e.rate+"&pitch="+e.pitch+"&text="+e.name;return t?encodeURI(n):n}},{kind:"method",key:"_playItemRow",value:function(e){this._fileNameValue="",this._counterValue=this._delayValue,this._pitchValue=e.target.item.pitch,this._speedValue=e.target.item.rate,this._selectedLanguage=e.target.item.language,this._play_counting=!0;var t=e.target.item.name;this._textValue=t;var n=e.target.item.voice,a=this;setTimeout((function(){a._selectedVoice=n,a._updateCounterAndPlay(t)}),500)}},{kind:"method",key:"_addItem",value:function(e){var t,n,a,i,r,s,o=this,l=this._newItem;l.value.trim().length>0&&(t=this.hass,n=l.value,a=String(this._pitchValue),i=String(this._speedValue),r=this._selectedLanguage,s=this._selectedVoice,t.callWS({type:"aistts/items/add",name:n,pitch:a,rate:i,language:r,voice:s})).catch((function(){return o._fetchData()})),l.value="",e&&l.focus()}},{kind:"method",key:"_toggleReorder",value:(q=(0,I.Z)((0,Z.Z)().mark((function e(){var t,a;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(V){e.next=5;break}return e.next=3,n.e(56087).then(n.bind(n,56087));case 3:t=e.sent,V=t.Sortable;case 5:return this._reordering=!this._reordering,e.next=8,this.updateComplete;case 8:this._reordering?this._createSortable():(null===(a=this._sortable)||void 0===a||a.destroy(),this._sortable=void 0);case 9:case"end":return e.stop()}}),e,this)}))),function(){return q.apply(this,arguments)})},{kind:"method",key:"_createSortable",value:function(){var e,t=this;this.hass.user.is_admin&&(this._sortable=new V(this.shadowRoot.getElementById("sortable-tts"),{animation:150,fallbackClass:"sortable-fallback",dataIdAttr:"tts-item-id",handle:"ha-svg-icon",onSort:(e=(0,I.Z)((0,Z.Z)().mark((function e(n){var a;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=t.hass,r=t._sortable.toArray(),i.callWS({type:"aistts/items/reorder",item_ids:r})).catch((function(){return t._fetchData()})),t._uncheckedItems.splice(n.newIndex,0,t._uncheckedItems.splice(n.oldIndex,1)[0]),t._renderEmptySortable=!0,e.next=5,t.updateComplete;case 5:for(;null!==(a=t._sortableEl)&&void 0!==a&&a.lastElementChild;)t._sortableEl.removeChild(t._sortableEl.lastElementChild);t._renderEmptySortable=!1;case 7:case"end":return e.stop()}var i,r}),e)}))),function(t){return e.apply(this,arguments)})}))}},{kind:"method",key:"_loadVoices",value:function(e){G=W.filter((function(t){return t.lang===e})),this._selectedVoice=G[0].key}},{kind:"method",key:"_setLanguage",value:(F=(0,I.Z)((0,Z.Z)().mark((function e(t){var n;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.detail.value,this._selectedLanguage=n,this._loadVoices(n);case 3:case"end":return e.stop()}}),e,this)}))),function(e){return F.apply(this,arguments)})},{kind:"method",key:"_setVoice",value:(B=(0,I.Z)((0,Z.Z)().mark((function e(t){var n;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.detail.item.getAttribute("voice"),this._selectedVoice=n;case 2:case"end":return e.stop()}}),e,this)}))),function(e){return B.apply(this,arguments)})},{kind:"method",key:"_textValueChanged",value:function(e){var t=e.target.value;this._textValue=t}},{kind:"method",key:"_speedValueChanged",value:function(e){var t=e.target.value;this._speedValue=t}},{kind:"method",key:"_pitchValueChanged",value:function(e){var t=e.target.value;this._pitchValue=t}},{kind:"method",key:"_delayValueChanged",value:function(e){var t=e.target.value;this._delayValue=t,this._counterValue=t}},{kind:"method",key:"_fileNameValueChanged",value:function(e){var t=e.target.value;this._fileNameValue=t}},{kind:"get",static:!0,key:"styles",value:function(){return[O.Qx,(0,P.iv)(w||(w=(0,C.Z)(["ha-card{padding:16px}.has-header{padding-top:0}.addRow,.checked,.editRow{display:flex;flex-direction:row;align-items:center}.addRow ha-icon{color:var(--secondary-text-color);--mdc-icon-size:26px}.addButton{padding-right:16px;cursor:pointer}ha-checkbox{padding-left:4px;padding-right:20px;--ha-checkbox-label-spacing:0px}paper-input{flex-grow:1}.checked{margin:12px 0;justify-content:space-between}.checked span{color:var(--primary-color)}.divider{height:1px;background-color:var(--divider-color);margin:10px 0}.clearall{cursor:pointer}:host{height:100%}app-toolbar paper-listbox{width:150px}app-toolbar paper-item{cursor:pointer}.content{padding-bottom:32px;max-width:96%;margin:0 auto}paper-icon-item{border-top:1px solid var(--divider-color)}paper-icon-item:first-child{border-top:0}ha-checkbox{padding:11px}paper-input{--paper-input-container-underline:{display:none};--paper-input-container-underline-focus:{display:none};position:relative;top:1px}.tip{padding:24px;text-align:center;color:var(--secondary-text-color)}.AisTtsLang{display:flex}.AisTtsDelay{display:flex;align-items:flex-end;justify-content:flex-end}.AisTtsDelayItems{width:16em}div.AisButtons{float:right;text-align:right;display:ruby}div.ItemInfo{font-size:12px}span.ItemInfoLabel{margin-right:6px;color:var(--primary-color)}ha-expansion-panel{width:3em;height:1em}ha-expansion-panel[expanded]{width:50%;height:10em}"])))]}}]}}),P.oi)},92197:function(e,t,n){var a,i=n(71650),r=n(33368),s=n(34541),o=n(47838),l=n(69205),d=n(70906),c=(n(70588),customElements.get("paper-slider")),u=function(e){(0,l.Z)(n,e);var t=(0,d.Z)(n);function n(){return(0,i.Z)(this,n),t.apply(this,arguments)}return(0,r.Z)(n,[{key:"_setImmediateValue",value:function(e){(0,s.Z)((0,o.Z)(n.prototype),"_setImmediateValue",this).call(this,this.step>=1?Math.round(e):Math.round(100*e)/100)}},{key:"_calcStep",value:function(e){if(!this.step)return parseFloat(e);var t=Math.round((e-this.min)/this.step),n=this.step.toString(),a=n.indexOf(".");if(-1!==a){var i=Math.pow(10,n.length-a-1);return Math.round((t*this.step+this.min)*i)/i}return t*this.step+this.min}}],[{key:"template",get:function(){a||(a=c.template.cloneNode(!0)).content.querySelector("style").appendChild(document.createTextNode('\n          :host([dir="rtl"]) #sliderContainer.pin.expand > .slider-knob > .slider-knob-inner::after {\n            -webkit-transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            transform: scale(1) translate(0, -17px) scaleX(-1) !important;\n            }\n\n            .pin > .slider-knob > .slider-knob-inner {\n              font-size:  var(--ha-slider-pin-font-size, 15px);\n              line-height: normal;\n              cursor: pointer;\n            }\n\n            .disabled.ring > .slider-knob > .slider-knob-inner {\n              background-color: var(--paper-slider-disabled-knob-color, var(--disabled-text-color));\n              border: 2px solid var(--paper-slider-disabled-knob-color, var(--disabled-text-color));\n            }\n\n            .pin > .slider-knob > .slider-knob-inner::before {\n              top: unset;\n              margin-left: unset;\n\n              bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n              left: 50%;\n              width: 2.6em;\n              height: 2.6em;\n\n              -webkit-transform-origin: left bottom;\n              transform-origin: left bottom;\n              -webkit-transform: rotate(-45deg) scale(0) translate(0);\n              transform: rotate(-45deg) scale(0) translate(0);\n            }\n\n            .pin.expand > .slider-knob > .slider-knob-inner::before {\n              -webkit-transform: rotate(-45deg) scale(1) translate(7px, -7px);\n              transform: rotate(-45deg) scale(1) translate(7px, -7px);\n            }\n\n            .pin > .slider-knob > .slider-knob-inner::after {\n              top: unset;\n              font-size: unset;\n\n              bottom: calc(15px + var(--calculated-paper-slider-height)/2);\n              left: 50%;\n              margin-left: -1.3em;\n              width: 2.6em;\n              height: 2.5em;\n\n              -webkit-transform-origin: center bottom;\n              transform-origin: center bottom;\n              -webkit-transform: scale(0) translate(0);\n              transform: scale(0) translate(0);\n            }\n\n            .pin.expand > .slider-knob > .slider-knob-inner::after {\n              -webkit-transform: scale(1) translate(0, -10px);\n              transform: scale(1) translate(0, -10px);\n            }\n\n            .slider-input {\n              width: 54px;\n            }\n        '));return a}}]),n}(c);customElements.define("ha-slider",u)}}]);
//# sourceMappingURL=15950-EjbhPxcxIrQ.js.map