"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[57935],{12133:function(a,o,e){e.r(o),e.d(o,{DialogHassioBackupUpload:function(){return v}});var r,t,n=e(88962),i=e(99312),l=e(81043),d=e(33368),c=e(71650),s=e(82390),u=e(69205),h=e(70906),g=e(91808),p=e(68144),k=e(79932),b=e(47181),f=(e(90806),e(10983),e(11654)),v=(e(36369),(0,g.Z)([(0,k.Mo)("dialog-hassio-backup-upload")],(function(a,o){var e,g=function(o){(0,u.Z)(r,o);var e=(0,h.Z)(r);function r(){var o;(0,c.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=e.call.apply(e,[this].concat(n)),a((0,s.Z)(o)),o}return(0,d.Z)(r)}(o);return{F:g,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_dialogParams",value:void 0},{kind:"method",key:"showDialog",value:(e=(0,l.Z)((0,i.Z)().mark((function a(o){return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return this._dialogParams=o,a.next=3,this.updateComplete;case 3:case"end":return a.stop()}}),a,this)}))),function(a){return e.apply(this,arguments)})},{kind:"method",key:"closeDialog",value:function(){this._dialogParams&&!this._dialogParams.onboarding&&this._dialogParams.reloadBackup&&this._dialogParams.reloadBackup(),this._dialogParams=void 0,(0,b.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){var a,o,e;return this._dialogParams?(0,p.dy)(r||(r=(0,n.Z)([' <ha-dialog open scrimClickAction escapeKeyAction hideActions .heading="','" @closed="','"> <div slot="heading"> <ha-header-bar> <span slot="title">','</span> <ha-icon-button .label="','" .path="','" slot="actionItems" dialogAction="cancel" dialogInitialFocus></ha-icon-button> </ha-header-bar> </div> <hassio-upload-backup @backup-uploaded="','" .hass="','"></hassio-upload-backup> </ha-dialog> '])),(null===(a=this.hass)||void 0===a?void 0:a.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",this.closeDialog,(null===(o=this.hass)||void 0===o?void 0:o.localize("ui.panel.page-onboarding.restore.upload_backup"))||"Upload backup",(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.close"))||"Close","M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z",this._backupUploaded,this.hass):p.Ld}},{kind:"method",key:"_backupUploaded",value:function(a){var o,e=a.detail.backup;null===(o=this._dialogParams)||void 0===o||o.showBackup(e.slug),this.closeDialog()}},{kind:"get",static:!0,key:"styles",value:function(){return[f.yu,(0,p.iv)(t||(t=(0,n.Z)(["ha-header-bar{--mdc-theme-on-primary:var(--primary-text-color);--mdc-theme-primary:var(--mdc-theme-surface);flex-shrink:0}@media all and (max-width:450px),all and (max-height:500px){ha-header-bar{--mdc-theme-primary:var(--app-header-background-color);--mdc-theme-on-primary:var(--app-header-text-color, white)}}"])))]}}]}}),p.oi))},54736:function(a,o,e){var r,t,n=e(88962),i=e(33368),l=e(71650),d=e(82390),c=e(69205),s=e(70906),u=e(91808),h=e(68144),g=e(79932);(0,u.Z)([(0,g.Mo)("ha-ansi-to-html")],(function(a,o){var e=function(o){(0,c.Z)(r,o);var e=(0,s.Z)(r);function r(){var o;(0,l.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=e.call.apply(e,[this].concat(n)),a((0,d.Z)(o)),o}return(0,i.Z)(r)}(o);return{F:e,d:[{kind:"field",decorators:[(0,g.Cb)()],key:"content",value:void 0},{kind:"method",key:"render",value:function(){return(0,h.dy)(r||(r=(0,n.Z)(["",""])),this._parseTextToColoredPre(this.content))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(t||(t=(0,n.Z)(["pre{overflow-x:auto;white-space:pre-wrap;overflow-wrap:break-word}.bold{font-weight:700}.italic{font-style:italic}.underline{text-decoration:underline}.strikethrough{text-decoration:line-through}.underline.strikethrough{text-decoration:underline line-through}.fg-red{color:var(--error-color)}.fg-green{color:var(--success-color)}.fg-yellow{color:var(--warning-color)}.fg-blue{color:var(--info-color)}.fg-magenta{color:#762671}.fg-cyan{color:#2cb5e9}.fg-white{color:#ccc}.bg-black{background-color:#000}.bg-red{background-color:var(--error-color)}.bg-green{background-color:var(--success-color)}.bg-yellow{background-color:var(--warning-color)}.bg-blue{background-color:var(--info-color)}.bg-magenta{background-color:#762671}.bg-cyan{background-color:#2cb5e9}.bg-white{background-color:#ccc}"])))}},{kind:"method",key:"_parseTextToColoredPre",value:function(a){for(var o,e=document.createElement("pre"),r=/\033(?:\[(.*?)[@-~]|\].*?(?:\007|\033\\))/g,t=0,n={bold:!1,italic:!1,underline:!1,strikethrough:!1,foregroundColor:null,backgroundColor:null},i=function(a){var o=document.createElement("span");n.bold&&o.classList.add("bold"),n.italic&&o.classList.add("italic"),n.underline&&o.classList.add("underline"),n.strikethrough&&o.classList.add("strikethrough"),null!==n.foregroundColor&&o.classList.add("fg-".concat(n.foregroundColor)),null!==n.backgroundColor&&o.classList.add("bg-".concat(n.backgroundColor)),o.appendChild(document.createTextNode(a)),e.appendChild(o)};null!==(o=r.exec(a));){var l=o.index;i(a.substring(t,l)),t=l+o[0].length,void 0!==o[1]&&o[1].split(";").forEach((function(a){switch(parseInt(a,10)){case 0:n.bold=!1,n.italic=!1,n.underline=!1,n.strikethrough=!1,n.foregroundColor=null,n.backgroundColor=null;break;case 1:n.bold=!0;break;case 3:n.italic=!0;break;case 4:n.underline=!0;break;case 9:n.strikethrough=!0;break;case 22:n.bold=!1;break;case 23:n.italic=!1;break;case 24:n.underline=!1;break;case 29:n.strikethrough=!1;break;case 30:case 39:n.foregroundColor=null;break;case 31:n.foregroundColor="red";break;case 32:n.foregroundColor="green";break;case 33:n.foregroundColor="yellow";break;case 34:n.foregroundColor="blue";break;case 35:n.foregroundColor="magenta";break;case 36:n.foregroundColor="cyan";break;case 37:n.foregroundColor="white";break;case 40:n.backgroundColor="black";break;case 41:n.backgroundColor="red";break;case 42:n.backgroundColor="green";break;case 43:n.backgroundColor="yellow";break;case 44:n.backgroundColor="blue";break;case 45:n.backgroundColor="magenta";break;case 46:n.backgroundColor="cyan";break;case 47:n.backgroundColor="white";break;case 49:n.backgroundColor=null}}))}return i(a.substring(t)),e}}]}}),h.oi)},22098:function(a,o,e){var r,t,n,i=e(88962),l=e(33368),d=e(71650),c=e(82390),s=e(69205),u=e(70906),h=e(91808),g=e(68144),p=e(79932);(0,h.Z)([(0,p.Mo)("ha-card")],(function(a,o){var e=function(o){(0,s.Z)(r,o);var e=(0,u.Z)(r);function r(){var o;(0,d.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=e.call.apply(e,[this].concat(n)),a((0,c.Z)(o)),o}return(0,l.Z)(r)}(o);return{F:e,d:[{kind:"field",decorators:[(0,p.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.iv)(r||(r=(0,i.Z)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family,inherit);font-size:var(--ha-card-header-font-size,24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}"])))}},{kind:"method",key:"render",value:function(){return(0,g.dy)(t||(t=(0,i.Z)([" "," <slot></slot> "])),this.header?(0,g.dy)(n||(n=(0,i.Z)(['<h1 class="card-header">',"</h1>"])),this.header):g.Ld)}}]}}),g.oi)},57935:function(a,o,e){e.r(o);var r,t,n,i=e(99312),l=e(81043),d=e(88962),c=e(33368),s=e(71650),u=e(82390),h=e(69205),g=e(70906),p=e(91808),k=e(34541),b=e(47838),f=(e(53918),e(68144)),v=e(79932),m=e(47181),y=(e(12133),e(22098),e(54736),e(76307)),x=e(74265),w=e(69431),Z=e(11654);e(38544),(0,p.Z)([(0,v.Mo)("onboarding-restore-backup")],(function(a,o){var p,w=function(o){(0,h.Z)(r,o);var e=(0,g.Z)(r);function r(){var o;(0,s.Z)(this,r);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return o=e.call.apply(e,[this].concat(n)),a((0,u.Z)(o)),o}return(0,c.Z)(r)}(o);return{F:w,d:[{kind:"field",decorators:[(0,v.Cb)()],key:"localize",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"language",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"restoring",value:function(){return!1}},{kind:"method",key:"render",value:function(){return this.restoring?(0,f.dy)(r||(r=(0,d.Z)(['<ha-card .header="','"> <onboarding-loading></onboarding-loading> </ha-card>'])),this.localize("ui.panel.page-onboarding.restore.in_progress")):(0,f.dy)(t||(t=(0,d.Z)([' <button class="link" @click="','"> '," </button> "])),this._uploadBackup,this.localize("ui.panel.page-onboarding.restore.description"))}},{kind:"method",key:"_uploadBackup",value:function(){var a,o,r=this;a=this,o={showBackup:function(a){return r._showBackupDialog(a)},onboarding:!0},(0,m.B)(a,"show-dialog",{dialogTag:"dialog-hassio-backup-upload",dialogImport:function(){return Promise.resolve().then(e.bind(e,12133))},dialogParams:o})}},{kind:"method",key:"firstUpdated",value:function(a){var o=this;(0,k.Z)((0,b.Z)(w.prototype),"firstUpdated",this).call(this,a),(0,x.lD)(this,this.shadowRoot),setInterval((function(){return o._checkRestoreStatus()}),1e3)}},{kind:"method",key:"_checkRestoreStatus",value:(p=(0,l.Z)((0,i.Z)().mark((function a(){return(0,i.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!this.restoring){a.next=9;break}return a.prev=1,a.next=4,(0,y.Dq)();case 4:a.next=9;break;case 6:a.prev=6,a.t0=a.catch(1),"unauthorized"===a.t0.message&&window.location.replace("/");case 9:case"end":return a.stop()}}),a,this,[[1,6]])}))),function(){return p.apply(this,arguments)})},{kind:"method",key:"_showBackupDialog",value:function(a){var o,r;o=this,r={slug:a,onboarding:!0,localize:this.localize},(0,m.B)(o,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:function(){return Promise.all([e.e(79071),e.e(63436),e.e(99608),e.e(28597),e.e(65666),e.e(41985),e.e(23254),e.e(70632),e.e(52154),e.e(50795),e.e(41638)]).then(e.bind(e,41638))},dialogParams:r})}},{kind:"get",static:!0,key:"styles",value:function(){return[Z.Qx,(0,f.iv)(n||(n=(0,d.Z)([".logentry{text-align:center}ha-card{padding:4px;margin-top:8px}ha-ansi-to-html{display:block;line-height:22px;padding:0 8px;white-space:pre-wrap}@media all and (min-width:600px){ha-card{width:600px;margin-left:-100px}}"])))]}}]}}),(0,w.q)(f.oi))}}]);
//# sourceMappingURL=57935-0H8-qPHm0aA.js.map