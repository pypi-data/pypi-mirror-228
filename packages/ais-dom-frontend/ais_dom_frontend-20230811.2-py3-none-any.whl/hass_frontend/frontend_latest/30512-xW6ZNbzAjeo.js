export const id=30512;export const ids=[30512];export const modules={18601:(i,e,a)=>{a.d(e,{Wg:()=>d,qN:()=>r.q});var t,s,o=a(43204),n=a(79932),r=a(78220);const l=null!==(s=null===(t=window.ShadyDOM)||void 0===t?void 0:t.inUse)&&void 0!==s&&s;class d extends r.H{constructor(){super(...arguments),this.disabled=!1,this.containingForm=null,this.formDataListener=i=>{this.disabled||this.setFormData(i.formData)}}findFormElement(){if(!this.shadowRoot||l)return null;const i=this.getRootNode().querySelectorAll("form");for(const e of Array.from(i))if(e.contains(this))return e;return null}connectedCallback(){var i;super.connectedCallback(),this.containingForm=this.findFormElement(),null===(i=this.containingForm)||void 0===i||i.addEventListener("formdata",this.formDataListener)}disconnectedCallback(){var i;super.disconnectedCallback(),null===(i=this.containingForm)||void 0===i||i.removeEventListener("formdata",this.formDataListener),this.containingForm=null}click(){this.formElement&&!this.disabled&&(this.formElement.focus(),this.formElement.click())}firstUpdated(){super.firstUpdated(),this.shadowRoot&&this.mdcRoot.addEventListener("change",(i=>{this.dispatchEvent(new Event("change",i))}))}}d.shadowRootOptions={mode:"open",delegatesFocus:!0},(0,o.__decorate)([(0,n.Cb)({type:Boolean})],d.prototype,"disabled",void 0)},87276:(i,e,a)=>{a.r(e);var t=a(17463),s=(a(14271),a(63436),a(68144)),o=a(79932),n=a(47181),r=a(85415),l=(a(9381),a(34821));a(20729),a(3555);const d=()=>Promise.all([a.e(79546),a.e(64975),a.e(4454)]).then(a.bind(a,4454));var h=a(11654);const c={round:!1,type:"image/jpeg",quality:.75,aspectRatio:1.78};let u=(0,t.Z)(null,(function(i,e){return{F:class extends e{constructor(...e){super(...e),i(this)}},d:[{kind:"field",decorators:[(0,o.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_name",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_aliases",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_picture",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_error",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_params",value:void 0},{kind:"field",decorators:[(0,o.SB)()],key:"_submitting",value:void 0},{kind:"method",key:"showDialog",value:async function(i){var e;this._params=i,this._error=void 0,this._name=this._params.entry?this._params.entry.name:"",this._aliases=this._params.entry?this._params.entry.aliases:[],this._picture=(null===(e=this._params.entry)||void 0===e?void 0:e.picture)||null,await this.updateComplete}},{kind:"method",key:"closeDialog",value:function(){this._error="",this._params=void 0,(0,n.B)(this,"dialog-closed",{dialog:this.localName})}},{kind:"method",key:"render",value:function(){if(!this._params)return s.Ld;const i=this._params.entry,e=!this._isNameValid();return s.dy` <ha-dialog open @closed="${this.closeDialog}" .heading="${(0,l.i)(this.hass,i?i.name:this.hass.localize("ui.panel.config.areas.editor.default_name"))}"> <div> ${this._error?s.dy`<ha-alert alert-type="error">${this._error}</ha-alert>`:""} <div class="form"> ${i?s.dy` <div> ${this.hass.localize("ui.panel.config.areas.editor.area_id")}: ${i.area_id} </div> `:""} <ha-textfield .value="${this._name}" @input="${this._nameChanged}" .label="${this.hass.localize("ui.panel.config.areas.editor.name")}" .errorMessage="${this.hass.localize("ui.panel.config.areas.editor.name_required")}" .invalid="${e}" dialogInitialFocus></ha-textfield> <div class="label"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_section")} </div> <mwc-list class="aliases" @action="${this._handleAliasesClicked}"> <mwc-list-item .twoline="${this._aliases.length>0}" hasMeta> <span> ${this._aliases.length>0?this.hass.localize("ui.panel.config.areas.editor.configured_aliases",{count:this._aliases.length}):this.hass.localize("ui.panel.config.areas.editor.no_aliases")} </span> <span slot="secondary"> ${[...this._aliases].sort(((i,e)=>(0,r.$)(i,e,this.hass.locale.language))).join(", ")} </span> <ha-svg-icon slot="meta" .path="${"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}"></ha-svg-icon> </mwc-list-item> </mwc-list> <div class="secondary"> ${this.hass.localize("ui.panel.config.areas.editor.aliases_description")} </div> <ha-picture-upload .hass="${this.hass}" .value="${this._picture}" crop .cropOptions="${c}" @change="${this._pictureChanged}"></ha-picture-upload> </div> </div> ${i?s.dy` <mwc-button slot="secondaryAction" class="warning" @click="${this._deleteEntry}" .disabled="${this._submitting}"> ${this.hass.localize("ui.panel.config.areas.editor.delete")} </mwc-button> `:s.Ld} <mwc-button slot="primaryAction" @click="${this._updateEntry}" .disabled="${e||this._submitting}"> ${i?this.hass.localize("ui.panel.config.areas.editor.update"):this.hass.localize("ui.panel.config.areas.editor.create")} </mwc-button> </ha-dialog> `}},{kind:"method",key:"_handleAliasesClicked",value:function(){var i,e;i=this,e={name:this._name,aliases:this._aliases,updateAliases:async i=>{this._aliases=i}},(0,n.B)(i,"show-dialog",{dialogTag:"dialog-aliases",dialogImport:d,dialogParams:e})}},{kind:"method",key:"_isNameValid",value:function(){return""!==this._name.trim()}},{kind:"method",key:"_nameChanged",value:function(i){this._error=void 0,this._name=i.target.value}},{kind:"method",key:"_pictureChanged",value:function(i){this._error=void 0,this._picture=i.target.value}},{kind:"method",key:"_updateEntry",value:async function(){this._submitting=!0;try{const i={name:this._name.trim(),picture:this._picture,aliases:this._aliases};this._params.entry?await this._params.updateEntry(i):await this._params.createEntry(i),this.closeDialog()}catch(i){this._error=i.message||this.hass.localize("ui.panel.config.areas.editor.unknown_error")}finally{this._submitting=!1}}},{kind:"method",key:"_deleteEntry",value:async function(){this._submitting=!0;try{await this._params.removeEntry()&&this.closeDialog()}finally{this._submitting=!1}}},{kind:"get",static:!0,key:"styles",value:function(){return[h.yu,s.iv`ha-textfield{display:block;margin-bottom:16px}`]}}]}}),s.oi);customElements.define("dialog-area-registry-detail",u)},57835:(i,e,a)=>{a.d(e,{XM:()=>t.XM,Xe:()=>t.Xe,pX:()=>t.pX});var t=a(38941)}};
//# sourceMappingURL=30512-xW6ZNbzAjeo.js.map