import{S as ke,i as $e,s as we,E as ve,k as y,a as U,y as R,l as I,m as $,c as Y,z as q,h as m,F as Ot,G as ue,b as E,a0 as b,A as H,H as Pe,L as qe,g,d as v,B as O,N as Ve,C as ht,o as Vn,Q as Ce,q as G,r as K,n as T,u as de,e as oe,v as ie,f as re,M as tt,w as Le,W as yt,X as It,D as Nn,I as Cn,J as Fn,K as Mn,Z as Se,_ as Ee,$ as ze,a1 as ee,Y as si,p as ct,V as ai,R as gt,af as oi,a7 as De,a8 as je,O as be,a4 as Be,ab as Me,a2 as Dt,ag as fi,P as ui,T as Je,U as Xe,a3 as pt,a9 as $t,x as st,a6 as Lt,ad as ci}from"../chunks/index.8706e7a3.js";import{c as qt,n as jt,h as di,g as zn,e as mi,a as hi,p as _i,i as gi,j as pi}from"../chunks/utils.ddc0b847.js";import{O as bi,a as ft,P as vi}from"../chunks/Page.79f4e36a.js";import{W as wi,F as ki,d as xe,G as $i,h as Te,H as Ue,I as ye,J as Tt,t as nt,C as it,K as Ne,L as et,S as Pn,N as Vt,O as Si,D as Ei,P as yi,B as Ii,c as Qe,a as Nt,R as _t,U as Di,V as An,X as Ze,Y as Ti,Z as Ct,_ as Vi,$ as Ni,a0 as Bn,a1 as Rn,a2 as Hn,f as Ci,b as Ft,a3 as rt,a4 as Fi,a5 as Mi,a6 as On,a7 as zi,a8 as at,a9 as Mt,aa as bt,ab as St,ac as Pi,ad as Ai,z as Ln,ae as ut,af as Bi,p as qn,ag as Ri,ah as Hi,ai as Oi,M as jn,v as Un,w as Yn,x as Li,y as qi,aj as zt,ak as ji,al as Ui,am as Yi,an as Wi,ao as Qi,ap as Gi,aq as Ki,ar as Zi,as as Ji,at as Xi,au as xi}from"../chunks/Commands.b285d8c6.js";import{e as dt,h as Wn,i as Pt,j as er,k as Et,l as tr,m as lr,n as nr,I as ir,o as rr,p as sr,q as ar,d as or,A as fr,r as Qn,s as vt,D as ot,f as ur,t as cr}from"../chunks/notificationsStore.d636816c.js";import{w as dr}from"../chunks/index.8b48d14e.js";import{A as mr}from"../chunks/ArrowUpRight.7e728368.js";import{C as hr,a as Gn,I as Ut,T as _r,S as gr}from"../chunks/ConceptView.320d831d.js";import{E as Kn,S as pr,T as Zn}from"../chunks/StringSpanHighlight.fab98b3f.js";import{M as At,C as br,S as vr}from"../chunks/Settings.0d32ace2.js";import{R as wr,S as kr}from"../chunks/RowItemMetadata.4ebf607f.js";import{g as Jn}from"../chunks/settingsStore.7a558b1a.js";import{L as $r,a as Sr,b as Er,c as yr,C as Ir}from"../chunks/ComboBox.3132accc.js";function Yt(i,e,l){const t=i.slice();return t[39]=e[l],t[41]=l,t}const Dr=i=>({item:i[0]&8,index:i[0]&8}),Wt=i=>({item:i[39],index:i[41]});function Qt(i){let e,l;return{c(){e=y("label"),l=G(i[10]),this.h()},l(t){e=I(t,"LABEL",{for:!0});var n=$(e);l=K(n,i[10]),n.forEach(m),this.h()},h(){T(e,"for",i[19]),ue(e,"bx--label",!0),ue(e,"bx--label--disabled",i[9]),ue(e,"bx--visually-hidden",i[17])},m(t,n){E(t,e,n),b(e,l)},p(t,n){n[0]&1024&&de(l,t[10]),n[0]&524288&&T(e,"for",t[19]),n[0]&512&&ue(e,"bx--label--disabled",t[9]),n[0]&131072&&ue(e,"bx--visually-hidden",t[17])},d(t){t&&m(e)}}}function Gt(i){let e,l;return e=new wi({props:{class:"bx--list-box__invalid-icon"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Kt(i){let e,l;return e=new ki({props:{class:"bx--list-box__invalid-icon bx--list-box__invalid-icon--warning"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Tr(i){let e;return{c(){e=G(i[16])},l(l){e=K(l,i[16])},m(l,t){E(l,e,t)},p(l,t){t[0]&65536&&de(e,l[16])},d(l){l&&m(e)}}}function Vr(i){let e=i[4](i[22])+"",l;return{c(){l=G(e)},l(t){l=K(t,e)},m(t,n){E(t,l,n)},p(t,n){n[0]&4194320&&e!==(e=t[4](t[22])+"")&&de(l,e)},d(t){t&&m(l)}}}function Zt(i){let e,l;return e=new Er({props:{"aria-labelledby":i[19],id:i[19],$$slots:{default:[Fr]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&524288&&(o["aria-labelledby"]=t[19]),n[0]&524288&&(o.id=t[19]),n[0]&2097181|n[1]&64&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Nr(i){let e=i[4](i[39])+"",l;return{c(){l=G(e)},l(t){l=K(t,e)},m(t,n){E(t,l,n)},p(t,n){n[0]&24&&e!==(e=t[4](t[39])+"")&&de(l,e)},d(t){t&&m(l)}}}function Cr(i){let e,l;const t=i[29].default,n=Nn(t,i,i[37],Wt),o=n||Nr(i);return{c(){o&&o.c(),e=U()},l(r){o&&o.l(r),e=Y(r)},m(r,s){o&&o.m(r,s),E(r,e,s),l=!0},p(r,s){n?n.p&&(!l||s[0]&8|s[1]&64)&&Cn(n,t,r,r[37],l?Mn(t,r[37],s,Dr):Fn(r[37]),Wt):o&&o.p&&(!l||s[0]&24)&&o.p(r,l?s:[-1,-1])},i(r){l||(g(o,r),l=!0)},o(r){v(o,r),l=!1},d(r){o&&o.d(r),r&&m(e)}}}function Jt(i,e){let l,t,n;function o(...s){return e[34](e[39],...s)}function r(){return e[35](e[39],e[41])}return t=new yr({props:{id:e[39].id,active:e[0]===e[39].id,highlighted:e[21]===e[41],disabled:e[39].disabled,$$slots:{default:[Cr]},$$scope:{ctx:e}}}),t.$on("click",o),t.$on("mouseenter",r),{key:i,first:null,c(){l=oe(),R(t.$$.fragment),this.h()},l(s){l=oe(),q(t.$$.fragment,s),this.h()},h(){this.first=l},m(s,a){E(s,l,a),H(t,s,a),n=!0},p(s,a){e=s;const f={};a[0]&8&&(f.id=e[39].id),a[0]&9&&(f.active=e[0]===e[39].id),a[0]&2097160&&(f.highlighted=e[21]===e[41]),a[0]&8&&(f.disabled=e[39].disabled),a[0]&24|a[1]&64&&(f.$$scope={dirty:a,ctx:e}),t.$set(f)},i(s){n||(g(t.$$.fragment,s),n=!0)},o(s){v(t.$$.fragment,s),n=!1},d(s){s&&m(l),O(t,s)}}}function Fr(i){let e=[],l=new Map,t,n,o=i[3];const r=s=>s[39].id;for(let s=0;s<o.length;s+=1){let a=Yt(i,o,s),f=r(a);l.set(f,e[s]=Jt(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);E(s,t,a),n=!0},p(s,a){a[0]&35651613|a[1]&64&&(o=s[3],ie(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,Jt,t,Yt),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&m(t)}}}function Mr(i){let e,l,t,n,o,r,s,a,f,u,d,c=i[11]&&Gt(),h=!i[11]&&i[13]&&Kt();function _(k,D){return k[22]?Vr:Tr}let p=_(i),w=p(i);r=new Sr({props:{translateWithId:i[18],open:i[1]}}),r.$on("click",i[30]);let S=i[1]&&Zt(i);return{c(){c&&c.c(),e=U(),h&&h.c(),l=U(),t=y("button"),n=y("span"),w.c(),o=U(),R(r.$$.fragment),s=U(),S&&S.c(),a=oe(),this.h()},l(k){c&&c.l(k),e=Y(k),h&&h.l(k),l=Y(k),t=I(k,"BUTTON",{type:!0,tabindex:!0,"aria-expanded":!0,translatewithid:!0,id:!0});var D=$(t);n=I(D,"SPAN",{});var C=$(n);w.l(C),C.forEach(m),o=Y(D),q(r.$$.fragment,D),D.forEach(m),s=Y(k),S&&S.l(k),a=oe(),this.h()},h(){ue(n,"bx--list-box__label",!0),T(t,"type","button"),T(t,"tabindex","0"),T(t,"aria-expanded",i[1]),t.disabled=i[9],T(t,"translatewithid",i[18]),T(t,"id",i[19]),ue(t,"bx--list-box__field",!0)},m(k,D){c&&c.m(k,D),E(k,e,D),h&&h.m(k,D),E(k,l,D),E(k,t,D),b(t,n),w.m(n,null),b(t,o),H(r,t,null),i[31](t),E(k,s,D),S&&S.m(k,D),E(k,a,D),f=!0,u||(d=[Pe(t,"keydown",i[32]),Pe(t,"keyup",i[33])],u=!0)},p(k,D){k[11]?c?D[0]&2048&&g(c,1):(c=Gt(),c.c(),g(c,1),c.m(e.parentNode,e)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),!k[11]&&k[13]?h?D[0]&10240&&g(h,1):(h=Kt(),h.c(),g(h,1),h.m(l.parentNode,l)):h&&(ie(),v(h,1,1,()=>{h=null}),re()),p===(p=_(k))&&w?w.p(k,D):(w.d(1),w=p(k),w&&(w.c(),w.m(n,null)));const C={};D[0]&262144&&(C.translateWithId=k[18]),D[0]&2&&(C.open=k[1]),r.$set(C),(!f||D[0]&2)&&T(t,"aria-expanded",k[1]),(!f||D[0]&512)&&(t.disabled=k[9]),(!f||D[0]&262144)&&T(t,"translatewithid",k[18]),(!f||D[0]&524288)&&T(t,"id",k[19]),k[1]?S?(S.p(k,D),D[0]&2&&g(S,1)):(S=Zt(k),S.c(),g(S,1),S.m(a.parentNode,a)):S&&(ie(),v(S,1,1,()=>{S=null}),re())},i(k){f||(g(c),g(h),g(r.$$.fragment,k),g(S),f=!0)},o(k){v(c),v(h),v(r.$$.fragment,k),v(S),f=!1},d(k){c&&c.d(k),k&&m(e),h&&h.d(k),k&&m(l),k&&m(t),w.d(),O(r),i[31](null),k&&m(s),S&&S.d(k),k&&m(a),u=!1,tt(d)}}}function Xt(i){let e,l;return{c(){e=y("div"),l=G(i[15]),this.h()},l(t){e=I(t,"DIV",{});var n=$(e);l=K(n,i[15]),n.forEach(m),this.h()},h(){ue(e,"bx--form__helper-text",!0),ue(e,"bx--form__helper-text--disabled",i[9])},m(t,n){E(t,e,n),b(e,l)},p(t,n){n[0]&32768&&de(l,t[15]),n[0]&512&&ue(e,"bx--form__helper-text--disabled",t[9])},d(t){t&&m(e)}}}function zr(i){let e,l,t,n,o,r,s,a=i[10]&&Qt(i);t=new $r({props:{role:void 0,type:i[5],size:i[7],name:i[20],"aria-label":i[28]["aria-label"],class:`bx--dropdown 
      `+(i[6]==="top"&&"bx--list-box--up")+` 
      `+(i[11]&&"bx--dropdown--invalid")+` 
      `+(!i[11]&&i[13]&&"bx--dropdown--warning")+` 
      `+(i[1]&&"bx--dropdown--open")+`
      `+(i[7]==="sm"&&"bx--dropdown--sm")+`
      `+(i[7]==="xl"&&"bx--dropdown--xl")+`
      `+(i[23]&&"bx--dropdown--inline")+`
      `+(i[9]&&"bx--dropdown--disabled")+`
      `+(i[8]&&"bx--dropdown--light"),disabled:i[9],open:i[1],invalid:i[11],invalidText:i[12],light:i[8],warn:i[13],warnText:i[14],$$slots:{default:[Mr]},$$scope:{ctx:i}}}),t.$on("click",i[36]);let f=!i[23]&&!i[11]&&!i[13]&&i[15]&&Xt(i),u=[i[27]],d={};for(let c=0;c<u.length;c+=1)d=ve(d,u[c]);return{c(){e=y("div"),a&&a.c(),l=U(),R(t.$$.fragment),n=U(),f&&f.c(),this.h()},l(c){e=I(c,"DIV",{});var h=$(e);a&&a.l(h),l=Y(h),q(t.$$.fragment,h),n=Y(h),f&&f.l(h),h.forEach(m),this.h()},h(){Ot(e,d),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",i[23]),ue(e,"bx--list-box__wrapper--inline",i[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",i[23]&&i[11])},m(c,h){E(c,e,h),a&&a.m(e,null),b(e,l),H(t,e,null),b(e,n),f&&f.m(e,null),o=!0,r||(s=Pe(window,"click",i[26]),r=!0)},p(c,h){c[10]?a?a.p(c,h):(a=Qt(c),a.c(),a.m(e,l)):a&&(a.d(1),a=null);const _={};h[0]&32&&(_.type=c[5]),h[0]&128&&(_.size=c[7]),h[0]&1048576&&(_.name=c[20]),h[0]&268435456&&(_["aria-label"]=c[28]["aria-label"]),h[0]&8399810&&(_.class=`bx--dropdown 
      `+(c[6]==="top"&&"bx--list-box--up")+` 
      `+(c[11]&&"bx--dropdown--invalid")+` 
      `+(!c[11]&&c[13]&&"bx--dropdown--warning")+` 
      `+(c[1]&&"bx--dropdown--open")+`
      `+(c[7]==="sm"&&"bx--dropdown--sm")+`
      `+(c[7]==="xl"&&"bx--dropdown--xl")+`
      `+(c[23]&&"bx--dropdown--inline")+`
      `+(c[9]&&"bx--dropdown--disabled")+`
      `+(c[8]&&"bx--dropdown--light")),h[0]&512&&(_.disabled=c[9]),h[0]&2&&(_.open=c[1]),h[0]&2048&&(_.invalid=c[11]),h[0]&4096&&(_.invalidText=c[12]),h[0]&256&&(_.light=c[8]),h[0]&8192&&(_.warn=c[13]),h[0]&16384&&(_.warnText=c[14]),h[0]&7154207|h[1]&64&&(_.$$scope={dirty:h,ctx:c}),t.$set(_),!c[23]&&!c[11]&&!c[13]&&c[15]?f?f.p(c,h):(f=Xt(c),f.c(),f.m(e,null)):f&&(f.d(1),f=null),Ot(e,d=qe(u,[h[0]&134217728&&c[27]])),ue(e,"bx--dropdown__wrapper",!0),ue(e,"bx--list-box__wrapper",!0),ue(e,"bx--dropdown__wrapper--inline",c[23]),ue(e,"bx--list-box__wrapper--inline",c[23]),ue(e,"bx--dropdown__wrapper--inline--invalid",c[23]&&c[11])},i(c){o||(g(t.$$.fragment,c),o=!0)},o(c){v(t.$$.fragment,c),o=!1},d(c){c&&m(e),a&&a.d(),O(t),f&&f.d(),r=!1,s()}}}function Pr(i,e,l){let t,n;const o=["items","itemToString","selectedId","type","direction","size","open","light","disabled","titleText","invalid","invalidText","warn","warnText","helperText","label","hideLabel","translateWithId","id","name","ref"];let r=Ve(e,o),{$$slots:s={},$$scope:a}=e,{items:f=[]}=e,{itemToString:u=B=>B.text||B.id}=e,{selectedId:d}=e,{type:c="default"}=e,{direction:h="bottom"}=e,{size:_=void 0}=e,{open:p=!1}=e,{light:w=!1}=e,{disabled:S=!1}=e,{titleText:k=""}=e,{invalid:D=!1}=e,{invalidText:C=""}=e,{warn:V=!1}=e,{warnText:A=""}=e,{helperText:N=""}=e,{label:j=void 0}=e,{hideLabel:J=!1}=e,{translateWithId:F=void 0}=e,{id:M="ccs-"+Math.random().toString(36)}=e,{name:le=void 0}=e,{ref:Q=null}=e;const X=ht();let P=-1;function z(B){let se=P+B;if(f.length===0)return;se<0?se=f.length-1:se>=f.length&&(se=0);let W=f[se].disabled;for(;W;)se=se+B,se<0?se=f.length-1:se>=f.length&&(se=0),W=f[se].disabled;l(21,P=se)}const x=()=>{X("select",{selectedId:d,selectedItem:f.find(B=>B.id===d)})},L=({target:B})=>{p&&Q&&!Q.contains(B)&&l(1,p=!1)};Vn(()=>(parent&&parent.addEventListener("click",L),()=>{parent&&parent.removeEventListener("click",L)}));const Z=B=>{B.stopPropagation(),!S&&l(1,p=!p)};function pe(B){Le[B?"unshift":"push"](()=>{Q=B,l(2,Q)})}const _e=B=>{const{key:se}=B;["Enter","ArrowDown","ArrowUp"].includes(se)&&B.preventDefault(),se==="Enter"?(l(1,p=!p),P>-1&&f[P].id!==d&&(l(0,d=f[P].id),x(),l(1,p=!1))):se==="Tab"?(l(1,p=!1),Q.blur()):se==="ArrowDown"?(p||l(1,p=!0),z(1)):se==="ArrowUp"?(p||l(1,p=!0),z(-1)):se==="Escape"&&l(1,p=!1)},ce=B=>{const{key:se}=B;if([" "].includes(se))B.preventDefault();else return;l(1,p=!p),P>-1&&f[P].id!==d&&(l(0,d=f[P].id),x(),l(1,p=!1))},fe=(B,se)=>{if(B.disabled){se.stopPropagation();return}l(0,d=B.id),x(),Q.focus()},ae=(B,se)=>{B.disabled||l(21,P=se)},te=({target:B})=>{S||l(1,p=Q.contains(B)?!p:!1)};return i.$$set=B=>{l(28,e=ve(ve({},e),Ce(B))),l(27,r=Ve(e,o)),"items"in B&&l(3,f=B.items),"itemToString"in B&&l(4,u=B.itemToString),"selectedId"in B&&l(0,d=B.selectedId),"type"in B&&l(5,c=B.type),"direction"in B&&l(6,h=B.direction),"size"in B&&l(7,_=B.size),"open"in B&&l(1,p=B.open),"light"in B&&l(8,w=B.light),"disabled"in B&&l(9,S=B.disabled),"titleText"in B&&l(10,k=B.titleText),"invalid"in B&&l(11,D=B.invalid),"invalidText"in B&&l(12,C=B.invalidText),"warn"in B&&l(13,V=B.warn),"warnText"in B&&l(14,A=B.warnText),"helperText"in B&&l(15,N=B.helperText),"label"in B&&l(16,j=B.label),"hideLabel"in B&&l(17,J=B.hideLabel),"translateWithId"in B&&l(18,F=B.translateWithId),"id"in B&&l(19,M=B.id),"name"in B&&l(20,le=B.name),"ref"in B&&l(2,Q=B.ref),"$$scope"in B&&l(37,a=B.$$scope)},i.$$.update=()=>{i.$$.dirty[0]&32&&l(23,t=c==="inline"),i.$$.dirty[0]&9&&l(22,n=f.find(B=>B.id===d)),i.$$.dirty[0]&2&&(p||l(21,P=-1))},e=Ce(e),[d,p,Q,f,u,c,h,_,w,S,k,D,C,V,A,N,j,J,F,M,le,P,n,t,z,x,L,r,e,s,Z,pe,_e,ce,fe,ae,te,a]}class Ar extends ke{constructor(e){super(),$e(this,e,Pr,zr,we,{items:3,itemToString:4,selectedId:0,type:5,direction:6,size:7,open:1,light:8,disabled:9,titleText:10,invalid:11,invalidText:12,warn:13,warnText:14,helperText:15,label:16,hideLabel:17,translateWithId:18,id:19,name:20,ref:2},null,[-1,-1])}}const Br=Ar;function xt(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Rr(i){let e,l,t=i[1]&&xt(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M17 15L17 8 15 8 15 15 8 15 8 17 15 17 15 24 17 24 17 17 24 17 24 15z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=xt(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Hr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class Or extends ke{constructor(e){super(),$e(this,e,Hr,Rr,we,{size:0,title:1})}}function el(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Lr(i){let e,l,t=i[1]&&el(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M26 24v4H6V24H4v4H4a2 2 0 002 2H26a2 2 0 002-2h0V24zM26 14L24.59 12.59 17 20.17 17 2 15 2 15 20.17 7.41 12.59 6 14 16 24 26 14z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=el(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function qr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class jr extends ke{constructor(e){super(),$e(this,e,qr,Lr,we,{size:0,title:1})}}function tl(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Ur(i){let e,l,t,n=i[1]&&tl(i),o=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],r={};for(let s=0;s<o.length;s+=1)r=ve(r,o[s]);return{c(){e=Se("svg"),n&&n.c(),l=Se("path"),t=Se("path"),this.h()},l(s){e=Ee(s,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var a=$(e);n&&n.l(a),l=Ee(a,"path",{d:!0}),$(l).forEach(m),t=Ee(a,"path",{d:!0}),$(t).forEach(m),a.forEach(m),this.h()},h(){T(l,"d","M17 22L17 14 13 14 13 16 15 16 15 22 12 22 12 24 20 24 20 22 17 22zM16 8a1.5 1.5 0 101.5 1.5A1.5 1.5 0 0016 8z"),T(t,"d","M16,30A14,14,0,1,1,30,16,14,14,0,0,1,16,30ZM16,4A12,12,0,1,0,28,16,12,12,0,0,0,16,4Z"),ze(e,r)},m(s,a){E(s,e,a),n&&n.m(e,null),b(e,l),b(e,t)},p(s,[a]){s[1]?n?n.p(s,a):(n=tl(s),n.c(),n.m(e,l)):n&&(n.d(1),n=null),ze(e,r=qe(o,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},a&1&&{width:s[0]},a&1&&{height:s[0]},a&4&&s[2],a&8&&s[3]]))},i:ee,o:ee,d(s){s&&m(e),n&&n.d()}}}function Yr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class mt extends ke{constructor(e){super(),$e(this,e,Yr,Ur,we,{size:0,title:1})}}function ll(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Wr(i){let e,l,t=i[1]&&ll(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M29,27.5859l-7.5521-7.5521a11.0177,11.0177,0,1,0-1.4141,1.4141L27.5859,29ZM4,13a9,9,0,1,1,9,9A9.01,9.01,0,0,1,4,13Z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=ll(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Qr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class Gr extends ke{constructor(e){super(),$e(this,e,Qr,Wr,we,{size:0,title:1})}}function nl(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Kr(i){let e,l,t=i[1]&&nl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M30 6L26 6 26 2 24 2 24 6 20 6 20 8 24 8 24 12 26 12 26 8 30 8 30 6zM24 28.5859l-5.9751-5.9751a9.0234 9.0234 0 10-1.4141 1.4141L22.5859 30zM4 17a7 7 0 117 7A7.0078 7.0078 0 014 17z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=nl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Zr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class Xn extends ke{constructor(e){super(),$e(this,e,Zr,Kr,we,{size:0,title:1})}}function il(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function Jr(i){let e,l,t=i[1]&&il(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 18H16V20H2zM6 12H16V14H6zM10 6H16V8H10z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=il(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function Xr(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class xn extends ke{constructor(e){super(),$e(this,e,Xr,Jr,we,{size:0,title:1})}}function rl(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function xr(i){let e,l,t=i[1]&&rl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M18 22L19.414 20.586 23 24.172 23 4 25 4 25 24.172 28.586 20.586 30 22 24 28 18 22zM2 6H16V8H2zM6 12H16V14H6zM10 18H16V20H10z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=rl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function es(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class ei extends ke{constructor(e){super(),$e(this,e,es,xr,we,{size:0,title:1})}}function sl(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function ts(i){let e,l,t=i[1]&&sl(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M30 19.415L28.586 18 25 21.587 21.414 18 20 19.415 23.586 23 20 26.586 21.414 28 25 24.414 28.586 28 30 26.586 26.414 23 30 19.415zM10 18H16V20H10zM2 6H16V8H2zM6 12H16V14H6z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=sl(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function ls(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class ns extends ke{constructor(e){super(),$e(this,e,ls,ts,we,{size:0,title:1})}}function al(i){let e,l;return{c(){e=Se("title"),l=G(i[1])},l(t){e=Ee(t,"title",{});var n=$(e);l=K(n,i[1]),n.forEach(m)},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&2&&de(l,t[1])},d(t){t&&m(e)}}}function is(i){let e,l,t=i[1]&&al(i),n=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:i[0]},{height:i[0]},i[2],i[3]],o={};for(let r=0;r<n.length;r+=1)o=ve(o,n[r]);return{c(){e=Se("svg"),t&&t.c(),l=Se("path"),this.h()},l(r){e=Ee(r,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var s=$(e);t&&t.l(s),l=Ee(s,"path",{d:!0}),$(l).forEach(m),s.forEach(m),this.h()},h(){T(l,"d","M4 6H22V8H4zM4 12H22V14H4zM4 18H22V20H4zM4 24H22V26H4zM26 6H28V8H26zM26 12H28V14H26zM26 18H28V20H26zM26 24H28V26H26z"),ze(e,o)},m(r,s){E(r,e,s),t&&t.m(e,null),b(e,l)},p(r,[s]){r[1]?t?t.p(r,s):(t=al(r),t.c(),t.m(e,l)):t&&(t.d(1),t=null),ze(e,o=qe(n,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},s&1&&{width:r[0]},s&1&&{height:r[0]},s&4&&r[2],s&8&&r[3]]))},i:ee,o:ee,d(r){r&&m(e),t&&t.d()}}}function rs(i,e,l){let t,n;const o=["size","title"];let r=Ve(e,o),{size:s=16}=e,{title:a=void 0}=e;return i.$$set=f=>{l(5,e=ve(ve({},e),Ce(f))),l(3,r=Ve(e,o)),"size"in f&&l(0,s=f.size),"title"in f&&l(1,a=f.title)},i.$$.update=()=>{l(4,t=e["aria-label"]||e["aria-labelledby"]||a),l(2,n={"aria-hidden":t?void 0:!0,role:t?"img":void 0,focusable:Number(e.tabindex)===0?!0:void 0})},e=Ce(e),[s,a,n,r,t]}class ss extends ke{constructor(e){super(),$e(this,e,rs,is,we,{size:0,title:1})}}function ol(i){let e;return{c(){e=y("div"),this.h()},l(l){e=I(l,"DIV",{id:!0,style:!0}),$(e).forEach(m),this.h()},h(){T(e,"id","svelte-infinite-scroll"),ct(e,"width","0")},m(l,t){E(l,e,t),i[11](e)},p:ee,d(l){l&&m(e),i[11](null)}}}function as(i){let e,l=!i[1]&&!i[0]&&ol(i);return{c(){l&&l.c(),e=oe()},l(t){l&&l.l(t),e=oe()},m(t,n){l&&l.m(t,n),E(t,e,n)},p(t,[n]){!t[1]&&!t[0]?l?l.p(t,n):(l=ol(t),l.c(),l.m(e.parentNode,e)):l&&(l.d(1),l=null)},i:ee,o:ee,d(t){l&&l.d(t),t&&m(e)}}}function os(i,e,l){let{threshold:t=0}=e,{horizontal:n=!1}=e,{elementScroll:o=null}=e,{hasMore:r=!0}=e,{reverse:s=!1}=e,{window:a=!1}=e;const f=ht();let u=!1,d,c,h,_;const p=k=>{if(!r)return;const D=k.target;w(D,s,n)<=t?(!u&&r&&(f("loadMore"),l(8,c=D.scrollHeight),l(9,h=D.scrollTop)),l(7,u=!0)):l(7,u=!1)},w=(k,D,C)=>{const V=k.documentElement?k.documentElement:k;return D?C?V.scrollLeft:V.scrollTop:C?V.scrollWidth-V.clientWidth-V.scrollLeft:V.scrollHeight-V.clientHeight-V.scrollTop};Vn(()=>{a?l(10,_=document):o?l(10,_=o):l(10,_=d.parentNode)}),si(()=>{_&&(_.removeEventListener("scroll",p),_.removeEventListener("resize",p))});function S(k){Le[k?"unshift":"push"](()=>{d=k,l(2,d)})}return i.$$set=k=>{"threshold"in k&&l(3,t=k.threshold),"horizontal"in k&&l(4,n=k.horizontal),"elementScroll"in k&&l(0,o=k.elementScroll),"hasMore"in k&&l(5,r=k.hasMore),"reverse"in k&&l(6,s=k.reverse),"window"in k&&l(1,a=k.window)},i.$$.update=()=>{i.$$.dirty&1088&&_&&(s&&l(10,_.scrollTop=_.scrollHeight,_),_.addEventListener("scroll",p),_.addEventListener("resize",p)),i.$$.dirty&1984&&u&&s&&l(10,_.scrollTop=_.scrollHeight-c+h,_)},[o,a,d,t,n,r,s,u,c,h,_,S]}class fs extends ke{constructor(e){super(),$e(this,e,os,as,we,{threshold:3,horizontal:4,elementScroll:0,hasMore:5,reverse:6,window:1})}}function us(i){let e,l,t,n,o,r,s,a;t=new $i({});const f=i[3].default,u=Nn(f,i,i[6],null);return{c(){e=y("div"),l=y("button"),R(t.$$.fragment),n=U(),o=y("span"),u&&u.c(),this.h()},l(d){e=I(d,"DIV",{class:!0});var c=$(e);l=I(c,"BUTTON",{class:!0});var h=$(l);q(t.$$.fragment,h),h.forEach(m),n=Y(c),o=I(c,"SPAN",{class:!0});var _=$(o);u&&u.l(_),_.forEach(m),c.forEach(m),this.h()},h(){T(l,"class","p-0 opacity-50 hover:opacity-100"),T(o,"class","truncate"),T(e,"class","removable-tag flex items-center gap-x-1")},m(d,c){E(d,e,c),b(e,l),H(t,l,null),b(e,n),b(e,o),u&&u.m(o,null),r=!0,s||(a=Pe(l,"click",oi(i[4])),s=!0)},p(d,c){u&&u.p&&(!r||c&64)&&Cn(u,f,d,d[6],r?Mn(f,d[6],c,null):Fn(d[6]),null)},i(d){r||(g(t.$$.fragment,d),g(u,d),r=!0)},o(d){v(t.$$.fragment,d),v(u,d),r=!1},d(d){d&&m(e),O(t),u&&u.d(d),s=!1,a()}}}function cs(i){let e,l;const t=[{type:i[0]},i[2]];let n={$$slots:{default:[us]},$$scope:{ctx:i}};for(let o=0;o<t.length;o+=1)n=ve(n,t[o]);return e=new xe({props:n}),e.$on("click",i[5]),{c(){R(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,r){H(e,o,r),l=!0},p(o,[r]){const s=r&5?qe(t,[r&1&&{type:o[0]},r&4&&ai(o[2])]):{};r&64&&(s.$$scope={dirty:r,ctx:o}),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function ds(i,e,l){const t=["type"];let n=Ve(e,t),{$$slots:o={},$$scope:r}=e;const s=ht();let{type:a}=e;const f=()=>s("remove");function u(d){gt.call(this,i,d)}return i.$$set=d=>{e=ve(ve({},e),Ce(d)),l(2,n=Ve(e,t)),"type"in d&&l(0,a=d.type),"$$scope"in d&&l(6,r=d.$$scope)},[a,s,n,o,f,u,r]}class Bt extends ke{constructor(e){super(),$e(this,e,ds,cs,we,{type:0})}}function ms(i){let e,l=(i[2]?"":i[5])+"",t,n,o=i[0][i[1].op]+"",r,s,a;return{c(){e=y("span"),t=G(l),n=U(),r=G(o),s=U(),a=G(i[4]),this.h()},l(f){e=I(f,"SPAN",{class:!0});var u=$(e);t=K(u,l),u.forEach(m),n=Y(f),r=K(f,o),s=Y(f),a=K(f,i[4]),this.h()},h(){T(e,"class","font-mono")},m(f,u){E(f,e,u),b(e,t),E(f,n,u),E(f,r,u),E(f,s,u),E(f,a,u)},p(f,u){u&36&&l!==(l=(f[2]?"":f[5])+"")&&de(t,l),u&2&&o!==(o=f[0][f[1].op]+"")&&de(r,o),u&16&&de(a,f[4])},d(f){f&&m(e),f&&m(n),f&&m(r),f&&m(s),f&&m(a)}}}function hs(i){let e,l,t=(i[2]?"":i[5])+"",n;return{c(){e=G("has "),l=y("span"),n=G(t),this.h()},l(o){e=K(o,"has "),l=I(o,"SPAN",{class:!0});var r=$(l);n=K(r,t),r.forEach(m),this.h()},h(){T(l,"class","font-mono")},m(o,r){E(o,e,r),E(o,l,r),b(l,n)},p(o,r){r&36&&t!==(t=(o[2]?"":o[5])+"")&&de(n,t)},d(o){o&&m(e),o&&m(l)}}}function _s(i){let e;function l(o,r){return o[1].op==="exists"?hs:ms}let t=l(i),n=t(i);return{c(){n.c(),e=oe()},l(o){n.l(o),e=oe()},m(o,r){n.m(o,r),E(o,e,r)},p(o,r){t===(t=l(o))&&n?n.p(o,r):(n.d(1),n=t(o),n&&(n.c(),n.m(e.parentNode,e)))},d(o){n.d(o),o&&m(e)}}}function gs(i){let e,l,t,n,o,r;return l=new Bt({props:{interactive:!0,type:"magenta",$$slots:{default:[_s]},$$scope:{ctx:i}}}),l.$on("click",i[9]),l.$on("remove",i[10]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){T(e,"class","filter-pill items-center")},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{text:i[6]})),o=!0)},p(s,[a]){const f={};a&2102&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&je(t.update)&&a&64&&t.update.call(null,{text:s[6]})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function ps(i,e,l){let t,n,o,r,s;const a={equals:"=",not_equal:"≠",less:"<",less_equal:"≤",greater:">",greater_equal:"≥",in:"in",exists:"exists"};let{filter:f}=e,{hidePath:u=!1}=e;const d=Ue();be(i,d,_=>l(7,s=_));const c=()=>nt({command:it.EditFilter,namespace:s.namespace,datasetName:s.datasetName,path:n}),h=()=>d.removeFilter(f);return i.$$set=_=>{"filter"in _&&l(1,f=_.filter),"hidePath"in _&&l(2,u=_.hidePath)},i.$$.update=()=>{i.$$.dirty&2&&l(4,t=ye(f.value||"false")),i.$$.dirty&2&&l(3,n=Tt(f.path)),i.$$.dirty&26&&l(6,o=f.op==="exists"?`has ${dt(n)}`:`${dt(n)} ${a[f.op]} ${t}`),i.$$.dirty&8&&l(5,r=Wn(n))},[a,f,u,n,t,r,o,s,d,c,h]}class ti extends ke{constructor(e){super(),$e(this,e,ps,gs,we,{FILTER_SHORTHANDS:0,filter:1,hidePath:2})}get FILTER_SHORTHANDS(){return this.$$.ctx[0]}}function fl(i){let e,l=i[0].concept_namespace+"",t,n,o=i[0].concept_name+"",r;return{c(){e=y("div"),t=G(l),n=G(" / "),r=G(o),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);t=K(a,l),n=K(a," / "),r=K(a,o),a.forEach(m),this.h()},h(){T(e,"class","mb-2 w-full text-center text-xs")},m(s,a){E(s,e,a),b(e,t),b(e,n),b(e,r)},p(s,a){a&1&&l!==(l=s[0].concept_namespace+"")&&de(t,l),a&1&&o!==(o=s[0].concept_name+"")&&de(r,o)},d(s){s&&m(e)}}}function bs(i){let e=Ne(i[0].path)+"",l,t,n=i[0].type+"",o;return{c(){l=G(e),t=G(": "),o=G(n)},l(r){l=K(r,e),t=K(r,": "),o=K(r,n)},m(r,s){E(r,l,s),E(r,t,s),E(r,o,s)},p(r,s){s&1&&e!==(e=Ne(r[0].path)+"")&&de(l,e),s&1&&n!==(n=r[0].type+"")&&de(o,n)},d(r){r&&m(l),r&&m(t),r&&m(o)}}}function ul(i){let e,l,t;return l=new Kn({props:{embedding:i[0].embedding}}),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var o=$(e);q(l.$$.fragment,o),o.forEach(m),this.h()},h(){T(e,"class","ml-2")},m(n,o){E(n,e,o),H(l,e,null),t=!0},p(n,o){const r={};o&1&&(r.embedding=n[0].embedding),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),O(l)}}}function cl(i){let e,l;return{c(){e=y("div"),l=G(i[2]),this.h()},l(t){e=I(t,"DIV",{class:!0});var n=$(e);l=K(n,i[2]),n.forEach(m),this.h()},h(){T(e,"class","mt-2 whitespace-pre-wrap text-left")},m(t,n){E(t,e,n),b(e,l)},p(t,n){n&4&&de(l,t[2])},d(t){t&&m(e)}}}function vs(i){let e,l,t,n,o,r,s,a,f=i[0].type==="concept"&&fl(i);n=new xe({props:{type:i[1],$$slots:{default:[bs]},$$scope:{ctx:i}}});let u=(i[0].type==="semantic"||i[0].type==="concept")&&ul(i),d=i[2]&&cl(i);return{c(){f&&f.c(),e=U(),l=y("div"),t=y("div"),R(n.$$.fragment),o=U(),u&&u.c(),r=U(),d&&d.c(),s=oe(),this.h()},l(c){f&&f.l(c),e=Y(c),l=I(c,"DIV",{class:!0});var h=$(l);t=I(h,"DIV",{class:!0});var _=$(t);q(n.$$.fragment,_),_.forEach(m),o=Y(h),u&&u.l(h),h.forEach(m),r=Y(c),d&&d.l(c),s=oe(),this.h()},h(){T(t,"class","whitespace-nowrap"),T(l,"class","flex items-center justify-items-center")},m(c,h){f&&f.m(c,h),E(c,e,h),E(c,l,h),b(l,t),H(n,t,null),b(l,o),u&&u.m(l,null),E(c,r,h),d&&d.m(c,h),E(c,s,h),a=!0},p(c,[h]){c[0].type==="concept"?f?f.p(c,h):(f=fl(c),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null);const _={};h&2&&(_.type=c[1]),h&9&&(_.$$scope={dirty:h,ctx:c}),n.$set(_),c[0].type==="semantic"||c[0].type==="concept"?u?(u.p(c,h),h&1&&g(u,1)):(u=ul(c),u.c(),g(u,1),u.m(l,null)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),c[2]?d?d.p(c,h):(d=cl(c),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i(c){a||(g(n.$$.fragment,c),g(u),a=!0)},o(c){v(n.$$.fragment,c),v(u),a=!1},d(c){f&&f.d(c),c&&m(e),c&&m(l),O(n),u&&u.d(),c&&m(r),d&&d.d(c),c&&m(s)}}}function ws(i,e,l){let t,{search:n}=e,{tagType:o="outline"}=e;return i.$$set=r=>{"search"in r&&l(0,n=r.search),"tagType"in r&&l(1,o=r.tagType)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=n.type==="concept"?"":n.query)},[n,o,t]}class dl extends ke{constructor(e){super(),$e(this,e,ws,vs,we,{search:0,tagType:1})}}function ks(i){let e,l=Ne(i[0].path)+"",t,n,o,r;return{c(){e=y("span"),t=G(l),n=G(' has "'),o=G(i[2]),r=G('"'),this.h()},l(s){e=I(s,"SPAN",{class:!0});var a=$(e);t=K(a,l),a.forEach(m),n=K(s,' has "'),o=K(s,i[2]),r=K(s,'"'),this.h()},h(){T(e,"class","font-mono")},m(s,a){E(s,e,a),b(e,t),E(s,n,a),E(s,o,a),E(s,r,a)},p(s,a){a&1&&l!==(l=Ne(s[0].path)+"")&&de(t,l),a&4&&de(o,s[2])},d(s){s&&m(e),s&&m(n),s&&m(o),s&&m(r)}}}function $s(i){let e,l,t,n,o,r;return l=new Bt({props:{title:"query",interactive:!0,type:i[1],$$slots:{default:[ks]},$$scope:{ctx:i}}}),l.$on("click",i[6]),l.$on("remove",i[7]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){T(e,"class","search-pill items-center text-left")},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{component:dl,props:{search:i[0],tagType:i[1]}})),o=!0)},p(s,[a]){const f={};a&2&&(f.type=s[1]),a&517&&(f.$$scope={dirty:a,ctx:s}),l.$set(f),t&&je(t.update)&&a&3&&t.update.call(null,{component:dl,props:{search:s[0],tagType:s[1]}})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function Ss(i,e,l){let t,n,o,{search:r}=e;const s={keyword:"outline",semantic:"teal",concept:"green"},a=Ue(),f=et();be(i,f,c=>l(3,o=c));function u(c){gt.call(this,i,c)}const d=()=>{var c;return a.removeSearch(r,((c=o.selectRowsSchema)==null?void 0:c.data)||null)};return i.$$set=c=>{"search"in c&&l(0,r=c.search)},i.$$.update=()=>{i.$$.dirty&1&&l(2,t=r.type==="concept"?r.concept_name:r.query),i.$$.dirty&1&&l(1,n=r.type!=null?s[r.type]:"outline")},[r,n,t,o,a,f,u,d]}class li extends ke{constructor(e){super(),$e(this,e,Ss,$s,we,{search:0})}}function ml(i,e,l){const t=i.slice();return t[26]=e[l][0],t[27]=e[l][1],t}function hl(i,e,l){const t=i.slice();return t[30]=e[l],t}function _l(i,e,l){const t=i.slice();return t[33]=e[l],t}function gl(i,e,l){const t=i.slice();return t[36]=e[l],t}function pl(i,e,l){const t=i.slice();return t[39]=e[l],t}function Es(i){let e,l,t,n=i[13],o=[];for(let a=0;a<n.length;a+=1)o[a]=wl(gl(i,n,a));const r=a=>v(o[a],1,1,()=>{o[a]=null});let s=i[8]!=null&&i[8].length>0&&kl(i);return{c(){e=y("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Y(f),s&&s.l(f),f.forEach(m),this.h()},h(){T(e,"class","flex w-full flex-row gap-x-4")},m(a,f){E(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);b(e,l),s&&s.m(e,null),t=!0},p(a,f){if(f[0]&57352){n=a[13];let u;for(u=0;u<n.length;u+=1){const d=gl(a,n,u);o[u]?(o[u].p(d,f),g(o[u],1)):(o[u]=wl(d),o[u].c(),g(o[u],1),o[u].m(e,l))}for(ie(),u=n.length;u<o.length;u+=1)r(u);re()}a[8]!=null&&a[8].length>0?s?(s.p(a,f),f[0]&256&&g(s,1)):(s=kl(a),s.c(),g(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(s),t=!1},d(a){a&&m(e),Be(o,a),s&&s.d()}}}function bl(i){let e,l,t=i[14][i[36]]+"",n,o,r,s,a,f=i[3][i[36]],u=[];for(let c=0;c<f.length;c+=1)u[c]=vl(pl(i,f,c));const d=c=>v(u[c],1,1,()=>{u[c]=null});return{c(){e=y("div"),l=y("div"),n=G(t),o=U(),r=y("div");for(let c=0;c<u.length;c+=1)u[c].c();s=U(),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=$(e);l=I(h,"DIV",{class:!0});var _=$(l);n=K(_,t),_.forEach(m),o=Y(h),r=I(h,"DIV",{class:!0});var p=$(r);for(let w=0;w<u.length;w+=1)u[w].l(p);p.forEach(m),s=Y(h),h.forEach(m),this.h()},h(){T(l,"class","text-xs font-light"),T(r,"class","flex flex-row gap-x-1"),T(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(c,h){E(c,e,h),b(e,l),b(l,n),b(e,o),b(e,r);for(let _=0;_<u.length;_+=1)u[_]&&u[_].m(r,null);b(e,s),a=!0},p(c,h){if(h[0]&40968){f=c[3][c[36]];let _;for(_=0;_<f.length;_+=1){const p=pl(c,f,_);u[_]?(u[_].p(p,h),g(u[_],1)):(u[_]=vl(p),u[_].c(),g(u[_],1),u[_].m(r,null))}for(ie(),_=f.length;_<u.length;_+=1)d(_);re()}},i(c){if(!a){for(let h=0;h<f.length;h+=1)g(u[h]);a=!0}},o(c){u=u.filter(Boolean);for(let h=0;h<u.length;h+=1)v(u[h]);a=!1},d(c){c&&m(e),Be(u,c)}}}function vl(i){let e,l;function t(){return i[23](i[39])}return e=new li({props:{search:i[39]}}),e.$on("click",t),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,o){H(e,n,o),l=!0},p(n,o){i=n;const r={};o[0]&8&&(r.search=i[39]),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function wl(i){let e,l,t=i[3][i[36]]&&bl(i);return{c(){t&&t.c(),e=oe()},l(n){t&&t.l(n),e=oe()},m(n,o){t&&t.m(n,o),E(n,e,o),l=!0},p(n,o){n[3][n[36]]?t?(t.p(n,o),o[0]&8&&g(t,1)):(t=bl(n),t.c(),g(t,1),t.m(e.parentNode,e)):t&&(ie(),v(t,1,1,()=>{t=null}),re())},i(n){l||(g(t),l=!0)},o(n){v(t),l=!1},d(n){t&&t.d(n),n&&m(e)}}}function kl(i){let e,l,t,n,o,r,s=i[8],a=[];for(let u=0;u<s.length;u+=1)a[u]=$l(_l(i,s,u));const f=u=>v(a[u],1,1,()=>{a[u]=null});return{c(){e=y("div"),l=y("div"),t=G("Filters"),n=U(),o=y("div");for(let u=0;u<a.length;u+=1)a[u].c();this.h()},l(u){e=I(u,"DIV",{class:!0});var d=$(e);l=I(d,"DIV",{class:!0});var c=$(l);t=K(c,"Filters"),c.forEach(m),n=Y(d),o=I(d,"DIV",{class:!0});var h=$(o);for(let _=0;_<a.length;_+=1)a[_].l(h);h.forEach(m),d.forEach(m),this.h()},h(){T(l,"class","text-xs font-light"),T(o,"class","flex flex-row gap-x-1"),T(e,"class","filter-group rounded bg-slate-50 px-2 py-1 shadow-sm svelte-16ln9ke")},m(u,d){E(u,e,d),b(e,l),b(l,t),b(e,n),b(e,o);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(o,null);r=!0},p(u,d){if(d[0]&256){s=u[8];let c;for(c=0;c<s.length;c+=1){const h=_l(u,s,c);a[c]?(a[c].p(h,d),g(a[c],1)):(a[c]=$l(h),a[c].c(),g(a[c],1),a[c].m(o,null))}for(ie(),c=s.length;c<a.length;c+=1)f(c);re()}},i(u){if(!r){for(let d=0;d<s.length;d+=1)g(a[d]);r=!0}},o(u){a=a.filter(Boolean);for(let d=0;d<a.length;d+=1)v(a[d]);r=!1},d(u){u&&m(e),Be(a,u)}}}function $l(i){let e,l;return e=new ti({props:{filter:i[33]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&256&&(o.filter=t[33]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sl(i){let e=ye(i[0])+"",l,t,n=ye(i[1].dataset_manifest.num_items)+"",o,r;return{c(){l=G(e),t=G(" of "),o=G(n),r=G(" rows")},l(s){l=K(s,e),t=K(s," of "),o=K(s,n),r=K(s," rows")},m(s,a){E(s,l,a),E(s,t,a),E(s,o,a),E(s,r,a)},p(s,a){a[0]&1&&e!==(e=ye(s[0])+"")&&de(l,e),a[0]&2&&n!==(n=ye(s[1].dataset_manifest.num_items)+"")&&de(o,n)},d(s){s&&m(l),s&&m(t),s&&m(o),s&&m(r)}}}function El(i){let e,l;return e=new Nt({props:{value:i[30].path!=null?Ne(i[30].path):void 0,text:i[30].text,disabled:i[30].disabled}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.value=t[30].path!=null?Ne(t[30].path):void 0),n[0]&128&&(o.text=t[30].text),n[0]&128&&(o.disabled=t[30].disabled),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ys(i){let e,l,t=i[27],n=[];for(let r=0;r<t.length;r+=1)n[r]=El(hl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=U()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=Y(r)},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[27];let a;for(a=0;a<t.length;a+=1){const f=hl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=El(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function yl(i){let e,l;return e=new yi({props:{label:i[26],$$slots:{default:[ys]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.label=t[26]),n[0]&128|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Is(i){let e,l,t=Object.entries(i[7]),n=[];for(let r=0;r<t.length;r+=1)n[r]=yl(ml(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,s){if(s[0]&128){t=Object.entries(r[7]);let a;for(a=0;a<t.length;a+=1){const f=ml(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=yl(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Il(i){let e,l,t,n,o,r;return l=new Si({}),{c(){e=y("button"),R(l.$$.fragment),this.h()},l(s){e=I(s,"BUTTON",{});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){e.disabled=t=i[4]==null},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=[De(Te.call(null,e,{text:"Clear sort"})),Pe(e,"click",i[18])],o=!0)},p(s,a){(!n||a[0]&16&&t!==(t=s[4]==null))&&(e.disabled=t)},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,tt(r)}}}function Ds(i){let e,l;return e=new ei({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ts(i){let e,l;return e=new xn({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Vs(i){let e,l;return e=new ns({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Dl(i){let e,l;return e=new At({props:{open:!0,modalHeading:"",passiveModal:!0,size:"lg",$$slots:{default:[zs]},$$scope:{ctx:i}}}),e.$on("close",i[24]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&1024|n[1]&2048&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ns(i){var r;let e,l,t,n,o;return l=new Ii({props:{size:"small",kind:"ghost",icon:mr,href:qt((r=i[10])==null?void 0:r.data.namespace,i[10].data.concept_name),iconDescription:"Open concept page",$$slots:{default:[Ms]},$$scope:{ctx:i}}}),n=new hr({props:{concept:i[10].data}}),{c(){e=y("div"),R(l.$$.fragment),t=U(),R(n.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),t=Y(s),q(n.$$.fragment,s),this.h()},h(){T(e,"class","mb-4 ml-6")},m(s,a){E(s,e,a),H(l,e,null),E(s,t,a),H(n,s,a),o=!0},p(s,a){var d;const f={};a[0]&1024&&(f.href=qt((d=s[10])==null?void 0:d.data.namespace,s[10].data.concept_name)),a[1]&2048&&(f.$$scope={dirty:a,ctx:s}),l.$set(f);const u={};a[0]&1024&&(u.concept=s[10].data),n.$set(u)},i(s){o||(g(l.$$.fragment,s),g(n.$$.fragment,s),o=!0)},o(s){v(l.$$.fragment,s),v(n.$$.fragment,s),o=!1},d(s){s&&m(e),O(l),s&&m(t),O(n,s)}}}function Cs(i){let e,l=i[10].error.message+"",t;return{c(){e=y("p"),t=G(l)},l(n){e=I(n,"P",{});var o=$(e);t=K(o,l),o.forEach(m)},m(n,o){E(n,e,o),b(e,t)},p(n,o){o[0]&1024&&l!==(l=n[10].error.message+"")&&de(t,l)},i:ee,o:ee,d(n){n&&m(e)}}}function Fs(i){let e,l;return e=new Qe({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ms(i){let e;return{c(){e=G("Go to concept")},l(l){e=K(l,"Go to concept")},m(l,t){E(l,e,t)},d(l){l&&m(e)}}}function zs(i){let e,l,t,n;const o=[Fs,Cs,Ns],r=[];function s(a,f){var u,d,c;return(u=a[10])!=null&&u.isLoading?0:(d=a[10])!=null&&d.isError?1:(c=a[10])!=null&&c.isSuccess?2:-1}return~(e=s(i))&&(l=r[e]=o[e](i)),{c(){l&&l.c(),t=oe()},l(a){l&&l.l(a),t=oe()},m(a,f){~e&&r[e].m(a,f),E(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?~e&&r[e].p(a,f):(l&&(ie(),v(r[u],1,1,()=>{r[u]=null}),re()),~e?(l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t)):l=null)},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){~e&&r[e].d(a),a&&m(t)}}}function Ps(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N=i[13].length>0&&Es(i),j=i[0]&&i[1]&&Sl(i);u=new Pn({props:{noLabel:!0,size:"sm",class:"w-80",selected:i[5],$$slots:{default:[Is]},$$scope:{ctx:i}}}),u.$on("update",i[16]);let J=i[6]!=null&&Il(i);const F=[Vs,Ts,Ds],M=[];function le(X,P){var z,x,L;return((z=X[4])==null?void 0:z.order)==null?0:((x=X[4])==null?void 0:x.order)==="ASC"?1:((L=X[4])==null?void 0:L.order)==="DESC"?2:-1}~(_=le(i))&&(p=M[_]=F[_](i));let Q=i[2]&&Dl(i);return{c(){e=y("div"),N&&N.c(),l=U(),t=y("div"),n=y("div"),j&&j.c(),o=U(),r=y("div"),s=y("div"),a=G("Sort by"),f=U(),R(u.$$.fragment),d=U(),J&&J.c(),c=U(),h=y("button"),p&&p.c(),k=U(),Q&&Q.c(),D=oe(),this.h()},l(X){e=I(X,"DIV",{class:!0});var P=$(e);N&&N.l(P),l=Y(P),t=I(P,"DIV",{class:!0});var z=$(t);n=I(z,"DIV",{class:!0});var x=$(n);j&&j.l(x),x.forEach(m),o=Y(z),r=I(z,"DIV",{class:!0});var L=$(r);s=I(L,"DIV",{class:!0});var Z=$(s);a=K(Z,"Sort by"),Z.forEach(m),f=Y(L),q(u.$$.fragment,L),d=Y(L),J&&J.l(L),c=Y(L),h=I(L,"BUTTON",{});var pe=$(h);p&&p.l(pe),pe.forEach(m),L.forEach(m),z.forEach(m),P.forEach(m),k=Y(X),Q&&Q.l(X),D=oe(),this.h()},h(){T(n,"class","py-1"),T(s,"class","mr-1"),h.disabled=w=i[4]==null,T(r,"class","sort-container flex flex-row items-center gap-x-1"),T(t,"class","flex w-full flex-row items-center justify-between"),T(e,"class","mx-5 my-2 flex flex-col gap-y-2")},m(X,P){var z;E(X,e,P),N&&N.m(e,null),b(e,l),b(e,t),b(t,n),j&&j.m(n,null),b(t,o),b(t,r),b(r,s),b(s,a),b(r,f),H(u,r,null),b(r,d),J&&J.m(r,null),b(r,c),b(r,h),~_&&M[_].m(h,null),E(X,k,P),Q&&Q.m(X,P),E(X,D,P),C=!0,V||(A=[De(S=Te.call(null,h,{text:((z=i[4])==null?void 0:z.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."})),Pe(h,"click",i[17])],V=!0)},p(X,P){var L;X[13].length>0&&N.p(X,P),X[0]&&X[1]?j?j.p(X,P):(j=Sl(X),j.c(),j.m(n,null)):j&&(j.d(1),j=null);const z={};P[0]&32&&(z.selected=X[5]),P[0]&128|P[1]&2048&&(z.$$scope={dirty:P,ctx:X}),u.$set(z),X[6]!=null?J?(J.p(X,P),P[0]&64&&g(J,1)):(J=Il(X),J.c(),g(J,1),J.m(r,c)):J&&(ie(),v(J,1,1,()=>{J=null}),re());let x=_;_=le(X),_!==x&&(p&&(ie(),v(M[x],1,1,()=>{M[x]=null}),re()),~_?(p=M[_],p||(p=M[_]=F[_](X),p.c()),g(p,1),p.m(h,null)):p=null),(!C||P[0]&16&&w!==(w=X[4]==null))&&(h.disabled=w),S&&je(S.update)&&P[0]&16&&S.update.call(null,{text:((L=X[4])==null?void 0:L.order)==="ASC"?"Sorted ascending. Toggle to switch to descending.":"Sorted descending. Toggle to switch to ascending."}),X[2]?Q?(Q.p(X,P),P[0]&4&&g(Q,1)):(Q=Dl(X),Q.c(),g(Q,1),Q.m(D.parentNode,D)):Q&&(ie(),v(Q,1,1,()=>{Q=null}),re())},i(X){C||(g(N),g(u.$$.fragment,X),g(J),g(p),g(Q),C=!0)},o(X){v(N),v(u.$$.fragment,X),v(J),v(p),v(Q),C=!1},d(X){X&&m(e),N&&N.d(),j&&j.d(),O(u),J&&J.d(),~_&&M[_].d(),X&&m(k),Q&&Q.d(X),X&&m(D),V=!1,tt(A)}}}function As(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_=ee,p=()=>(_(),_=Me(t,P=>l(10,h=P)),t);i.$$.on_destroy.push(()=>_());let{totalNumRows:w}=e,{manifest:S}=e,k=Ue();be(i,k,P=>l(22,c=P));let D=et();be(i,D,P=>l(21,d=P));let C=null;const V=["keyword","semantic","concept"],A={keyword:"Keyword",semantic:"Semantic",concept:"Concepts"};let N={};function j(P){P.type==="concept"&&l(2,C={namespace:P.concept_namespace,name:P.concept_name})}let J={};const F=P=>{const z=P.detail;z!==s&&k.setSortBy(z===""?null:Tt(z))},M=()=>{r!=null&&k.setSortBy(r.path),k.setSortOrder((r==null?void 0:r.order)==="ASC"?"DESC":"ASC")},le=()=>{k.clearSorts()},Q=P=>j(P),X=()=>l(2,C=null);return i.$$set=P=>{"totalNumRows"in P&&l(0,w=P.totalNumRows),"manifest"in P&&l(1,S=P.manifest)},i.$$.update=()=>{var P,z,x,L;if(i.$$.dirty[0]&4&&p(l(9,t=C?Ei(C.namespace,C.name):void 0)),i.$$.dirty[0]&4194304&&l(20,n=Pt(c)),i.$$.dirty[0]&4194304&&l(8,o=c.query.filters),i.$$.dirty[0]&1048584){l(3,N={});for(const Z of n)Z.type&&(Z.type in N||l(3,N[Z.type]=[],N),N[Z.type].push(Z))}if(i.$$.dirty[0]&2097152&&l(4,r=er(d)),i.$$.dirty[0]&2097152)for(const Z of((z=(P=d.selectRowsSchema)==null?void 0:P.data)==null?void 0:z.search_results)||[])J[Ne(Z.result_path)]=Z;i.$$.dirty[0]&16&&l(5,s=r!=null&&r.path?Ne(r.path):""),i.$$.dirty[0]&4194304&&l(6,a=c.query.sort_by),i.$$.dirty[0]&2097248&&l(19,f=((L=(x=d.selectRowsSchema)==null?void 0:x.data)==null?void 0:L.schema)!=null?[{path:[""],text:"None",disabled:a==null&&s!==""},...Vt(d.selectRowsSchema.data.schema).filter(Z=>Z.dtype!="embedding"&&Z.dtype!="string_span").map(Z=>({path:Z.path,text:dt(Z.path.slice(1)),disabled:!1}))]:[]),i.$$.dirty[0]&524288&&l(7,u=f.reduce((Z,pe)=>{const _e=pe.path[0];return(Z[_e]=Z[_e]||[]).push(pe),Z},{}))},[w,S,C,N,r,s,a,u,o,t,h,k,D,V,A,j,F,M,le,f,n,d,c,Q,X]}class Bs extends ke{constructor(e){super(),$e(this,e,As,Ps,we,{totalNumRows:0,manifest:1},null,[-1,-1])}}function Tl(i,e,l){const t=i.slice();t[14]=e[l];const n=An.value(t[14]);return t[15]=n,t}function kt(i){var n,o,r;const e=i.slice(),l=An.path(e[14])||[];e[1]=l;const t=((r=(o=(n=e[7].data)==null?void 0:n.ui)==null?void 0:o.markdown_paths)==null?void 0:r.find(function(...a){return i[13](e[1],...a)}))!=null;return e[18]=t,e}function Vl(i){let e,l,t,n=Ne(i[1])+"",o,r,s,a,f,u;return a=new pr({props:{text:ye(i[15]),row:i[0],path:i[1],markdown:i[18],spanPaths:i[5].spanPaths,valuePaths:i[5].valuePaths,datasetViewStore:i[8],datasetStore:i[2],embeddings:i[6]}}),{c(){e=y("div"),l=y("div"),t=y("div"),o=G(n),r=U(),s=y("div"),R(a.$$.fragment),f=U(),this.h()},l(d){e=I(d,"DIV",{class:!0});var c=$(e);l=I(c,"DIV",{class:!0});var h=$(l);t=I(h,"DIV",{class:!0});var _=$(t);o=K(_,n),_.forEach(m),r=Y(h),s=I(h,"DIV",{class:!0});var p=$(s);q(a.$$.fragment,p),p.forEach(m),h.forEach(m),f=Y(c),c.forEach(m),this.h()},h(){T(t,"class","sticky top-0 z-10 w-full self-start border-t border-neutral-200 bg-neutral-100 px-2 py-2 pb-2 font-mono font-medium text-neutral-500"),T(s,"class","mx-4 font-normal"),T(l,"class","flex w-full flex-col"),T(e,"class","flex flex-row")},m(d,c){E(d,e,c),b(e,l),b(l,t),b(t,o),b(l,r),b(l,s),H(a,s,null),b(e,f),u=!0},p(d,c){(!u||c&8)&&n!==(n=Ne(d[1])+"")&&de(o,n);const h={};c&8&&(h.text=ye(d[15])),c&1&&(h.row=d[0]),c&8&&(h.path=d[1]),c&136&&(h.markdown=d[18]),c&32&&(h.spanPaths=d[5].spanPaths),c&32&&(h.valuePaths=d[5].valuePaths),c&4&&(h.datasetStore=d[2]),c&64&&(h.embeddings=d[6]),a.$set(h)},i(d){u||(g(a.$$.fragment,d),u=!0)},o(d){v(a.$$.fragment,d),u=!1},d(d){d&&m(e),O(a)}}}function Nl(i){let e=jt(i[15]),l,t,n=e&&Vl(kt(i));return{c(){n&&n.c(),l=oe()},l(o){n&&n.l(o),l=oe()},m(o,r){n&&n.m(o,r),E(o,l,r),t=!0},p(o,r){r&8&&(e=jt(o[15])),e?n?(n.p(kt(o),r),r&8&&g(n,1)):(n=Vl(kt(o)),n.c(),g(n,1),n.m(l.parentNode,l)):n&&(ie(),v(n,1,1,()=>{n=null}),re())},i(o){t||(g(n),t=!0)},o(o){v(n),t=!1},d(o){n&&n.d(o),o&&m(l)}}}function Rs(i){let e,l,t=i[3],n=[];for(let r=0;r<t.length;r+=1)n[r]=Nl(Tl(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,[s]){if(s&493){t=r[3];let a;for(a=0;a<t.length;a+=1){const f=Tl(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=Nl(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Hs(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=Me(r,D=>l(7,u=D)),r);i.$$.on_destroy.push(()=>d());let{path:h}=e,{row:_}=e,{field:p}=e;const w=Ue();be(i,w,D=>l(12,a=D));const S=et();be(i,S,D=>l(2,f=D));const k=(D,C)=>Ze(C,D);return i.$$set=D=>{"path"in D&&l(1,h=D.path),"row"in D&&l(0,_=D.row),"field"in D&&l(10,p=D.field)},i.$$.update=()=>{i.$$.dirty&4&&l(11,t=f.visibleFields||[]),i.$$.dirty&6&&l(6,n=Et(f,h)),i.$$.dirty&3072&&l(5,o=tr(p,t)),i.$$.dirty&4096&&c(l(4,r=_t(a.namespace,a.datasetName))),i.$$.dirty&3&&l(3,s=Di(_,h))},[_,h,f,s,r,o,n,u,w,S,p,t,a,k]}class Os extends ke{constructor(e){super(),$e(this,e,Hs,Rs,we,{path:1,row:0,field:10})}}function Cl(i,e,l){const t=i.slice();return t[8]=e[l],t[10]=l,t}function Fl(i){let e,l=[],t=new Map,n,o,r=i[1];const s=a=>Ne(a[8].path);for(let a=0;a<r.length;a+=1){let f=Cl(i,r,a),u=s(f);t.set(u,l[a]=Ml(u,f))}return{c(){e=y("div");for(let a=0;a<l.length;a+=1)l[a].c();this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<l.length;u+=1)l[u].l(f);f.forEach(m),this.h()},h(){T(e,"class","w-2/3 overflow-hidden"),Dt(()=>i[7].call(e))},m(a,f){E(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n=fi(e,i[7].bind(e)),o=!0},p(a,f){f&3&&(r=a[1],ie(),l=yt(l,f,s,1,a,r,t,e,It,Ml,null,Cl),re())},i(a){if(!o){for(let f=0;f<r.length;f+=1)g(l[f]);o=!0}},o(a){for(let f=0;f<l.length;f+=1)v(l[f]);o=!1},d(a){a&&m(e);for(let f=0;f<l.length;f+=1)l[f].d();n()}}}function Ml(i,e){let l,t,n,o;return t=new Os({props:{row:e[0],path:e[8].path,field:e[8]}}),{key:i,first:null,c(){l=y("div"),R(t.$$.fragment),n=U(),this.h()},l(r){l=I(r,"DIV",{class:!0});var s=$(l);q(t.$$.fragment,s),n=Y(s),s.forEach(m),this.h()},h(){T(l,"class","border-gray-100"),ue(l,"border-b",e[10]<e[1].length-1),this.first=l},m(r,s){E(r,l,s),H(t,l,null),b(l,n),o=!0},p(r,s){e=r;const a={};s&1&&(a.row=e[0]),s&2&&(a.path=e[8].path),s&2&&(a.field=e[8]),t.$set(a),(!o||s&2)&&ue(l,"border-b",e[10]<e[1].length-1)},i(r){o||(g(t.$$.fragment,r),o=!0)},o(r){v(t.$$.fragment,r),o=!1},d(r){r&&m(l),O(t)}}}function Ls(i){let e,l,t,n,o,r,s,a,f,u=i[1].length>0&&Fl(i);return s=new wr({props:{row:i[0],visibleFields:i[2],selectRowsSchema:i[4]}}),{c(){e=y("div"),l=y("div"),u&&u.c(),t=U(),n=y("div"),o=y("div"),r=y("div"),R(s.$$.fragment),this.h()},l(d){e=I(d,"DIV",{class:!0});var c=$(e);l=I(c,"DIV",{class:!0});var h=$(l);u&&u.l(h),t=Y(h),n=I(h,"DIV",{class:!0});var _=$(n);o=I(_,"DIV",{class:!0});var p=$(o);r=I(p,"DIV",{style:!0,class:!0});var w=$(r);q(s.$$.fragment,w),w.forEach(m),p.forEach(m),_.forEach(m),h.forEach(m),c.forEach(m),this.h()},h(){T(r,"style",a=`max-height: ${Math.max(zl,i[3])}px`),T(r,"class","overflow-y-auto"),T(o,"class","sticky top-0 self-start"),T(n,"class","flex h-full w-1/3 bg-neutral-100"),T(l,"class","flex h-full w-full flex-row"),T(e,"class","rounded border-x border-b border-neutral-200 shadow-md")},m(d,c){E(d,e,c),b(e,l),u&&u.m(l,null),b(l,t),b(l,n),b(n,o),b(o,r),H(s,r,null),f=!0},p(d,[c]){d[1].length>0?u?(u.p(d,c),c&2&&g(u,1)):(u=Fl(d),u.c(),g(u,1),u.m(l,t)):u&&(ie(),v(u,1,1,()=>{u=null}),re());const h={};c&1&&(h.row=d[0]),c&4&&(h.visibleFields=d[2]),c&16&&(h.selectRowsSchema=d[4]),s.$set(h),(!f||c&8&&a!==(a=`max-height: ${Math.max(zl,d[3])}px`))&&T(r,"style",a)},i(d){f||(g(u),g(s.$$.fragment,d),f=!0)},o(d){v(u),v(s.$$.fragment,d),f=!1},d(d){d&&m(e),u&&u.d(),O(s)}}}const zl=320;function qs(i,e,l){let t,n,{row:o}=e,{mediaFields:r}=e,{visibleFields:s}=e;const a=et();be(i,a,d=>l(6,n=d));let f=0;function u(){f=this.clientHeight,l(3,f)}return i.$$set=d=>{"row"in d&&l(0,o=d.row),"mediaFields"in d&&l(1,r=d.mediaFields),"visibleFields"in d&&l(2,s=d.visibleFields)},i.$$.update=()=>{var d;i.$$.dirty&64&&l(4,t=(d=n.selectRowsSchema)==null?void 0:d.data)},[o,r,s,f,t,a,n,u]}class js extends ke{constructor(e){super(),$e(this,e,qs,Ls,we,{row:0,mediaFields:1,visibleFields:2})}}function Pl(i,e,l){const t=i.slice();return t[23]=e[l],t}function Us(i){let e,l;return{c(){e=y("div"),l=G("No results."),this.h()},l(t){e=I(t,"DIV",{class:!0});var n=$(e);l=K(n,"No results."),n.forEach(m),this.h()},h(){T(e,"class","mx-4 mt-8 w-full text-gray-600")},m(t,n){E(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&m(e)}}}function Ys(i){let e,l;return{c(){e=y("div"),l=G("Select fields to display"),this.h()},l(t){e=I(t,"DIV",{class:!0});var n=$(e);l=K(n,"Select fields to display"),n.forEach(m),this.h()},h(){T(e,"class","mt-12 w-full text-center text-gray-600")},m(t,n){E(t,e,n),b(e,l)},p:ee,i:ee,o:ee,d(t){t&&m(e)}}}function Ws(i){let e,l;return e=new Qe({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Qs(i){var t,n;let e,l;return e=new Bn({props:{lowContrast:!0,title:"Could not fetch schema:",subtitle:((t=i[2].error.body)==null?void 0:t.detail)||((n=i[2])==null?void 0:n.error.message)}}),{c(){R(e.$$.fragment)},l(o){q(e.$$.fragment,o)},m(o,r){H(e,o,r),l=!0},p(o,r){var a,f;const s={};r&4&&(s.subtitle=((a=o[2].error.body)==null?void 0:a.detail)||((f=o[2])==null?void 0:f.error.message)),e.$set(s)},i(o){l||(g(e.$$.fragment,o),l=!0)},o(o){v(e.$$.fragment,o),l=!1},d(o){O(e,o)}}}function Gs(i){var t;let e,l;return e=new Bn({props:{lowContrast:!0,title:"Could not fetch rows:",subtitle:((t=i[4].error.body)==null?void 0:t.detail)||i[4].error.message}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,o){H(e,n,o),l=!0},p(n,o){var s;const r={};o&16&&(r.subtitle=((s=n[4].error.body)==null?void 0:s.detail)||n[4].error.message),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function Al(i){let e,l,t,n=i[6],o=[];for(let a=0;a<n.length;a+=1)o[a]=Bl(Pl(i,n,a));const r=a=>v(o[a],1,1,()=>{o[a]=null});let s=i[6].length>0&&Rl(i);return{c(){e=y("div");for(let a=0;a<o.length;a+=1)o[a].c();l=U(),s&&s.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);for(let u=0;u<o.length;u+=1)o[u].l(f);l=Y(f),s&&s.l(f),f.forEach(m),this.h()},h(){T(e,"class","flex h-full w-full flex-col gap-y-10 overflow-y-scroll px-5 pb-32")},m(a,f){E(a,e,f);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);b(e,l),s&&s.m(e,null),i[21](e),t=!0},p(a,f){if(f&98){n=a[6];let u;for(u=0;u<n.length;u+=1){const d=Pl(a,n,u);o[u]?(o[u].p(d,f),g(o[u],1)):(o[u]=Bl(d),o[u].c(),g(o[u],1),o[u].m(e,l))}for(ie(),u=n.length;u<o.length;u+=1)r(u);re()}a[6].length>0?s?(s.p(a,f),f&64&&g(s,1)):(s=Rl(a),s.c(),g(s,1),s.m(e,null)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){if(!t){for(let f=0;f<n.length;f+=1)g(o[f]);g(s),t=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)v(o[f]);v(s),t=!1},d(a){a&&m(e),Be(o,a),s&&s.d(),i[21](null)}}}function Bl(i){let e,l;return e=new js({props:{visibleFields:i[1],row:i[23],mediaFields:i[5]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&2&&(o.visibleFields=t[1]),n&64&&(o.row=t[23]),n&32&&(o.mediaFields=t[5]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Rl(i){let e,l;return e=new fs({props:{threshold:100}}),e.$on("loadMore",i[20]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ks(i){let e,l,t,n,o,r,s;e=new Bs({props:{totalNumRows:i[7],manifest:i[12].data}});const a=[Gs,Qs,Ws,Ys,Us],f=[];function u(c,h){var _,p,w,S;return c[4].isError?0:(_=c[2])!=null&&_.isError?1:(p=c[4])!=null&&p.isFetching||c[13].isFetching||(w=c[2])!=null&&w.isFetching||c[3].isFetching?2:c[1].length===0?3:(S=c[4])!=null&&S.isSuccess&&c[6]&&c[6].length===0?4:-1}~(t=u(i))&&(n=f[t]=a[t](i));let d=i[6]&&i[1].length>0&&i[13].isSuccess&&i[5]!=null&&Al(i);return{c(){R(e.$$.fragment),l=U(),n&&n.c(),o=U(),d&&d.c(),r=oe()},l(c){q(e.$$.fragment,c),l=Y(c),n&&n.l(c),o=Y(c),d&&d.l(c),r=oe()},m(c,h){H(e,c,h),E(c,l,h),~t&&f[t].m(c,h),E(c,o,h),d&&d.m(c,h),E(c,r,h),s=!0},p(c,[h]){const _={};h&128&&(_.totalNumRows=c[7]),h&4096&&(_.manifest=c[12].data),e.$set(_);let p=t;t=u(c),t===p?~t&&f[t].p(c,h):(n&&(ie(),v(f[p],1,1,()=>{f[p]=null}),re()),~t?(n=f[t],n?n.p(c,h):(n=f[t]=a[t](c),n.c()),g(n,1),n.m(o.parentNode,o)):n=null),c[6]&&c[1].length>0&&c[13].isSuccess&&c[5]!=null?d?(d.p(c,h),h&8290&&g(d,1)):(d=Al(c),d.c(),g(d,1),d.m(r.parentNode,r)):d&&(ie(),v(d,1,1,()=>{d=null}),re())},i(c){s||(g(e.$$.fragment,c),g(n),g(d),s=!0)},o(c){v(e.$$.fragment,c),v(n),v(d),s=!1},d(c){O(e,c),c&&m(l),~t&&f[t].d(c),c&&m(o),d&&d.d(c),c&&m(r)}}}function Zs(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p=ee,w=()=>(p(),p=Me(r,L=>l(3,_=L)),r),S,k,D=ee,C=()=>(D(),D=Me(a,L=>l(4,k=L)),a),V,A,N=ee,j=()=>(N(),N=Me(t,L=>l(12,A=L)),t),J,F=ee,M=()=>(F(),F=Me(n,L=>l(13,J=L)),n);i.$$.on_destroy.push(()=>p()),i.$$.on_destroy.push(()=>D()),i.$$.on_destroy.push(()=>N()),i.$$.on_destroy.push(()=>F());const le=Ue();be(i,le,L=>l(19,V=L));const Q=et();be(i,Q,L=>l(18,S=L));let X=null;const P=dr(X),z=()=>k==null?void 0:k.fetchNextPage();function x(L){Le[L?"unshift":"push"](()=>{X=L,l(0,X)})}return i.$$.update=()=>{var L,Z,pe,_e,ce,fe;i.$$.dirty&524288&&j(l(11,t=Ti(V.namespace,V.datasetName))),i.$$.dirty&524288&&M(l(10,n=Ct(V.namespace,V.datasetName))),i.$$.dirty&524288&&l(17,o=Vi(V)),i.$$.dirty&524288&&w(l(9,r=_t(V.namespace,V.datasetName))),i.$$.dirty&262144&&l(2,s=S.selectRowsSchema),i.$$.dirty&655364&&C(l(8,a=Ni(V.namespace,V.datasetName,o||{},s!=null&&s.isSuccess?s.data.schema:void 0))),i.$$.dirty&16&&l(7,f=(L=k.data)==null?void 0:L.pages[0].total_num_rows),i.$$.dirty&16&&l(6,u=(Z=k.data)==null?void 0:Z.pages.flatMap(ae=>ae.rows)),i.$$.dirty&262144&&l(1,d=(S.visibleFields||[]).sort((ae,te)=>Ne(ae.path)>Ne(te.path)?1:-1)),i.$$.dirty&262146&&l(16,c=((_e=(pe=S.selectRowsSchema)==null?void 0:pe.data)==null?void 0:_e.schema)!=null?lr((fe=(ce=S.selectRowsSchema)==null?void 0:ce.data)==null?void 0:fe.schema,d):null),i.$$.dirty&65544&&l(5,h=_.data?nr(c,_.data):[]),i.$$.dirty&1&&P.set(X)},ui(ir,P),[X,d,s,_,k,h,u,f,a,r,n,t,A,J,le,Q,c,o,S,V,z,x]}class Js extends ke{constructor(e){super(),$e(this,e,Zs,Ks,we,{})}}function Hl(i){const e=i[3].find(function(...o){return i[38](i[48],...o)});i[49]=e;const l=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="field"&&i[49].id.isSignal;i[50]=l;const t=i[49]!=null&&typeof i[49].id=="object"&&i[49].id.type==="concept";i[51]=t}function Ol(i){const e=i[5].find(function(...t){return i[37](i[49],...t)});i[52]=e}function Ll(i){let e,l=i[52].text+"",t,n,o,r,s=i[52].embeddings.length>0&&ql(i);return{c(){e=y("div"),t=G(l),n=U(),s&&s.c(),o=oe(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);t=K(f,l),f.forEach(m),n=Y(a),s&&s.l(a),o=oe(),this.h()},h(){T(e,"class","w-full flex-grow truncate")},m(a,f){E(a,e,f),b(e,t),E(a,n,f),s&&s.m(a,f),E(a,o,f),r=!0},p(a,f){(!r||f[0]&32|f[1]&262144)&&l!==(l=a[52].text+"")&&de(t,l),a[52].embeddings.length>0?s?(s.p(a,f),f[0]&32|f[1]&262144&&g(s,1)):(s=ql(a),s.c(),g(s,1),s.m(o.parentNode,o)):s&&(ie(),v(s,1,1,()=>{s=null}),re())},i(a){r||(g(s),r=!0)},o(a){v(s),r=!1},d(a){a&&m(e),a&&m(n),s&&s.d(a),a&&m(o)}}}function ql(i){let e,l,t,n,o,r;return l=new xe({props:{$$slots:{default:[Xs]},$$scope:{ctx:i}}}),{c(){e=y("div"),R(l.$$.fragment)},l(s){e=I(s,"DIV",{});var a=$(e);q(l.$$.fragment,a),a.forEach(m)},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})),o=!0)},p(s,a){i=s;const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:i}),l.$set(f),t&&je(t.update)&&a[0]&32|a[1]&262144&&t.update.call(null,{text:`Computed embeddings: ${i[52].embeddings.join(", ")}`})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function Xs(i){let e,l;return e=new fr({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xs(i){Ol(i);let e,l,t=i[52]&&Ll(i);return{c(){e=y("div"),t&&t.c(),this.h()},l(n){e=I(n,"DIV",{class:!0});var o=$(e);t&&t.l(o),o.forEach(m),this.h()},h(){T(e,"class","flex h-full w-full items-center justify-between gap-x-1")},m(n,o){E(n,e,o),t&&t.m(e,null),l=!0},p(n,o){Ol(n),n[52]?t?(t.p(n,o),o[0]&32|o[1]&262144&&g(t,1)):(t=Ll(n),t.c(),g(t,1),t.m(e,null)):t&&(ie(),v(t,1,1,()=>{t=null}),re())},i(n){l||(g(t),l=!0)},o(n){v(t),l=!1},d(n){n&&m(e),t&&t.d()}}}function ea(i){let e,l,t=i[49].text+"",n,o,r=i[49].description&&jl(i);return{c(){e=y("div"),l=y("div"),n=G(t),o=U(),r&&r.c(),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);l=I(a,"DIV",{});var f=$(l);n=K(f,t),f.forEach(m),o=Y(a),r&&r.l(a),a.forEach(m),this.h()},h(){T(e,"class","flex justify-between gap-x-8"),ue(e,"isSignal",i[50]),ue(e,"isConcept",i[51])},m(s,a){E(s,e,a),b(e,l),b(l,n),b(e,o),r&&r.m(e,null)},p(s,a){a[0]&8|a[1]&131072&&t!==(t=s[49].text+"")&&de(n,t),s[49].description?r?r.p(s,a):(r=jl(s),r.c(),r.m(e,null)):r&&(r.d(1),r=null),a[0]&8|a[1]&131072&&ue(e,"isSignal",s[50]),a[0]&8|a[1]&131072&&ue(e,"isConcept",s[51])},i:ee,o:ee,d(s){s&&m(e),r&&r.d()}}}function ta(i){let e,l,t,n,o,r;return l=new xe({props:{$$slots:{default:[sa]},$$scope:{ctx:i}}}),{c(){e=y("div"),R(l.$$.fragment),t=U(),n=y("div"),o=G("Compute embeddings to enable concept search."),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),t=Y(a),n=I(a,"DIV",{class:!0});var f=$(n);o=K(f,"Compute embeddings to enable concept search."),f.forEach(m),a.forEach(m),this.h()},h(){T(n,"class","ml-2"),T(e,"class","new-concept flex items-center")},m(s,a){E(s,e,a),H(l,e,null),b(e,t),b(e,n),b(n,o),r=!0},p(s,a){const f={};a[1]&4194304&&(f.$$scope={dirty:a,ctx:s}),l.$set(f)},i(s){r||(g(l.$$.fragment,s),r=!0)},o(s){v(l.$$.fragment,s),r=!1},d(s){s&&m(e),O(l)}}}function la(i){let e,l,t,n,o,r,s;return l=new xe({props:{$$slots:{default:[aa]},$$scope:{ctx:i}}}),{c(){e=y("div"),R(l.$$.fragment),t=U(),n=y("div"),o=G(`Semantic search:
              `),r=G(i[1]),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);q(l.$$.fragment,f),t=Y(f),n=I(f,"DIV",{class:!0});var u=$(n);o=K(u,`Semantic search:
              `),r=K(u,i[1]),u.forEach(m),f.forEach(m),this.h()},h(){T(n,"class","ml-2"),T(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){E(a,e,f),H(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&de(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&m(e),O(l)}}}function na(i){let e,l,t,n,o,r,s;return l=new xe({props:{$$slots:{default:[oa]},$$scope:{ctx:i}}}),{c(){e=y("div"),R(l.$$.fragment),t=U(),n=y("div"),o=G(`Keyword search:
              `),r=G(i[1]),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);q(l.$$.fragment,f),t=Y(f),n=I(f,"DIV",{class:!0});var u=$(n);o=K(u,`Keyword search:
              `),r=K(u,i[1]),u.forEach(m),f.forEach(m),this.h()},h(){T(n,"class","ml-2"),T(e,"class","new-keyword flex flex-row items-center justify-items-center")},m(a,f){E(a,e,f),H(l,e,null),b(e,t),b(e,n),b(n,o),b(n,r),s=!0},p(a,f){const u={};f[1]&4194304&&(u.$$scope={dirty:f,ctx:a}),l.$set(u),(!s||f[0]&2)&&de(r,a[1])},i(a){s||(g(l.$$.fragment,a),s=!0)},o(a){v(l.$$.fragment,a),s=!1},d(a){a&&m(e),O(l)}}}function ia(i){let e,l,t,n,o,r=i[1]!=""?":":"",s,a,f,u;return l=new xe({props:{$$slots:{default:[fa]},$$scope:{ctx:i}}}),{c(){e=y("div"),R(l.$$.fragment),t=U(),n=y("div"),o=G("New concept"),s=G(r),a=U(),f=G(i[1]),this.h()},l(d){e=I(d,"DIV",{class:!0});var c=$(e);q(l.$$.fragment,c),t=Y(c),n=I(c,"DIV",{class:!0});var h=$(n);o=K(h,"New concept"),s=K(h,r),a=Y(h),f=K(h,i[1]),h.forEach(m),c.forEach(m),this.h()},h(){T(n,"class","ml-2"),T(e,"class","new-concept flex flex-row items-center justify-items-center")},m(d,c){E(d,e,c),H(l,e,null),b(e,t),b(e,n),b(n,o),b(n,s),b(n,a),b(n,f),u=!0},p(d,c){const h={};c[1]&4194304&&(h.$$scope={dirty:c,ctx:d}),l.$set(h),(!u||c[0]&2)&&r!==(r=d[1]!=""?":":"")&&de(s,r),(!u||c[0]&2)&&de(f,d[1])},i(d){u||(g(l.$$.fragment,d),u=!0)},o(d){v(l.$$.fragment,d),u=!1},d(d){d&&m(e),O(l)}}}function ra(i){let e;return{c(){e=y("div")},l(l){e=I(l,"DIV",{}),$(e).forEach(m)},m(l,t){E(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&m(e)}}}function jl(i){let e,l=i[49].description+"",t;return{c(){e=y("div"),t=G(l),this.h()},l(n){e=I(n,"DIV",{class:!0});var o=$(e);t=K(o,l),o.forEach(m),this.h()},h(){T(e,"class","truncate text-xs text-gray-500")},m(n,o){E(n,e,o),b(e,t)},p(n,o){o[0]&8|o[1]&131072&&l!==(l=n[49].description+"")&&de(t,l)},d(n){n&&m(e)}}}function sa(i){let e,l;return e=new Gn({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function aa(i){let e,l;return e=new Xn({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function oa(i){let e,l;return e=new Xn({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fa(i){let e,l;return e=new Or({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ua(i){Hl(i);let e,l,t,n;const o=[ra,ia,na,la,ta,ea],r=[];function s(a,f){return a[49]==null?0:a[49].id==="new-concept"?1:a[49].id==="keyword-search"?2:a[49].id==="semantic-search"?3:a[49].id==="compute-embedding"&&a[2]&&a[0]?4:5}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),E(a,t,f),n=!0},p(a,f){Hl(a);let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function ca(i){var S;let e,l,t,n,o,r,s,a,f,u,d,c,h,_;n=new Gr({props:{class:"ml-2 mr-px",size:16}}),s=new Br({props:{size:"xl",class:"w-48",disabled:i[0]==null,selectedId:i[0]?Ne(i[0]):(S=i[5][0])==null?void 0:S.id,items:i[5],$$slots:{default:[xs,({item:k})=>({49:k}),({item:k})=>[0,k?262144:0]]},$$scope:{ctx:i}}}),s.$on("select",i[16]);function p(k){i[40](k)}let w={size:"xl",class:"w-full",items:i[3],shouldFilterItem:da,placeholder:i[6],$$slots:{default:[ua,({item:k})=>({48:k}),({item:k})=>[0,k?131072:0]]},$$scope:{ctx:i}};return i[1]!==void 0&&(w.value=i[1]),u=new Ir({props:w}),i[39](u),Le.push(()=>Je(u,"value",p)),u.$on("select",i[15]),{c(){e=y("div"),l=y("div"),t=y("div"),R(n.$$.fragment),o=U(),r=y("div"),R(s.$$.fragment),a=U(),f=y("div"),R(u.$$.fragment),this.h()},l(k){e=I(k,"DIV",{class:!0});var D=$(e);l=I(D,"DIV",{class:!0});var C=$(l);t=I(C,"DIV",{class:!0});var V=$(t);q(n.$$.fragment,V),V.forEach(m),o=Y(C),r=I(C,"DIV",{class:!0});var A=$(r);q(s.$$.fragment,A),A.forEach(m),a=Y(C),f=I(C,"DIV",{class:!0});var N=$(f);q(u.$$.fragment,N),N.forEach(m),C.forEach(m),D.forEach(m),this.h()},h(){T(t,"class","search-icon flex items-center svelte-mzi0ww"),T(r,"class","embedding-dropdown rounded border-r border-gray-200"),T(f,"class","search-container w-full flex-grow"),T(l,"class","flex w-full rounded border border-gray-200"),T(e,"class","flex h-full w-full flex-grow items-center")},m(k,D){E(k,e,D),b(e,l),b(l,t),H(n,t,null),b(l,o),b(l,r),H(s,r,null),b(l,a),b(l,f),H(u,f,null),c=!0,h||(_=De(Te.call(null,t,{text:"Select the field to search over."})),h=!0)},p(k,D){var A;const C={};D[0]&1&&(C.disabled=k[0]==null),D[0]&33&&(C.selectedId=k[0]?Ne(k[0]):(A=k[5][0])==null?void 0:A.id),D[0]&32&&(C.items=k[5]),D[0]&32|D[1]&4456448&&(C.$$scope={dirty:D,ctx:k}),s.$set(C);const V={};D[0]&8&&(V.items=k[3]),D[0]&64&&(V.placeholder=k[6]),D[0]&15|D[1]&4325376&&(V.$$scope={dirty:D,ctx:k}),!d&&D[0]&2&&(d=!0,V.value=k[1],Xe(()=>d=!1)),u.$set(V)},i(k){c||(g(n.$$.fragment,k),g(s.$$.fragment,k),g(u.$$.fragment,k),c=!0)},o(k){v(n.$$.fragment,k),v(s.$$.fragment,k),v(u.$$.fragment,k),c=!1},d(k){k&&m(e),O(n),O(s),i[39](null),O(u),h=!1,_()}}}const da=(i,e)=>i.text.toLowerCase().includes(e.toLowerCase())||i.id==="new-concept"||i.id==="compute-embedding";function ma(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N,j,J,F=ee,M=()=>(F(),F=Me(t,me=>l(35,J=me)),t),le;i.$$.on_destroy.push(()=>F());const Q=Ue();be(i,Q,me=>l(36,le=me));const X=et();be(i,X,me=>l(30,D=me));const P=Jn();be(i,P,me=>l(34,j=me));let z;function x(me,Ie,Ke,We){if(Ke==null||Ie==null||me==null)return[];const lt=Ke?rt(Ke):[],Ae=[];for(const Fe of lt){if(Fe.dtype==null||Fe.dtype==="embedding"||Fe.dtype==="binary"||!Fi(Fe.path,me))continue;const Oe=Mi(Fe);if((Oe==null?void 0:Oe.signal_name)==="concept_score"||(We==null?void 0:We.some(ri=>ri.name===(Oe==null?void 0:Oe.signal_name))))continue;const Rt=Wn(Fe.path),Ht=dt(Fe.path.slice(me.length));if(On(Fe.dtype)){Ae.push({id:{type:"field",path:Fe.path,sort:"DESC",isSignal:Oe!=null},text:Ht,description:`Sort descending by ${Rt}`});continue}if(Fe.dtype==="string"||Fe.dtype==="string_span"){if(Oe==null)continue;Ae.push({id:{type:"field",path:Fe.path,op:"exists",isSignal:Oe!=null},text:Ht,description:`Find documents with ${Rt}`});continue}}return Ae}const L=Rn();be(i,L,me=>l(43,C=me));const Z=Hn();be(i,Z,me=>l(33,N=me));const pe=(me,Ie)=>`${Ne(me||"")}_${Ie}`;let _e={};const ce=Ci();be(i,ce,me=>l(32,A=me));const fe=Ft();be(i,fe,me=>l(31,V=me));let ae=[],te="",B;function se(){f!=null&&(l(17,_e[pe(z,f)]=!0,_e),C.mutate([n,o,{leaf_path:Tt(z||[]),signal:{signal_name:f}}]))}let W;const ne=(me,Ie)=>{z==null||f==null||(Q.addSearch({path:z,type:"concept",concept_namespace:me,concept_name:Ie,embedding:f}),W.clear())},he=me=>{if(z!=null){if(me.detail.selectedId==="new-concept"){te===B.id&&l(1,te="");const Ie=te.split("/",2);let Ke="",We="";Ie.length===2?[Ke,We]=Ie:[We]=Ie,nt({command:it.CreateConcept,namespace:Ke,conceptName:We,dataset:{namespace:n,name:o},path:z,onCreate:lt=>ne(lt.detail.namespace,lt.detail.name)})}else if(me.detail.selectedId==="keyword-search"){if(te=="")return;Q.addSearch({path:z,type:"keyword",query:te})}else if(me.detail.selectedId=="semantic-search"){if(te==""||f==null)return;Q.addSearch({path:z,type:"semantic",query:te,embedding:f})}else if(me.detail.selectedId=="compute-embedding")se();else if(me.detail.selectedId.type==="concept")ne(me.detail.selectedId.namespace,me.detail.selectedId.name);else if(me.detail.selectedId.type==="field"){const Ie=me.detail.selectedId;if(Ie.sort!=null)Q.setSortBy(Ie.path),Q.setSortOrder(Ie.sort);else if(Ie.op!=null)Q.addFilter({path:Ie.path,op:Ie.op});else throw new Error(`Unknown search type ${me.detail.selectedId}`)}else throw new Error(`Unknown search type ${me.detail.selectedId}`);W.clear()}},Re=me=>{l(0,z=me.detail.selectedItem.path)};let He=[];const ge=(me,Ie)=>Ie===me,Ye=(me,Ie)=>Ie.id===me.id;function Ge(me){Le[me?"unshift":"push"](()=>{W=me,l(4,W)})}function ii(me){te=me,l(1,te)}return i.$$.update=()=>{var me,Ie,Ke,We,lt;i.$$.dirty[1]&32&&M(l(7,t=_t(le.namespace,le.datasetName))),i.$$.dirty[1]&32&&(n=le.namespace),i.$$.dirty[1]&32&&(o=le.datasetName),i.$$.dirty[1]&16&&l(19,r=(Ke=(Ie=(me=J.data)==null?void 0:me.ui)==null?void 0:Ie.media_paths)==null?void 0:Ke.map(Ae=>Array.isArray(Ae)?Ae:[Ae])),i.$$.dirty[0]&1074266113&&z==null&&r!=null&&l(0,z=rr(D,r)),i.$$.dirty[0]&1|i.$$.dirty[1]&32&&l(20,s=Pt(le,z)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&4&&l(22,a=x(z,D.stats,D.schema,N.data)),i.$$.dirty[0]&1073741825|i.$$.dirty[1]&28&&l(2,f=sr(J.data,j,D,z,(N.data||[]).map(Ae=>Ae.name))),i.$$.dirty[0]&1073741825&&l(29,u=Et(D,z)),i.$$.dirty[0]&536870916&&l(24,d=u!=null&&!!u.includes(f||"")),i.$$.dirty[0]&16908293&&l(27,c=!d&&_e[pe(z,f)]),i.$$.dirty[0]&16777216&&l(6,h=d?"Search by keyword, field or concept.":"Search by keyword or field. Compute embedding to enable concept search."),i.$$.dirty[1]&1&&l(28,_=(lt=(We=V.data)==null?void 0:We.user)==null?void 0:lt.id),i.$$.dirty[0]&285212672|i.$$.dirty[1]&2&&l(21,p=d?ar(A.data||[],_):[]),i.$$.dirty[0]&2&&l(18,B={id:"new-concept",text:te}),i.$$.dirty[0]&2&&l(26,w={id:"keyword-search",text:te}),i.$$.dirty[0]&2&&l(25,S={id:"semantic-search",text:te}),i.$$.dirty[0]&134217728&&l(23,k={id:"compute-embedding",text:"Compute embedding",disabled:c}),i.$$.dirty[0]&133431302|i.$$.dirty[1]&3&&l(3,ae=A!=null&&A.data?[...te!=""?[w]:[],...te!=""&&f&&d?[S]:[],...d?[B]:[k],...a,...p.flatMap(Ae=>Ae.concepts.map(Fe=>({id:{namespace:Fe.namespace,name:Fe.name,type:"concept"},text:or(Fe.namespace,Fe.name,V.data),description:Fe.metadata.description,disabled:s.some(Oe=>Oe.type==="concept"&&Oe.concept_namespace===Fe.namespace&&Oe.concept_name===Fe.name)})))]:[]),i.$$.dirty[0]&1074266112&&l(5,He=(r||[]).map(Ae=>({id:Ne(Ae),text:dt(Ae),path:Ae,embeddings:Et(D,Ae)})))},[z,te,f,ae,W,He,h,t,Q,X,P,L,Z,ce,fe,he,Re,_e,B,r,s,p,a,k,d,S,w,c,_,u,D,V,A,N,j,J,le,ge,Ye,Ge,ii]}class ha extends ke{constructor(e){super(),$e(this,e,ma,ca,we,{},null,[-1,-1])}}function Ul(i){let e,l;return e=new bi({props:{light:!0,flipped:!0,$$slots:{default:[_a]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&536871167&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Yl(i){let e,l;return e=new ft({props:{text:"Sort by"}}),e.$on("click",i[19]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Wl(i){let e,l;return e=new ft({props:{text:"Filter"}}),e.$on("click",i[20]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ql(i){let e,l,t,n,o,r;return l=new ft({props:{disabled:!i[7],text:"Compute embedding"}}),l.$on("click",i[21]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){T(e,"class","w-full")},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute embeddings over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&je(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute embeddings over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function Gl(i){let e,l;return e=new ft({props:{text:"Preview signal"}}),e.$on("click",i[22]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Kl(i){let e,l,t,n,o,r;return l=new ft({props:{text:"Compute signal",disabled:!i[7]}}),l.$on("click",i[23]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){T(e,"class","w-full")},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{text:i[7]?"":"User does not have access to compute signals over this dataset."})),o=!0)},p(s,a){const f={};a&128&&(f.disabled=!s[7]),l.$set(f),t&&je(t.update)&&a&128&&t.update.call(null,{text:s[7]?"":"User does not have access to compute signals over this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function Zl(i){let e,l,t,n,o,r;return l=new ft({props:{disabled:!i[6],text:"Delete signal"}}),l.$on("click",i[24]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);q(l.$$.fragment,a),a.forEach(m),this.h()},h(){T(e,"class","w-full")},m(s,a){E(s,e,a),H(l,e,null),n=!0,o||(r=De(t=Te.call(null,e,{text:i[6]?"":"User does not have access to delete signals for this dataset."})),o=!0)},p(s,a){const f={};a&64&&(f.disabled=!s[6]),l.$set(f),t&&je(t.update)&&a&64&&t.update.call(null,{text:s[6]?"":"User does not have access to delete signals for this dataset."})},i(s){n||(g(l.$$.fragment,s),n=!0)},o(s){v(l.$$.fragment,s),n=!1},d(s){s&&m(e),O(l),o=!1,r()}}}function _a(i){let e=bt(i[0]),l,t=St(i[0]),n,o,r,s,a,f,u=e&&Yl(i),d=t&&Wl(i),c=!i[2]&&Ql(i),h=!i[2]&&Gl(i),_=!i[2]&&Kl(i),p=i[1]&&Zl(i);return{c(){u&&u.c(),l=U(),d&&d.c(),n=U(),c&&c.c(),o=U(),h&&h.c(),r=U(),_&&_.c(),s=U(),p&&p.c(),a=oe()},l(w){u&&u.l(w),l=Y(w),d&&d.l(w),n=Y(w),c&&c.l(w),o=Y(w),h&&h.l(w),r=Y(w),_&&_.l(w),s=Y(w),p&&p.l(w),a=oe()},m(w,S){u&&u.m(w,S),E(w,l,S),d&&d.m(w,S),E(w,n,S),c&&c.m(w,S),E(w,o,S),h&&h.m(w,S),E(w,r,S),_&&_.m(w,S),E(w,s,S),p&&p.m(w,S),E(w,a,S),f=!0},p(w,S){S&1&&(e=bt(w[0])),e?u?(u.p(w,S),S&1&&g(u,1)):(u=Yl(w),u.c(),g(u,1),u.m(l.parentNode,l)):u&&(ie(),v(u,1,1,()=>{u=null}),re()),S&1&&(t=St(w[0])),t?d?(d.p(w,S),S&1&&g(d,1)):(d=Wl(w),d.c(),g(d,1),d.m(n.parentNode,n)):d&&(ie(),v(d,1,1,()=>{d=null}),re()),w[2]?c&&(ie(),v(c,1,1,()=>{c=null}),re()):c?(c.p(w,S),S&4&&g(c,1)):(c=Ql(w),c.c(),g(c,1),c.m(o.parentNode,o)),w[2]?h&&(ie(),v(h,1,1,()=>{h=null}),re()):h?(h.p(w,S),S&4&&g(h,1)):(h=Gl(w),h.c(),g(h,1),h.m(r.parentNode,r)),w[2]?_&&(ie(),v(_,1,1,()=>{_=null}),re()):_?(_.p(w,S),S&4&&g(_,1)):(_=Kl(w),_.c(),g(_,1),_.m(s.parentNode,s)),w[1]?p?(p.p(w,S),S&2&&g(p,1)):(p=Zl(w),p.c(),g(p,1),p.m(a.parentNode,a)):p&&(ie(),v(p,1,1,()=>{p=null}),re())},i(w){f||(g(u),g(d),g(c),g(h),g(_),g(p),f=!0)},o(w){v(u),v(d),v(c),v(h),v(_),v(p),f=!1},d(w){u&&u.d(w),w&&m(l),d&&d.d(w),w&&m(n),c&&c.d(w),w&&m(o),h&&h.d(w),w&&m(r),_&&_.d(w),w&&m(s),p&&p.d(w),w&&m(a)}}}function ga(i){let e,l,t,n=Ne(i[0].path)+"",o,r,s,a,f;return{c(){e=y("p"),l=G("Confirm deleting "),t=y("code"),o=G(n),r=G(" ?"),s=U(),a=y("p"),f=G("This is a permanent action and cannot be undone."),this.h()},l(u){e=I(u,"P",{class:!0});var d=$(e);l=K(d,"Confirm deleting "),t=I(d,"CODE",{});var c=$(t);o=K(c,n),c.forEach(m),r=K(d," ?"),d.forEach(m),s=Y(u),a=I(u,"P",{class:!0});var h=$(a);f=K(h,"This is a permanent action and cannot be undone."),h.forEach(m),this.h()},h(){T(e,"class","!text-lg"),T(a,"class","mt-2")},m(u,d){E(u,e,d),b(e,l),b(e,t),b(t,o),b(e,r),E(u,s,d),E(u,a,d),b(a,f)},p(u,d){d&1&&n!==(n=Ne(u[0].path)+"")&&de(o,n)},d(u){u&&m(e),u&&m(s),u&&m(a)}}}function pa(i){let e,l,t,n,o=i[8]&&Ul(i);function r(a){i[25](a)}let s={danger:!0,modalHeading:"Delete signal",primaryButtonText:"Delete",primaryButtonIcon:i[9].isLoading?Ut:void 0,secondaryButtonText:"Cancel",$$slots:{default:[ga]},$$scope:{ctx:i}};return i[3]!==void 0&&(s.open=i[3]),l=new At({props:s}),Le.push(()=>Je(l,"open",r)),l.$on("click:button--secondary",i[26]),l.$on("open",i[27]),l.$on("close",i[28]),l.$on("submit",i[14]),{c(){o&&o.c(),e=U(),R(l.$$.fragment)},l(a){o&&o.l(a),e=Y(a),q(l.$$.fragment,a)},m(a,f){o&&o.m(a,f),E(a,e,f),H(l,a,f),n=!0},p(a,[f]){a[8]?o?(o.p(a,f),f&256&&g(o,1)):(o=Ul(a),o.c(),g(o,1),o.m(e.parentNode,e)):o&&(ie(),v(o,1,1,()=>{o=null}),re());const u={};f&512&&(u.primaryButtonIcon=a[9].isLoading?Ut:void 0),f&536870913&&(u.$$scope={dirty:f,ctx:a}),!t&&f&8&&(t=!0,u.open=a[3],Xe(()=>t=!1)),l.$set(u)},i(a){n||(g(o),g(l.$$.fragment,a),n=!0)},o(a){v(o),v(l.$$.fragment,a),n=!1},d(a){o&&o.d(a),a&&m(e),O(l,a)}}}function ba(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,{field:p}=e,w=!1;const S=Ue();be(i,S,z=>l(18,_=z));const k=et();be(i,k,z=>l(17,h=z));const D=zi();be(i,D,z=>l(9,d=z));const C=Ft();be(i,C,z=>l(16,c=z));function V(){d.mutate([t,n,{signal_path:p.path}],{onSuccess:()=>{l(3,w=!1),S.deleteSignal(p.path)}})}const A=()=>S.addSortBy(p.path),N=()=>nt({command:it.EditFilter,namespace:t,datasetName:n,path:p.path}),j=()=>nt({command:it.ComputeEmbedding,namespace:t,datasetName:n,path:p==null?void 0:p.path}),J=()=>nt({command:it.PreviewConcept,namespace:t,datasetName:n,path:p==null?void 0:p.path}),F=()=>nt({command:it.ComputeSignal,namespace:t,datasetName:n,path:p==null?void 0:p.path}),M=()=>l(3,w=!0);function le(z){w=z,l(3,w)}const Q=()=>l(3,w=!1);function X(z){gt.call(this,i,z)}function P(z){gt.call(this,i,z)}return i.$$set=z=>{"field"in z&&l(0,p=z.field)},i.$$.update=()=>{var z,x,L;i.$$.dirty&262144&&l(5,t=_.namespace),i.$$.dirty&262144&&l(4,n=_.datasetName),i.$$.dirty&1&&l(2,o=at(p)),i.$$.dirty&1&&l(1,r=Mt(p)),i.$$.dirty&131073&&l(15,s=Qn(((z=h.selectRowsSchema)==null?void 0:z.data)||null,p.path)),i.$$.dirty&32775&&l(8,a=(bt(p)||St(p)||!o||r)&&!s),i.$$.dirty&65536&&l(7,f=(x=c.data)==null?void 0:x.access.dataset.compute_signals),i.$$.dirty&65536&&l(6,u=(L=c.data)==null?void 0:L.access.dataset.delete_signals)},[p,r,o,w,n,t,u,f,a,d,S,k,D,C,V,s,c,h,_,A,N,j,J,F,M,le,Q,X,P]}class va extends ke{constructor(e){super(),$e(this,e,ba,pa,we,{field:0})}}function Jl(i,e,l){const t=i.slice();t[7]=e[l][0],t[8]=e[l][1];const n=t[2](t[7]);t[9]=n;const o=`${t[8]/t[1]*100}%`;t[10]=o;const r=ye(t[8]);return t[11]=r,t}function Xl(i){let e,l,t=i[9]+"",n,o,r,s,a,f=i[11]+"",u,d,c,h,_;function p(){return i[6](i[7])}return{c(){e=y("button"),l=y("div"),n=G(t),r=U(),s=y("div"),a=y("div"),u=G(f),c=U(),this.h()},l(w){e=I(w,"BUTTON",{class:!0});var S=$(e);l=I(S,"DIV",{title:!0,class:!0});var k=$(l);n=K(k,t),k.forEach(m),r=Y(S),s=I(S,"DIV",{class:!0});var D=$(s);a=I(D,"DIV",{title:!0,class:!0});var C=$(a);u=K(C,f),C.forEach(m),D.forEach(m),c=Y(S),S.forEach(m),this.h()},h(){T(l,"title",o=i[9]),T(l,"class","w-48 flex-none truncate px-2"),T(a,"title",d=i[11]),T(a,"class","histogram-bar my-px bg-indigo-200 pl-2 text-xs leading-5"),ct(a,"width",i[10]),T(s,"class","w-36 border-l border-gray-300 pl-2"),T(e,"class","flex items-center p-0 text-left text-xs text-black hover:bg-gray-200")},m(w,S){E(w,e,S),b(e,l),b(l,n),b(e,r),b(e,s),b(s,a),b(a,u),b(e,c),h||(_=Pe(e,"click",p),h=!0)},p(w,S){i=w,S&1&&t!==(t=i[9]+"")&&de(n,t),S&1&&o!==(o=i[9])&&T(l,"title",o),S&1&&f!==(f=i[11]+"")&&de(u,f),S&1&&d!==(d=i[11])&&T(a,"title",d),S&3&&ct(a,"width",i[10])},d(w){w&&m(e),h=!1,_()}}}function wa(i){let e,l=i[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=Xl(Jl(i,l,n));return{c(){e=y("div");for(let n=0;n<t.length;n+=1)t[n].c();this.h()},l(n){e=I(n,"DIV",{class:!0});var o=$(e);for(let r=0;r<t.length;r+=1)t[r].l(o);o.forEach(m),this.h()},h(){T(e,"class","histogram")},m(n,o){E(n,e,o);for(let r=0;r<t.length;r+=1)t[r]&&t[r].m(e,null)},p(n,[o]){if(o&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const s=Jl(n,l,r);t[r]?t[r].p(s,o):(t[r]=Xl(s),t[r].c(),t[r].m(e,null))}for(;r<t.length;r+=1)t[r].d(1);t.length=l.length}},i:ee,o:ee,d(n){n&&m(e),Be(t,n)}}}function ka(i,e,l){let t,{field:n}=e,{counts:o}=e,{bins:r}=e;function s(u){if(u==null)return ye(u);if(r==null||n.bins!=null)return ye(u);const[d,c]=r[u.toString()];return d==null?`< ${ye(c)}`:c==null?`≥ ${ye(d)}`:`${ye(d)} .. ${ye(c)}`}const a=ht(),f=u=>a("row-click",{value:u});return i.$$set=u=>{"field"in u&&l(4,n=u.field),"counts"in u&&l(0,o=u.counts),"bins"in u&&l(5,r=u.bins)},i.$$.update=()=>{i.$$.dirty&1&&l(1,t=Math.max(...o.map(([u,d])=>d)))},[o,t,s,a,n,r,f]}class $a extends ke{constructor(e){super(),$e(this,e,ka,wa,we,{field:4,counts:0,bins:5})}}function Sa(i){let e,l,t,n,o,r,s,a,f,u,d,c=ye(i[4].total_count)+"",h,_,p,w,S,k,D,C,V,A,N,j,J=ye(i[4].approx_count_distinct)+"",F,M,le,Q,X,P;r=new mt({props:{class:"inline"}}),k=new mt({props:{class:"inline"}});let z=i[4].avg_text_length&&xl(i),x=i[4].min_val&&i[4].max_val&&en(i);return{c(){e=y("table"),l=y("tbody"),t=y("tr"),n=y("td"),o=y("span"),R(r.$$.fragment),s=U(),a=y("span"),f=G("Total count"),u=U(),d=y("td"),h=G(c),_=U(),p=y("tr"),w=y("td"),S=y("span"),R(k.$$.fragment),D=U(),C=y("span"),V=G("Unique values"),A=U(),N=y("td"),j=G("~"),F=G(J),M=U(),z&&z.c(),le=U(),x&&x.c(),this.h()},l(L){e=I(L,"TABLE",{class:!0});var Z=$(e);l=I(Z,"TBODY",{});var pe=$(l);t=I(pe,"TR",{});var _e=$(t);n=I(_e,"TD",{class:!0});var ce=$(n);o=I(ce,"SPAN",{});var fe=$(o);q(r.$$.fragment,fe),fe.forEach(m),s=Y(ce),a=I(ce,"SPAN",{});var ae=$(a);f=K(ae,"Total count"),ae.forEach(m),ce.forEach(m),u=Y(_e),d=I(_e,"TD",{class:!0});var te=$(d);h=K(te,c),te.forEach(m),_e.forEach(m),_=Y(pe),p=I(pe,"TR",{});var B=$(p);w=I(B,"TD",{class:!0});var se=$(w);S=I(se,"SPAN",{});var W=$(S);q(k.$$.fragment,W),W.forEach(m),D=Y(se),C=I(se,"SPAN",{});var ne=$(C);V=K(ne,"Unique values"),ne.forEach(m),se.forEach(m),A=Y(B),N=I(B,"TD",{class:!0});var he=$(N);j=K(he,"~"),F=K(he,J),he.forEach(m),B.forEach(m),M=Y(pe),z&&z.l(pe),le=Y(pe),x&&x.l(pe),pe.forEach(m),Z.forEach(m),this.h()},h(){T(n,"class","svelte-1tctrjz"),T(d,"class","svelte-1tctrjz"),T(w,"class","svelte-1tctrjz"),T(N,"class","svelte-1tctrjz"),T(e,"class","stats-table w-full svelte-1tctrjz")},m(L,Z){E(L,e,Z),b(e,l),b(l,t),b(t,n),b(n,o),H(r,o,null),b(n,s),b(n,a),b(a,f),b(t,u),b(t,d),b(d,h),b(l,_),b(l,p),b(p,w),b(w,S),H(k,S,null),b(w,D),b(w,C),b(C,V),b(p,A),b(p,N),b(N,j),b(N,F),b(l,M),z&&z.m(l,null),b(l,le),x&&x.m(l,null),Q=!0,X||(P=[De(Te.call(null,o,{text:"Total number of rows where the value is defined."})),De(Te.call(null,S,{text:"An approximation of the total number of unique values."}))],X=!0)},p(L,Z){(!Q||Z&16)&&c!==(c=ye(L[4].total_count)+"")&&de(h,c),(!Q||Z&16)&&J!==(J=ye(L[4].approx_count_distinct)+"")&&de(F,J),L[4].avg_text_length?z?(z.p(L,Z),Z&16&&g(z,1)):(z=xl(L),z.c(),g(z,1),z.m(l,le)):z&&(ie(),v(z,1,1,()=>{z=null}),re()),L[4].min_val&&L[4].max_val?x?(x.p(L,Z),Z&16&&g(x,1)):(x=en(L),x.c(),g(x,1),x.m(l,null)):x&&(ie(),v(x,1,1,()=>{x=null}),re())},i(L){Q||(g(r.$$.fragment,L),g(k.$$.fragment,L),g(z),g(x),Q=!0)},o(L){v(r.$$.fragment,L),v(k.$$.fragment,L),v(z),v(x),Q=!1},d(L){L&&m(e),O(r),O(k),z&&z.d(),x&&x.d(),X=!1,tt(P)}}}function Ea(i){let e,l;return e=new Qe({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ya(i){let e,l,t=i[2].error.message+"",n;return{c(){e=y("p"),l=G("Error: "),n=G(t)},l(o){e=I(o,"P",{});var r=$(e);l=K(r,"Error: "),n=K(r,t),r.forEach(m)},m(o,r){E(o,e,r),b(e,l),b(e,n)},p(o,r){r&4&&t!==(t=o[2].error.message+"")&&de(n,t)},i:ee,o:ee,d(o){o&&m(e)}}}function xl(i){let e,l,t,n,o,r,s,a,f,u=ye(i[4].avg_text_length)+"",d,c,h,_;return n=new mt({props:{class:"inline"}}),{c(){e=y("tr"),l=y("td"),t=y("span"),R(n.$$.fragment),o=U(),r=y("span"),s=G("Average text length"),a=U(),f=y("td"),d=G(u),this.h()},l(p){e=I(p,"TR",{});var w=$(e);l=I(w,"TD",{class:!0});var S=$(l);t=I(S,"SPAN",{});var k=$(t);q(n.$$.fragment,k),k.forEach(m),o=Y(S),r=I(S,"SPAN",{});var D=$(r);s=K(D,"Average text length"),D.forEach(m),S.forEach(m),a=Y(w),f=I(w,"TD",{class:!0});var C=$(f);d=K(C,u),C.forEach(m),w.forEach(m),this.h()},h(){T(l,"class","svelte-1tctrjz"),T(f,"class","svelte-1tctrjz")},m(p,w){E(p,e,w),b(e,l),b(l,t),H(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,d),c=!0,h||(_=De(Te.call(null,t,{text:"The average length of the text in characters."})),h=!0)},p(p,w){(!c||w&16)&&u!==(u=ye(p[4].avg_text_length)+"")&&de(d,u)},i(p){c||(g(n.$$.fragment,p),c=!0)},o(p){v(n.$$.fragment,p),c=!1},d(p){p&&m(e),O(n),h=!1,_()}}}function en(i){let e,l,t,n,o,r,s,a,f,u=ye(i[4].min_val)+"",d,c,h=ye(i[4].max_val)+"",_,p,w,S;return n=new mt({props:{class:"inline"}}),{c(){e=y("tr"),l=y("td"),t=y("span"),R(n.$$.fragment),o=U(),r=y("span"),s=G("Range"),a=U(),f=y("td"),d=G(u),c=G(" .. "),_=G(h),this.h()},l(k){e=I(k,"TR",{});var D=$(e);l=I(D,"TD",{class:!0});var C=$(l);t=I(C,"SPAN",{});var V=$(t);q(n.$$.fragment,V),V.forEach(m),o=Y(C),r=I(C,"SPAN",{});var A=$(r);s=K(A,"Range"),A.forEach(m),C.forEach(m),a=Y(D),f=I(D,"TD",{class:!0});var N=$(f);d=K(N,u),c=K(N," .. "),_=K(N,h),N.forEach(m),D.forEach(m),this.h()},h(){T(l,"class","svelte-1tctrjz"),T(f,"class","svelte-1tctrjz")},m(k,D){E(k,e,D),b(e,l),b(l,t),H(n,t,null),b(l,o),b(l,r),b(r,s),b(e,a),b(e,f),b(f,d),b(f,c),b(f,_),p=!0,w||(S=De(Te.call(null,t,{text:"The minimum and maximum value across the dataset"})),w=!0)},p(k,D){(!p||D&16)&&u!==(u=ye(k[4].min_val)+"")&&de(d,u),(!p||D&16)&&h!==(h=ye(k[4].max_val)+"")&&de(_,h)},i(k){p||(g(n.$$.fragment,k),p=!0)},o(k){v(n.$$.fragment,k),p=!1},d(k){k&&m(e),O(n),w=!1,S()}}}function Ia(i){let e,l,t;return l=new $a({props:{counts:i[5],bins:i[3],field:i[0]}}),l.$on("row-click",i[13]),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(n){e=I(n,"DIV",{class:!0});var o=$(e);q(l.$$.fragment,o),o.forEach(m),this.h()},h(){T(e,"class","mt-4")},m(n,o){E(n,e,o),H(l,e,null),t=!0},p(n,o){const r={};o&32&&(r.counts=n[5]),o&8&&(r.bins=n[3]),o&1&&(r.field=n[0]),l.$set(r)},i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),O(l)}}}function Da(i){let e,l;return e=new Qe({props:{paragraph:!0,width:"50%"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ta(i){let e,l,t=i[1].error.message+"",n;return{c(){e=y("p"),l=G("Error: "),n=G(t)},l(o){e=I(o,"P",{});var r=$(e);l=K(r,"Error: "),n=K(r,t),r.forEach(m)},m(o,r){E(o,e,r),b(e,l),b(e,n)},p(o,r){r&2&&t!==(t=o[1].error.message+"")&&de(n,t)},i:ee,o:ee,d(o){o&&m(e)}}}function Va(i){let e,l,t,n,o,r,s;const a=[ya,Ea,Sa],f=[];function u(_,p){return _[2].error?0:_[4]==null?1:2}l=u(i),t=f[l]=a[l](i);const d=[Ta,Da,Ia],c=[];function h(_,p){return _[1].error?0:_[5]==null?1:_[5].length>0?2:-1}return~(o=h(i))&&(r=c[o]=d[o](i)),{c(){e=y("div"),t.c(),n=U(),r&&r.c(),this.h()},l(_){e=I(_,"DIV",{class:!0});var p=$(e);t.l(p),n=Y(p),r&&r.l(p),p.forEach(m),this.h()},h(){T(e,"class","p-4")},m(_,p){E(_,e,p),f[l].m(e,null),b(e,n),~o&&c[o].m(e,null),s=!0},p(_,[p]){let w=l;l=u(_),l===w?f[l].p(_,p):(ie(),v(f[w],1,1,()=>{f[w]=null}),re(),t=f[l],t?t.p(_,p):(t=f[l]=a[l](_),t.c()),g(t,1),t.m(e,n));let S=o;o=h(_),o===S?~o&&c[o].p(_,p):(r&&(ie(),v(c[S],1,1,()=>{c[S]=null}),re()),~o?(r=c[o],r?r.p(_,p):(r=c[o]=d[o](_),r.c()),g(r,1),r.m(e,null)):r=null)},i(_){s||(g(t),g(r),s=!0)},o(_){v(t),v(r),s=!1},d(_){_&&m(e),f[l].d(),~o&&c[o].d()}}}function Na(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=Me(n,V=>l(1,s=V)),n),u,d=ee,c=()=>(d(),d=Me(t,V=>l(2,u=V)),t),h;i.$$.on_destroy.push(()=>a()),i.$$.on_destroy.push(()=>d());let{field:_}=e;const p=Ue();be(i,p,V=>l(12,h=V));let w,S,k=null;function D(V){if(V==null)return;if(k!=null){const[N,j]=k[V.toString()];if(N!=null){const J={path:_.path,op:"greater_equal",value:N};p.addFilter(J)}if(j!=null){const J={path:_.path,op:"less",value:j};p.addFilter(J)}return}const A={path:_.path,op:"equals",value:V};p.addFilter(A)}const C=V=>D(V.detail.value);return i.$$set=V=>{"field"in V&&l(0,_=V.field)},i.$$.update=()=>{var V;if(i.$$.dirty&4097&&c(l(7,t=Pi(h.namespace,h.datasetName,{leaf_path:_.path}))),i.$$.dirty&1&&l(10,w=On(_.dtype)&&!_.categorical?"value":"count"),i.$$.dirty&1024&&l(11,S=w==="value"?"ASC":"DESC"),i.$$.dirty&7169&&f(l(6,n=Ai(h.namespace,h.datasetName,{leaf_path:_.path,filters:h.query.filters,sort_by:w,sort_order:S}))),i.$$.dirty&2&&l(5,o=s.data!=null?s.data.counts:null),i.$$.dirty&4&&l(4,r=u.data!=null?u.data:null),i.$$.dirty&2)if(((V=s.data)==null?void 0:V.bins)!=null){l(3,k={});for(const[A,N,j]of Object.values(s.data.bins))l(3,k[A]=[N,j],k)}else l(3,k=null)},[_,s,u,k,r,o,n,t,p,D,w,S,h,C]}class Ca extends ke{constructor(e){super(),$e(this,e,Na,Va,we,{field:0})}}function tn(i,e,l){const t=i.slice();return t[38]=e[l],t}function ln(i,e,l){const t=i.slice();return t[41]=e[l],t}function nn(i,e,l){const t=i.slice();return t[44]=e[l],t}function rn(i,e,l){const t=i.slice();return t[47]=e[l],t}function Fa(i){let e,l="{}",t;return{c(){e=y("span"),t=G(l),this.h()},l(n){e=I(n,"SPAN",{class:!0});var o=$(e);t=K(o,l),o.forEach(m),this.h()},h(){T(e,"class","font-mono")},m(n,o){E(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&m(e)}}}function Ma(i){let e,l,t,n;var o=ot[i[1].repeated_field.dtype];function r(s){return{props:{title:s[1].dtype}}}return o&&(l=st(o,r(i))),{c(){e=y("div"),l&&R(l.$$.fragment),t=G("[]"),this.h()},l(s){e=I(s,"DIV",{class:!0});var a=$(e);l&&q(l.$$.fragment,a),t=K(a,"[]"),a.forEach(m),this.h()},h(){T(e,"class","flex")},m(s,a){E(s,e,a),l&&H(l,e,null),b(e,t),n=!0},p(s,a){const f={};if(a[0]&2&&(f.title=s[1].dtype),a[0]&2&&o!==(o=ot[s[1].repeated_field.dtype])){if(l){ie();const u=l;v(u.$$.fragment,1,0,()=>{O(u,1)}),re()}o?(l=st(o,r(s)),R(l.$$.fragment),g(l.$$.fragment,1),H(l,e,t)):l=null}else o&&l.$set(f)},i(s){n||(l&&g(l.$$.fragment,s),n=!0)},o(s){l&&v(l.$$.fragment,s),n=!1},d(s){s&&m(e),l&&O(l)}}}function za(i){let e,l,t;var n=ot[i[1].dtype];function o(r){return{props:{title:r[1].dtype}}}return n&&(e=st(n,o(i))),{c(){e&&R(e.$$.fragment),l=oe()},l(r){e&&q(e.$$.fragment,r),l=oe()},m(r,s){e&&H(e,r,s),E(r,l,s),t=!0},p(r,s){const a={};if(s[0]&2&&(a.title=r[1].dtype),s[0]&2&&n!==(n=ot[r[1].dtype])){if(e){ie();const f=e;v(f.$$.fragment,1,0,()=>{O(f,1)}),re()}n?(e=st(n,o(r)),R(e.$$.fragment),g(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&m(l),e&&O(e,r)}}}function sn(i){let e,l;return e=new Bt({props:{interactive:!0,type:"green",$$slots:{default:[Ba]},$$scope:{ctx:i}}}),e.$on("click",i[32]),e.$on("remove",i[33]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&16384|n[1]&524288&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Pa(i){let e,l;return e=new ei({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Aa(i){let e,l;return e=new xn({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ba(i){let e,l,t,n,o,r,s,a;const f=[Aa,Pa],u=[];function d(c,h){return c[14]=="ASC"?0:1}return r=d(i),s=u[r]=f[r](i),{c(){e=y("div"),l=y("div"),t=G("Sorted"),n=U(),o=y("span"),s.c(),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=$(e);l=I(h,"DIV",{class:!0});var _=$(l);t=K(_,"Sorted"),_.forEach(m),n=Y(h),o=I(h,"SPAN",{});var p=$(o);s.l(p),p.forEach(m),h.forEach(m),this.h()},h(){T(l,"class","mr-1"),T(e,"class","flex flex-row")},m(c,h){E(c,e,h),b(e,l),b(l,t),b(e,n),b(e,o),u[r].m(o,null),a=!0},p(c,h){let _=r;r=d(c),r!==_&&(ie(),v(u[_],1,1,()=>{u[_]=null}),re(),s=u[r],s||(s=u[r]=f[r](c),s.c()),g(s,1),s.m(o,null))},i(c){a||(g(s),a=!0)},o(c){v(s),a=!1},d(c){c&&m(e),u[r].d()}}}function an(i){let e,l,t=i[7],n=[];for(let r=0;r<t.length;r+=1)n[r]=on(rn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,s){if(s[0]&128){t=r[7];let a;for(a=0;a<t.length;a+=1){const f=rn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=on(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function on(i){let e,l;return e=new ti({props:{filter:i[47],hidePath:!0}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&128&&(o.filter=t[47]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fn(i){let e,l;return e=new li({props:{search:i[44]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&4096&&(o.search=t[44]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function un(i){var t;let e,l;return e=new Kn({props:{embedding:(t=i[41].signal)==null?void 0:t.signal_name}}),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,o){H(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&65536&&(r.embedding=(s=n[41].signal)==null?void 0:s.signal_name),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function cn(i){let e,l,t,n,o,r,s;return l=new xe({props:{type:"cyan",icon:Gn}}),l.$on("click",i[34]),n=new kr({props:{isPreview:!0}}),n.$on("click",i[35]),{c(){e=y("div"),R(l.$$.fragment),t=U(),R(n.$$.fragment),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);q(l.$$.fragment,f),f.forEach(m),t=Y(a),q(n.$$.fragment,a),this.h()},h(){T(e,"class","compute-signal-preview pointer-events-auto")},m(a,f){E(a,e,f),H(l,e,null),E(a,t,f),H(n,a,f),o=!0,r||(s=De(Te.call(null,e,{text:`Compute signal over the column and save the result.

This may be expensive.`})),r=!0)},p:ee,i(a){o||(g(l.$$.fragment,a),g(n.$$.fragment,a),o=!0)},o(a){v(l.$$.fragment,a),v(n.$$.fragment,a),o=!1},d(a){a&&m(e),O(l),a&&m(t),O(n,a),r=!1,s()}}}function dn(i){let e,l,t,n,o,r,s;return t=new br({}),{c(){e=y("button"),l=y("div"),R(t.$$.fragment),this.h()},l(a){e=I(a,"BUTTON",{});var f=$(e);l=I(f,"DIV",{class:!0});var u=$(l);q(t.$$.fragment,u),u.forEach(m),f.forEach(m),this.h()},h(){T(l,"class","transition"),ue(l,"rotate-180",i[20]),ue(e,"bg-slate-300",i[20])},m(a,f){E(a,e,f),b(e,l),H(t,l,null),o=!0,r||(s=[De(n=Te.call(null,e,{text:i[20]?"Close statistics":"See statistics"})),Pe(e,"click",i[36])],r=!0)},p(a,f){(!o||f[0]&1048576)&&ue(l,"rotate-180",a[20]),n&&je(n.update)&&f[0]&1048576&&n.update.call(null,{text:a[20]?"Close statistics":"See statistics"}),(!o||f[0]&1048576)&&ue(e,"bg-slate-300",a[20])},i(a){o||(g(t.$$.fragment,a),o=!0)},o(a){v(t.$$.fragment,a),o=!1},d(a){a&&m(e),O(t),r=!1,tt(s)}}}function mn(i){let e,l,t,n;return l=new Ca({props:{field:i[1]}}),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(o){e=I(o,"DIV",{class:!0});var r=$(e);q(l.$$.fragment,r),r.forEach(m),this.h()},h(){T(e,"class","px-2")},m(o,r){E(o,e,r),H(l,e,null),n=!0},p(o,r){const s={};r[0]&2&&(s.field=o[1]),l.$set(s)},i(o){n||(g(l.$$.fragment,o),o&&Dt(()=>{n&&(t||(t=pt(e,vt,{},!0)),t.run(1))}),n=!0)},o(o){v(l.$$.fragment,o),o&&(t||(t=pt(e,vt,{},!1)),t.run(0)),n=!1},d(o){o&&m(e),O(l),o&&t&&t.end()}}}function hn(i){let e,l,t=i[18],n=[];for(let r=0;r<t.length;r+=1)n[r]=_n(tn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,s){if(s[0]&262415){t=r[18];let a;for(a=0;a<t.length;a+=1){const f=tn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=_n(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function _n(i){let e,l;return e=new ni({props:{schema:i[0],field:i[38],indent:i[3]+1,sourceField:i[8]&&at(i[38])?i[1]:i[2]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.schema=t[0]),n[0]&262144&&(o.field=t[38]),n[0]&8&&(o.indent=t[3]+1),n[0]&262406&&(o.sourceField=t[8]&&at(t[38])?t[1]:t[2]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ra(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N,j,J,F,M,le;n=new Ln({props:{labelText:"Show",hideLabel:!0,checked:i[17]}}),n.$on("change",i[30]);const Q=[za,Ma,Fa],X=[];function P(W,ne){return W[1].dtype?0:W[1].repeated_field&&W[1].repeated_field.dtype?1:2}s=P(i),a=X[s]=Q[s](i);let z=i[15]&&sn(i),x=i[13]&&an(i),L=i[12],Z=[];for(let W=0;W<L.length;W+=1)Z[W]=fn(nn(i,L,W));const pe=W=>v(Z[W],1,1,()=>{Z[W]=null});let _e=i[16],ce=[];for(let W=0;W<_e.length;W+=1)ce[W]=un(ln(i,_e,W));const fe=W=>v(ce[W],1,1,()=>{ce[W]=null});let ae=i[4]&&i[21]&&cn(i),te=i[10]&&dn(i);V=new va({props:{field:i[1]}});let B=i[20]&&mn(i),se=i[18].length&&hn(i);return{c(){e=y("div"),l=y("div"),t=y("div"),R(n.$$.fragment),o=U(),r=y("div"),a.c(),u=U(),d=y("button"),c=G(i[19]),_=U(),z&&z.c(),p=U(),x&&x.c(),w=U();for(let W=0;W<Z.length;W+=1)Z[W].c();S=U();for(let W=0;W<ce.length;W+=1)ce[W].c();k=U(),ae&&ae.c(),D=U(),te&&te.c(),C=U(),R(V.$$.fragment),A=U(),B&&B.c(),N=U(),j=y("div"),se&&se.c(),this.h()},l(W){e=I(W,"DIV",{class:!0});var ne=$(e);l=I(ne,"DIV",{class:!0});var he=$(l);t=I(he,"DIV",{});var Re=$(t);q(n.$$.fragment,Re),Re.forEach(m),o=Y(he),r=I(he,"DIV",{class:!0});var He=$(r);a.l(He),He.forEach(m),u=Y(he),d=I(he,"BUTTON",{class:!0});var ge=$(d);c=K(ge,i[19]),ge.forEach(m),_=Y(he),z&&z.l(he),p=Y(he),x&&x.l(he),w=Y(he);for(let Ge=0;Ge<Z.length;Ge+=1)Z[Ge].l(he);S=Y(he);for(let Ge=0;Ge<ce.length;Ge+=1)ce[Ge].l(he);k=Y(he),ae&&ae.l(he),D=Y(he),te&&te.l(he),C=Y(he),q(V.$$.fragment,he),he.forEach(m),A=Y(ne),B&&B.l(ne),N=Y(ne),j=I(ne,"DIV",{});var Ye=$(j);se&&se.l(Ye),Ye.forEach(m),ne.forEach(m),this.h()},h(){ct(t,"margin-left",i[3]*1.5+"rem"),T(r,"class","rounded-md bg-blue-200 p-0.5"),ue(r,"bg-blue-200",i[5]),T(d,"class","ml-2 grow cursor-pointer truncate whitespace-nowrap text-left text-gray-900"),d.disabled=h=!i[10],ue(d,"cursor-default",!i[10]),T(l,"class","flex w-full flex-row items-center gap-x-2 border-gray-300 px-4 hover:bg-gray-100"),ue(l,"bg-blue-50",i[5]),ue(l,"bg-emerald-100",i[4]),ue(l,"hover:bg-blue-100",i[5]),T(e,"class","border-gray-300"),ue(e,"border-b",!i[5])},m(W,ne){E(W,e,ne),b(e,l),b(l,t),H(n,t,null),b(l,o),b(l,r),X[s].m(r,null),b(l,u),b(l,d),b(d,c),b(l,_),z&&z.m(l,null),b(l,p),x&&x.m(l,null),b(l,w);for(let he=0;he<Z.length;he+=1)Z[he]&&Z[he].m(l,null);b(l,S);for(let he=0;he<ce.length;he+=1)ce[he]&&ce[he].m(l,null);b(l,k),ae&&ae.m(l,null),b(l,D),te&&te.m(l,null),b(l,C),H(V,l,null),b(e,A),B&&B.m(e,null),b(e,N),b(e,j),se&&se.m(j,null),F=!0,M||(le=[De(f=Te.call(null,r,{text:i[11]})),Pe(d,"click",i[31])],M=!0)},p(W,ne){const he={};ne[0]&131072&&(he.checked=W[17]),n.$set(he),ne[0]&8&&ct(t,"margin-left",W[3]*1.5+"rem");let Re=s;if(s=P(W),s===Re?X[s].p(W,ne):(ie(),v(X[Re],1,1,()=>{X[Re]=null}),re(),a=X[s],a?a.p(W,ne):(a=X[s]=Q[s](W),a.c()),g(a,1),a.m(r,null)),f&&je(f.update)&&ne[0]&2048&&f.update.call(null,{text:W[11]}),(!F||ne[0]&32)&&ue(r,"bg-blue-200",W[5]),(!F||ne[0]&524288)&&de(c,W[19]),(!F||ne[0]&1024&&h!==(h=!W[10]))&&(d.disabled=h),(!F||ne[0]&1024)&&ue(d,"cursor-default",!W[10]),W[15]?z?(z.p(W,ne),ne[0]&32768&&g(z,1)):(z=sn(W),z.c(),g(z,1),z.m(l,p)):z&&(ie(),v(z,1,1,()=>{z=null}),re()),W[13]?x?(x.p(W,ne),ne[0]&8192&&g(x,1)):(x=an(W),x.c(),g(x,1),x.m(l,w)):x&&(ie(),v(x,1,1,()=>{x=null}),re()),ne[0]&4096){L=W[12];let ge;for(ge=0;ge<L.length;ge+=1){const Ye=nn(W,L,ge);Z[ge]?(Z[ge].p(Ye,ne),g(Z[ge],1)):(Z[ge]=fn(Ye),Z[ge].c(),g(Z[ge],1),Z[ge].m(l,S))}for(ie(),ge=L.length;ge<Z.length;ge+=1)pe(ge);re()}if(ne[0]&65536){_e=W[16];let ge;for(ge=0;ge<_e.length;ge+=1){const Ye=ln(W,_e,ge);ce[ge]?(ce[ge].p(Ye,ne),g(ce[ge],1)):(ce[ge]=un(Ye),ce[ge].c(),g(ce[ge],1),ce[ge].m(l,k))}for(ie(),ge=_e.length;ge<ce.length;ge+=1)fe(ge);re()}W[4]&&W[21]?ae?(ae.p(W,ne),ne[0]&2097168&&g(ae,1)):(ae=cn(W),ae.c(),g(ae,1),ae.m(l,D)):ae&&(ie(),v(ae,1,1,()=>{ae=null}),re()),W[10]?te?(te.p(W,ne),ne[0]&1024&&g(te,1)):(te=dn(W),te.c(),g(te,1),te.m(l,C)):te&&(ie(),v(te,1,1,()=>{te=null}),re());const He={};ne[0]&2&&(He.field=W[1]),V.$set(He),(!F||ne[0]&32)&&ue(l,"bg-blue-50",W[5]),(!F||ne[0]&16)&&ue(l,"bg-emerald-100",W[4]),(!F||ne[0]&32)&&ue(l,"hover:bg-blue-100",W[5]),W[20]?B?(B.p(W,ne),ne[0]&1048576&&g(B,1)):(B=mn(W),B.c(),g(B,1),B.m(e,N)):B&&(ie(),v(B,1,1,()=>{B=null}),re()),W[18].length?se?(se.p(W,ne),ne[0]&262144&&g(se,1)):(se=hn(W),se.c(),g(se,1),se.m(j,null)):se&&(ie(),v(se,1,1,()=>{se=null}),re()),(!F||ne[0]&32)&&ue(e,"border-b",!W[5])},i(W){if(!F){g(n.$$.fragment,W),g(a),g(z),g(x);for(let ne=0;ne<L.length;ne+=1)g(Z[ne]);for(let ne=0;ne<_e.length;ne+=1)g(ce[ne]);g(ae),g(te),g(V.$$.fragment,W),g(B),g(se),W&&Dt(()=>{F&&(J||(J=pt(j,vt,{},!0)),J.run(1))}),F=!0}},o(W){v(n.$$.fragment,W),v(a),v(z),v(x),Z=Z.filter(Boolean);for(let ne=0;ne<Z.length;ne+=1)v(Z[ne]);ce=ce.filter(Boolean);for(let ne=0;ne<ce.length;ne+=1)v(ce[ne]);v(ae),v(te),v(V.$$.fragment,W),v(B),v(se),W&&(J||(J=pt(j,vt,{},!1)),J.run(0)),F=!1},d(W){W&&m(e),O(n),X[s].d(),z&&z.d(),x&&x.d(),Be(Z,W),Be(ce,W),ae&&ae.d(),te&&te.d(),O(V),B&&B.d(),se&&se.d(),W&&J&&J.end(),M=!1,tt(le)}}}function Ha(i,e,l){let t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N,j,J,{schema:F}=e,{field:M}=e,{sourceField:le=void 0}=e,{indent:Q=0}=e;const X=Rn();be(i,X,te=>l(22,J=te));const P=Ue();be(i,P,te=>l(9,N=te));const z=et();be(i,z,te=>l(29,j=te));function x(te){return te!=null&&te.repeated_field?x(te.repeated_field):te!=null&&te.fields?[...Object.values(te.fields).filter(B=>B.path.at(-1)!==Bi)].filter(B=>{var se,W,ne,he;return!(B.dtype==="embedding"||B.signal!=null&&rt(B).some(Re=>Re.dtype==="embedding")||((se=B.signal)==null?void 0:se.signal_name)==="sentences"||((W=B.signal)==null?void 0:W.signal_name)==="substring_search"||((ne=B.signal)==null?void 0:ne.signal_name)==="semantic_similarity"||((he=B.signal)==null?void 0:he.signal_name)==="concept_labels")}):[]}const L=()=>{d?(P.removeSelectedColumn(r),M.repeated_field!=null&&P.removeSelectedColumn([...r,ut])):(M.signal!=null&&rt(M).forEach(B=>{P.addSelectedColumn(B.path)}),P.addSelectedColumn(r),M.repeated_field!=null&&P.addSelectedColumn([...r,ut]))},Z=()=>{A&&(s?P.removeExpandedColumn(r):P.addExpandedColumn(r))},pe=()=>_==="ASC"?$t(P,N.query.sort_order="DESC",N):$t(P,N.query.sort_order="ASC",N),_e=()=>P.removeSortBy(r),ce=()=>M.signal&&S&&le&&J.mutate([N.namespace,N.datasetName,{leaf_path:le.path,signal:M.signal}]),fe=()=>{var te;return M.signal&&S&&nt({command:it.EditPreviewConcept,namespace:N.namespace,datasetName:N.datasetName,path:le==null?void 0:le.path,signalName:(te=M.signal)==null?void 0:te.signal_name,value:M.signal})},ae=()=>{s?P.removeExpandedColumn(r):P.addExpandedColumn(r)};return i.$$set=te=>{"schema"in te&&l(0,F=te.schema),"field"in te&&l(1,M=te.field),"sourceField"in te&&l(2,le=te.sourceField),"indent"in te&&l(3,Q=te.indent)},i.$$.update=()=>{var te,B,se,W;i.$$.dirty[0]&2&&l(5,t=at(M)),i.$$.dirty[0]&2&&l(21,n=Mt(M)),i.$$.dirty[0]&32&&l(8,o=!t),i.$$.dirty[0]&2&&l(6,r=M.path),i.$$.dirty[0]&576&&l(20,s=N.expandedColumns[Ne(r)]||!1),i.$$.dirty[0]&64&&l(28,a=r.at(-1)===ut),i.$$.dirty[0]&268435520&&l(19,f=a?r.at(-2):r.at(-1)),i.$$.dirty[0]&2&&l(18,u=x(M)),i.$$.dirty[0]&536870976&&l(17,d=(te=j.visibleFields)==null?void 0:te.some(ne=>Ze(ne.path,r))),i.$$.dirty[0]&258&&l(16,c=o?rt(M).filter(ne=>ne.signal!=null&&rt(ne).some(he=>he.dtype==="embedding")):[]),i.$$.dirty[0]&576&&l(15,h=(B=N.query.sort_by)==null?void 0:B.some(ne=>Ze(ne,r))),i.$$.dirty[0]&512&&l(14,_=N.query.sort_order),i.$$.dirty[0]&576&&l(7,p=((se=N.query.filters)==null?void 0:se.filter(ne=>Ze(ne.path,r)))||[]),i.$$.dirty[0]&128&&l(13,w=p.length>0),i.$$.dirty[0]&536870976&&l(4,S=Qn(((W=j.selectRowsSchema)==null?void 0:W.data)||null,r)),i.$$.dirty[0]&576&&l(12,k=Pt(N,r)),i.$$.dirty[0]&32&&l(26,D=t?". Generated by a signal":""),i.$$.dirty[0]&2&&l(27,C=M.dtype??(M.repeated_field&&M.repeated_field.dtype?`${M.repeated_field.dtype}[]`:"object")),i.$$.dirty[0]&201326592&&l(11,V=`${C}${D}`),i.$$.dirty[0]&18&&l(10,A=bt(M)&&!S)},[F,M,le,Q,S,t,r,p,o,N,A,V,k,w,_,h,c,d,u,f,s,n,J,X,P,z,D,C,a,j,L,Z,pe,_e,ce,fe,ae]}class ni extends ke{constructor(e){super(),$e(this,e,Ha,Ra,we,{schema:0,field:1,sourceField:2,indent:3},null,[-1,-1])}}function gn(i,e,l){const t=i.slice();return t[3]=e[l],t}function Oa(i){let e=[],l=new Map,t,n,o=Object.keys(i[0].data.schema.fields);const r=s=>s[3];for(let s=0;s<o.length;s+=1){let a=gn(i,o,s),f=r(a);l.set(f,e[s]=pn(f,a))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();t=oe()},l(s){for(let a=0;a<e.length;a+=1)e[a].l(s);t=oe()},m(s,a){for(let f=0;f<e.length;f+=1)e[f]&&e[f].m(s,a);E(s,t,a),n=!0},p(s,a){a&1&&(o=Object.keys(s[0].data.schema.fields),ie(),e=yt(e,a,r,1,s,o,l,t.parentNode,It,pn,t,gn),re())},i(s){if(!n){for(let a=0;a<o.length;a+=1)g(e[a]);n=!0}},o(s){for(let a=0;a<e.length;a+=1)v(e[a]);n=!1},d(s){for(let a=0;a<e.length;a+=1)e[a].d(s);s&&m(t)}}}function La(i){let e,l;return e=new Qe({props:{paragraph:!0,lines:3}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function pn(i,e){let l,t,n;return t=new ni({props:{schema:e[0].data.schema,field:e[0].data.schema.fields[e[3]]}}),{key:i,first:null,c(){l=oe(),R(t.$$.fragment),this.h()},l(o){l=oe(),q(t.$$.fragment,o),this.h()},h(){this.first=l},m(o,r){E(o,l,r),H(t,o,r),n=!0},p(o,r){e=o;const s={};r&1&&(s.schema=e[0].data.schema),r&1&&(s.field=e[0].data.schema.fields[e[3]]),t.$set(s)},i(o){n||(g(t.$$.fragment,o),n=!0)},o(o){v(t.$$.fragment,o),n=!1},d(o){o&&m(l),O(t,o)}}}function qa(i){let e,l,t,n;const o=[La,Oa],r=[];function s(a,f){var u,d;return(u=a[0])!=null&&u.isLoading?0:(d=a[0])!=null&&d.isSuccess&&a[0].data.schema.fields!=null?1:-1}return~(l=s(i))&&(t=r[l]=o[l](i)),{c(){e=y("div"),t&&t.c(),this.h()},l(a){e=I(a,"DIV",{class:!0});var f=$(e);t&&t.l(f),f.forEach(m),this.h()},h(){T(e,"class","schema flex h-full flex-col overflow-y-auto")},m(a,f){E(a,e,f),~l&&r[l].m(e,null),n=!0},p(a,[f]){let u=l;l=s(a),l===u?~l&&r[l].p(a,f):(t&&(ie(),v(r[u],1,1,()=>{r[u]=null}),re()),~l?(t=r[l],t?t.p(a,f):(t=r[l]=o[l](a),t.c()),g(t,1),t.m(e,null)):t=null)},i(a){n||(g(t),n=!0)},o(a){v(t),n=!1},d(a){a&&m(e),~l&&r[l].d()}}}function ja(i,e,l){let t,n;const o=et();return be(i,o,r=>l(2,n=r)),i.$$.update=()=>{i.$$.dirty&4&&l(0,t=n.selectRowsSchema)},[t,o,n]}class Ua extends ke{constructor(e){super(),$e(this,e,ja,qa,we,{})}}function bn(i,e,l){const t=i.slice();return t[5]=e[l],t}function Ya(i){let e,l="{}",t;return{c(){e=y("span"),t=G(l),this.h()},l(n){e=I(n,"SPAN",{class:!0});var o=$(e);t=K(o,l),o.forEach(m),this.h()},h(){T(e,"class","font-mono")},m(n,o){E(n,e,o),b(e,t)},p:ee,i:ee,o:ee,d(n){n&&m(e)}}}function Wa(i){let e,l,t;var n=ot[i[5].dtype];function o(r){return{props:{title:r[5].dtype}}}return n&&(e=st(n,o(i))),{c(){e&&R(e.$$.fragment),l=oe()},l(r){e&&q(e.$$.fragment,r),l=oe()},m(r,s){e&&H(e,r,s),E(r,l,s),t=!0},p(r,s){const a={};if(s&2&&(a.title=r[5].dtype),s&2&&n!==(n=ot[r[5].dtype])){if(e){ie();const f=e;v(f.$$.fragment,1,0,()=>{O(f,1)}),re()}n?(e=st(n,o(r)),R(e.$$.fragment),g(e.$$.fragment,1),H(e,l.parentNode,l)):e=null}else n&&e.$set(a)},i(r){t||(e&&g(e.$$.fragment,r),t=!0)},o(r){e&&v(e.$$.fragment,r),t=!1},d(r){r&&m(l),e&&O(e,r)}}}function vn(i){let e;return{c(){e=G("[]")},l(l){e=K(l,"[]")},m(l,t){E(l,e,t)},d(l){l&&m(e)}}}function wn(i){let e,l,t,n,o,r,s,a,f,u=i[5].path.indexOf(ut)>=0,d,c,h=Ne(i[5].path)+"",_,p,w;function S(...N){return i[3](i[5],...N)}function k(...N){return i[4](i[5],...N)}t=new Ln({props:{labelText:"Download",hideLabel:!0,checked:i[0].find(S)!=null}}),t.$on("change",k);const D=[Wa,Ya],C=[];function V(N,j){return N[5].dtype?0:1}s=V(i),a=C[s]=D[s](i);let A=u&&vn();return{c(){e=y("div"),l=y("div"),R(t.$$.fragment),n=U(),o=y("div"),r=y("div"),a.c(),f=U(),A&&A.c(),d=U(),c=y("div"),_=G(h),p=U(),this.h()},l(N){e=I(N,"DIV",{class:!0});var j=$(e);l=I(j,"DIV",{class:!0});var J=$(l);q(t.$$.fragment,J),J.forEach(m),n=Y(j),o=I(j,"DIV",{class:!0});var F=$(o);r=I(F,"DIV",{class:!0});var M=$(r);a.l(M),f=Y(M),A&&A.l(M),M.forEach(m),F.forEach(m),d=Y(j),c=I(j,"DIV",{class:!0});var le=$(c);_=K(le,h),le.forEach(m),p=Y(j),j.forEach(m),this.h()},h(){T(l,"class","mr-2"),T(r,"class","inline-flex items-center rounded-md bg-blue-200 p-0.5"),T(o,"class","flex w-10"),T(c,"class","flex-grow"),T(e,"class","flex items-center")},m(N,j){E(N,e,j),b(e,l),H(t,l,null),b(e,n),b(e,o),b(o,r),C[s].m(r,null),b(r,f),A&&A.m(r,null),b(e,d),b(e,c),b(c,_),b(e,p),w=!0},p(N,j){i=N;const J={};j&3&&(J.checked=i[0].find(S)!=null),t.$set(J);let F=s;s=V(i),s===F?C[s].p(i,j):(ie(),v(C[F],1,1,()=>{C[F]=null}),re(),a=C[s],a?a.p(i,j):(a=C[s]=D[s](i),a.c()),g(a,1),a.m(r,f)),j&2&&(u=i[5].path.indexOf(ut)>=0),u?A||(A=vn(),A.c(),A.m(r,null)):A&&(A.d(1),A=null),(!w||j&2)&&h!==(h=Ne(i[5].path)+"")&&de(_,h)},i(N){w||(g(t.$$.fragment,N),g(a),w=!0)},o(N){v(t.$$.fragment,N),v(a),w=!1},d(N){N&&m(e),O(t),C[s].d(),A&&A.d()}}}function Qa(i){let e,l,t=i[1],n=[];for(let r=0;r<t.length;r+=1)n[r]=wn(bn(i,t,r));const o=r=>v(n[r],1,1,()=>{n[r]=null});return{c(){for(let r=0;r<n.length;r+=1)n[r].c();e=oe()},l(r){for(let s=0;s<n.length;s+=1)n[s].l(r);e=oe()},m(r,s){for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(r,s);E(r,e,s),l=!0},p(r,[s]){if(s&7){t=r[1];let a;for(a=0;a<t.length;a+=1){const f=bn(r,t,a);n[a]?(n[a].p(f,s),g(n[a],1)):(n[a]=wn(f),n[a].c(),g(n[a],1),n[a].m(e.parentNode,e))}for(ie(),a=t.length;a<n.length;a+=1)o(a);re()}},i(r){if(!l){for(let s=0;s<t.length;s+=1)g(n[s]);l=!0}},o(r){n=n.filter(Boolean);for(let s=0;s<n.length;s+=1)v(n[s]);l=!1},d(r){Be(n,r),r&&m(e)}}}function Ga(i,e,l){let{fields:t}=e,{checkedFields:n}=e;function o(a,f){f.target.checked?(n.push(a),l(0,n)):l(0,n=n.filter(d=>!Ze(d.path,a.path)))}const r=(a,f)=>Ze(f.path,a.path),s=(a,f)=>o(a,f);return i.$$set=a=>{"fields"in a&&l(1,t=a.fields),"checkedFields"in a&&l(0,n=a.checkedFields)},[n,t,o,r,s]}class wt extends ke{constructor(e){super(),$e(this,e,Ga,Qa,we,{fields:1,checkedFields:0})}}function kn(i,e,l){const t=i.slice();return t[29]=e[l],t}function Ka(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N,j,J,F,M,le;function Q(P){i[23](P)}let X={invalid:i[8]!=i[9]};return i[8]!==void 0&&(X.value=i[8]),D=new qi({props:X}),Le.push(()=>Je(D,"value",Q)),j=new _r({}),{c(){e=y("div"),l=y("section"),t=y("div"),n=G("Delete this dataset"),o=U(),r=y("div"),s=y("p"),a=G("This action cannot be undone."),f=U(),u=y("p"),d=G(`This will permanently delete the
                  `),c=y("span"),h=G(i[9]),_=G(` dataset and all its files. Please type
                  `),p=y("span"),w=G(i[9]),S=G(" to confirm."),k=U(),R(D.$$.fragment),V=U(),A=y("button"),N=G(`I understand, delete this dataset
                `),R(j.$$.fragment),this.h()},l(P){e=I(P,"DIV",{class:!0});var z=$(e);l=I(z,"SECTION",{class:!0});var x=$(l);t=I(x,"DIV",{class:!0});var L=$(t);n=K(L,"Delete this dataset"),L.forEach(m),o=Y(x),r=I(x,"DIV",{class:!0});var Z=$(r);s=I(Z,"P",{class:!0});var pe=$(s);a=K(pe,"This action cannot be undone."),pe.forEach(m),f=Y(Z),u=I(Z,"P",{});var _e=$(u);d=K(_e,`This will permanently delete the
                  `),c=I(_e,"SPAN",{class:!0});var ce=$(c);h=K(ce,i[9]),ce.forEach(m),_=K(_e,` dataset and all its files. Please type
                  `),p=I(_e,"SPAN",{class:!0});var fe=$(p);w=K(fe,i[9]),fe.forEach(m),S=K(_e," to confirm."),_e.forEach(m),Z.forEach(m),k=Y(x),q(D.$$.fragment,x),V=Y(x),A=I(x,"BUTTON",{class:!0});var ae=$(A);N=K(ae,`I understand, delete this dataset
                `),q(j.$$.fragment,ae),ae.forEach(m),x.forEach(m),z.forEach(m),this.h()},h(){T(t,"class","text-lg text-gray-700"),T(s,"class","mb-2"),T(c,"class","font-bold"),T(p,"class","font-bold"),T(r,"class","mb-4 text-sm text-gray-500"),T(A,"class","mt-2 flex cursor-pointer flex-row justify-between p-4 text-left outline-red-400 hover:bg-gray-200"),A.disabled=J=i[8]!=i[9],ue(A,"cursor-not-allowed",i[8]!=i[9]),ue(A,"outline",i[8]==i[9]),ue(A,"opacity-50",i[8]!=i[9]),T(l,"class","flex flex-col gap-y-1"),T(e,"class","flex flex-col gap-y-6")},m(P,z){E(P,e,z),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(s,a),b(r,f),b(r,u),b(u,d),b(u,c),b(c,h),b(u,_),b(u,p),b(p,w),b(u,S),b(l,k),H(D,l,null),b(l,V),b(l,A),b(A,N),H(j,A,null),F=!0,M||(le=Pe(A,"click",i[24]),M=!0)},p(P,z){(!F||z[0]&512)&&de(h,P[9]),(!F||z[0]&512)&&de(w,P[9]);const x={};z[0]&768&&(x.invalid=P[8]!=P[9]),!C&&z[0]&256&&(C=!0,x.value=P[8],Xe(()=>C=!1)),D.$set(x),(!F||z[0]&768&&J!==(J=P[8]!=P[9]))&&(A.disabled=J),(!F||z[0]&768)&&ue(A,"cursor-not-allowed",P[8]!=P[9]),(!F||z[0]&768)&&ue(A,"outline",P[8]==P[9]),(!F||z[0]&768)&&ue(A,"opacity-50",P[8]!=P[9])},i(P){F||(g(D.$$.fragment,P),g(j.$$.fragment,P),F=!0)},o(P){v(D.$$.fragment,P),v(j.$$.fragment,P),F=!1},d(P){P&&m(e),O(D),O(j),M=!1,le()}}}function Za(i){let e,l,t,n;const o=[Xa,Ja],r=[];function s(a,f){return a[6].isFetching?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),E(a,t,f),n=!0},p(a,f){let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function Ja(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C,V,A,N,j,J,F,M,le,Q;const X=[eo,xa],P=[];function z(fe,ae){return fe[3]!=null?0:1}f=z(i),u=P[f]=X[f](i);const x=[lo,to],L=[];function Z(fe,ae){return fe[11].isFetching?0:1}C=Z(i),V=L[C]=x[C](i);const pe=[ro,io],_e=[];function ce(fe,ae){return fe[3]!=null&&fe[4]!=null?0:1}return M=ce(i),le=_e[M]=pe[M](i),{c(){e=y("div"),l=y("section"),t=y("div"),n=G("Media fields"),o=U(),r=y("div"),s=G("These fields will be presented differently from the rest of the metadata fields."),a=U(),u.c(),d=U(),c=y("section"),h=y("div"),_=G("Preferred embedding"),p=U(),w=y("div"),S=G("This embedding will be used by default when indexing and querying the data."),k=U(),D=y("div"),V.c(),A=U(),N=y("section"),j=y("div"),J=G("Render as markdown"),F=U(),le.c(),this.h()},l(fe){e=I(fe,"DIV",{class:!0});var ae=$(e);l=I(ae,"SECTION",{class:!0});var te=$(l);t=I(te,"DIV",{class:!0});var B=$(t);n=K(B,"Media fields"),B.forEach(m),o=Y(te),r=I(te,"DIV",{class:!0});var se=$(r);s=K(se,"These fields will be presented differently from the rest of the metadata fields."),se.forEach(m),a=Y(te),u.l(te),te.forEach(m),d=Y(ae),c=I(ae,"SECTION",{class:!0});var W=$(c);h=I(W,"DIV",{class:!0});var ne=$(h);_=K(ne,"Preferred embedding"),ne.forEach(m),p=Y(W),w=I(W,"DIV",{class:!0});var he=$(w);S=K(he,"This embedding will be used by default when indexing and querying the data."),he.forEach(m),k=Y(W),D=I(W,"DIV",{class:!0});var Re=$(D);V.l(Re),Re.forEach(m),W.forEach(m),A=Y(ae),N=I(ae,"SECTION",{class:!0});var He=$(N);j=I(He,"DIV",{class:!0});var ge=$(j);J=K(ge,"Render as markdown"),ge.forEach(m),F=Y(He),le.l(He),He.forEach(m),ae.forEach(m),this.h()},h(){T(t,"class","text-lg text-gray-700"),T(r,"class","text-sm text-gray-500"),T(l,"class","flex flex-col gap-y-1"),T(h,"class","text-lg text-gray-700"),T(w,"class","text-sm text-gray-500"),T(D,"class","w-60"),T(c,"class","flex flex-col gap-y-1"),T(j,"class","text-lg text-gray-700"),T(N,"class","flex flex-col gap-y-1"),T(e,"class","flex flex-col gap-y-6")},m(fe,ae){E(fe,e,ae),b(e,l),b(l,t),b(t,n),b(l,o),b(l,r),b(r,s),b(l,a),P[f].m(l,null),b(e,d),b(e,c),b(c,h),b(h,_),b(c,p),b(c,w),b(w,S),b(c,k),b(c,D),L[C].m(D,null),b(e,A),b(e,N),b(N,j),b(j,J),b(N,F),_e[M].m(N,null),Q=!0},p(fe,ae){let te=f;f=z(fe),f===te?P[f].p(fe,ae):(ie(),v(P[te],1,1,()=>{P[te]=null}),re(),u=P[f],u?u.p(fe,ae):(u=P[f]=X[f](fe),u.c()),g(u,1),u.m(l,null));let B=C;C=Z(fe),C===B?L[C].p(fe,ae):(ie(),v(L[B],1,1,()=>{L[B]=null}),re(),V=L[C],V?V.p(fe,ae):(V=L[C]=x[C](fe),V.c()),g(V,1),V.m(D,null));let se=M;M=ce(fe),M===se?_e[M].p(fe,ae):(ie(),v(_e[se],1,1,()=>{_e[se]=null}),re(),le=_e[M],le?le.p(fe,ae):(le=_e[M]=pe[M](fe),le.c()),g(le,1),le.m(N,null))},i(fe){Q||(g(u),g(V),g(le),Q=!0)},o(fe){v(u),v(V),v(le),Q=!1},d(fe){fe&&m(e),P[f].d(),L[C].d(),_e[M].d()}}}function Xa(i){let e,l;return e=new Qe({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function xa(i){let e,l;return e=new zt({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function eo(i){let e,l,t;function n(r){i[21](r)}let o={fields:i[5]};return i[3]!==void 0&&(o.checkedFields=i[3]),e=new wt({props:o}),Le.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p(r,s){const a={};s[0]&32&&(a.fields=r[5]),!l&&s[0]&8&&(l=!0,a.checkedFields=r[3],Xe(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function to(i){var t;let e,l;return e=new Pn({props:{selected:(t=i[6].data)==null?void 0:t.preferred_embedding,$$slots:{default:[no]},$$scope:{ctx:i}}}),e.$on("change",i[16]),{c(){R(e.$$.fragment)},l(n){q(e.$$.fragment,n)},m(n,o){H(e,n,o),l=!0},p(n,o){var s;const r={};o[0]&64&&(r.selected=(s=n[6].data)==null?void 0:s.preferred_embedding),o[0]&2048|o[1]&2&&(r.$$scope={dirty:o,ctx:n}),e.$set(r)},i(n){l||(g(e.$$.fragment,n),l=!0)},o(n){v(e.$$.fragment,n),l=!1},d(n){O(e,n)}}}function lo(i){let e,l;return e=new zt({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function $n(i){let e,l;return e=new Nt({props:{value:i[29].name}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&2048&&(o.value=t[29].name),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function no(i){let e,l,t,n;e=new Nt({props:{value:void 0,text:"None"}});let o=i[11].data||[],r=[];for(let a=0;a<o.length;a+=1)r[a]=$n(kn(i,o,a));const s=a=>v(r[a],1,1,()=>{r[a]=null});return{c(){R(e.$$.fragment),l=U();for(let a=0;a<r.length;a+=1)r[a].c();t=oe()},l(a){q(e.$$.fragment,a),l=Y(a);for(let f=0;f<r.length;f+=1)r[f].l(a);t=oe()},m(a,f){H(e,a,f),E(a,l,f);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(a,f);E(a,t,f),n=!0},p(a,f){if(f[0]&2048){o=a[11].data||[];let u;for(u=0;u<o.length;u+=1){const d=kn(a,o,u);r[u]?(r[u].p(d,f),g(r[u],1)):(r[u]=$n(d),r[u].c(),g(r[u],1),r[u].m(t.parentNode,t))}for(ie(),u=o.length;u<r.length;u+=1)s(u);re()}},i(a){if(!n){g(e.$$.fragment,a);for(let f=0;f<o.length;f+=1)g(r[f]);n=!0}},o(a){v(e.$$.fragment,a),r=r.filter(Boolean);for(let f=0;f<r.length;f+=1)v(r[f]);n=!1},d(a){O(e,a),a&&m(l),Be(r,a),a&&m(t)}}}function io(i){let e,l;return e=new zt({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ro(i){let e,l,t;function n(r){i[22](r)}let o={fields:i[3]};return i[4]!==void 0&&(o.checkedFields=i[4]),e=new wt({props:o}),Le.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p(r,s){const a={};s[0]&8&&(a.fields=r[3]),!l&&s[0]&16&&(l=!0,a.checkedFields=r[4],Xe(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function so(i){let e,l,t,n,o,r,s,a;t=new Li({props:{items:[{title:"Fields",value:"fields"},{title:"Administration",value:"administration"}],item:i[7]}}),t.$on("select",i[20]);const f=[Za,Ka],u=[];function d(c,h){return c[7]==="fields"?0:c[7]==="administration"?1:-1}return~(r=d(i))&&(s=u[r]=f[r](i)),{c(){e=y("div"),l=y("div"),R(t.$$.fragment),n=U(),o=y("div"),s&&s.c(),this.h()},l(c){e=I(c,"DIV",{class:!0});var h=$(e);l=I(h,"DIV",{class:!0});var _=$(l);q(t.$$.fragment,_),_.forEach(m),n=Y(h),o=I(h,"DIV",{class:!0});var p=$(o);s&&s.l(p),p.forEach(m),h.forEach(m),this.h()},h(){T(l,"class","-ml-4 mr-4 w-96 grow-0"),T(o,"class","flex w-full flex-col gap-y-6 rounded border border-gray-300 bg-white p-4"),T(e,"class","flex flex-row")},m(c,h){E(c,e,h),b(e,l),H(t,l,null),b(e,n),b(e,o),~r&&u[r].m(o,null),a=!0},p(c,h){const _={};h[0]&128&&(_.item=c[7]),t.$set(_);let p=r;r=d(c),r===p?~r&&u[r].p(c,h):(s&&(ie(),v(u[p],1,1,()=>{u[p]=null}),re()),~r?(s=u[r],s?s.p(c,h):(s=u[r]=f[r](c),s.c()),g(s,1),s.m(o,null)):s=null)},i(c){a||(g(t.$$.fragment,c),g(s),a=!0)},o(c){v(t.$$.fragment,c),v(s),a=!1},d(c){c&&m(e),O(t),~r&&u[r].d()}}}function ao(i){let e,l,t,n,o,r;return e=new jn({props:{label:"Changes",title:"Dataset settings"}}),t=new Un({props:{hasForm:!0,$$slots:{default:[so]},$$scope:{ctx:i}}}),o=new Yn({props:{danger:i[7]==="administration",primaryButtonText:"Save",secondaryButtonText:"Cancel",primaryButtonDisabled:i[7]==="administration"}}),o.$on("click:button--secondary",close),{c(){R(e.$$.fragment),l=U(),R(t.$$.fragment),n=U(),R(o.$$.fragment)},l(s){q(e.$$.fragment,s),l=Y(s),q(t.$$.fragment,s),n=Y(s),q(o.$$.fragment,s)},m(s,a){H(e,s,a),E(s,l,a),H(t,s,a),E(s,n,a),H(o,s,a),r=!0},p(s,a){const f={};a[0]&7166|a[1]&2&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a[0]&128&&(u.danger=s[7]==="administration"),a[0]&128&&(u.primaryButtonDisabled=s[7]==="administration"),o.$set(u)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&m(l),O(t,s),s&&m(n),O(o,s)}}}function oo(i){let e,l;return e=new qn({props:{open:i[0],$$slots:{default:[ao]},$$scope:{ctx:i}}}),e.$on("submit",i[17]),e.$on("close",i[25]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n[0]&1&&(o.open=t[0]),n[0]&7166|n[1]&2&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function fo(i,e,l){let t,n,o,r,s,a=ee,f=()=>(a(),a=Me(t,L=>l(6,s=L)),t),u,d,c;i.$$.on_destroy.push(()=>a());let{namespace:h}=e,{name:_}=e,{open:p=!1}=e,{schema:w}=e;const S=Jn();be(i,S,L=>l(28,u=L));const k=Hn();be(i,k,L=>l(11,d=L));const D=Ri();be(i,D,L=>l(27,r=L));let C="fields",V=null,A=null,N=u.embedding;function j(L){N=L.target.value,N===""&&(N=void 0)}function J(){if(V==null)return;const L={ui:{media_paths:V.map(Z=>Z.path),markdown_paths:A==null?void 0:A.map(Z=>Z.path)},preferred_embedding:N};r.mutate([h,_,L],{onSuccess:()=>{l(0,p=!1)}})}let F="";const M=Hi();be(i,M,L=>l(12,c=L));const le=L=>l(7,C=L.detail);function Q(L){V=L,l(3,V),l(6,s),l(5,o),l(19,w)}function X(L){A=L,l(4,A),l(6,s),l(5,o),l(19,w)}function P(L){F=L,l(8,F)}const z=()=>c.mutate([h,_],{onSuccess:()=>zn("/")}),x=()=>l(0,p=!1);return i.$$set=L=>{"namespace"in L&&l(1,h=L.namespace),"name"in L&&l(2,_=L.name),"open"in L&&l(0,p=L.open),"schema"in L&&l(19,w=L.schema)},i.$$.update=()=>{var L,Z,pe,_e;if(i.$$.dirty[0]&6&&f(l(10,t=_t(h,_))),i.$$.dirty[0]&6&&l(9,n=di(h,_)),i.$$.dirty[0]&524288&&l(5,o=Vt(w).filter(ce=>ce.dtype==="string"&&!Ze(ce.path,[Oi])&&!at(ce))),i.$$.dirty[0]&104&&V==null){const ce=(((Z=(L=s.data)==null?void 0:L.ui)==null?void 0:Z.media_paths)||[]).map(fe=>Array.isArray(fe)?fe:[fe]);l(3,V=o.filter(fe=>ce.some(ae=>Ze(fe.path,ae))))}if(i.$$.dirty[0]&112&&A==null){const ce=(((_e=(pe=s.data)==null?void 0:pe.ui)==null?void 0:_e.markdown_paths)||[]).map(fe=>Array.isArray(fe)?fe:[fe]);l(4,A=o.filter(fe=>ce.some(ae=>Ze(fe.path,ae))))}},[p,h,_,V,A,o,s,C,F,n,t,d,c,S,k,D,j,J,M,w,le,Q,X,P,z,x]}class uo extends ke{constructor(e){super(),$e(this,e,fo,oo,we,{namespace:1,name:2,open:0,schema:19},null,[-1,-1])}}function co(i){let e,l,t;function n(r){i[13](r)}let o={fields:i[6]};return i[1]!==void 0&&(o.checkedFields=i[1]),e=new wt({props:o}),Le.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p(r,s){const a={};s&64&&(a.fields=r[6]),!l&&s&2&&(l=!0,a.checkedFields=r[1],Xe(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function mo(i){let e,l;return e=new Qe({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Sn(i){let e,l,t,n,o,r,s;const a=[_o,ho],f=[];function u(d,c){return d[5]==null?0:1}return o=u(i),r=f[o]=a[o](i),{c(){e=y("section"),l=y("h4"),t=G("Select enriched fields"),n=U(),r.c(),this.h()},l(d){e=I(d,"SECTION",{});var c=$(e);l=I(c,"H4",{class:!0});var h=$(l);t=K(h,"Select enriched fields"),h.forEach(m),n=Y(c),r.l(c),c.forEach(m),this.h()},h(){T(l,"class","svelte-1ge817j")},m(d,c){E(d,e,c),b(e,l),b(l,t),b(e,n),f[o].m(e,null),s=!0},p(d,c){let h=o;o=u(d),o===h?f[o].p(d,c):(ie(),v(f[h],1,1,()=>{f[h]=null}),re(),r=f[o],r?r.p(d,c):(r=f[o]=a[o](d),r.c()),g(r,1),r.m(e,null))},i(d){s||(g(r),s=!0)},o(d){v(r),s=!1},d(d){d&&m(e),f[o].d()}}}function ho(i){let e,l,t;function n(r){i[14](r)}let o={fields:i[5]};return i[2]!==void 0&&(o.checkedFields=i[2]),e=new wt({props:o}),Le.push(()=>Je(e,"checkedFields",n)),{c(){R(e.$$.fragment)},l(r){q(e.$$.fragment,r)},m(r,s){H(e,r,s),t=!0},p(r,s){const a={};s&32&&(a.fields=r[5]),!l&&s&4&&(l=!0,a.checkedFields=r[2],Xe(()=>l=!1)),e.$set(a)},i(r){t||(g(e.$$.fragment,r),t=!0)},o(r){v(e.$$.fragment,r),t=!1},d(r){O(e,r)}}}function _o(i){let e,l;return e=new Qe({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function En(i){let e,l;return{c(){e=y("p"),l=G("No fields selected. Please select at least one field to download."),this.h()},l(t){e=I(t,"P",{class:!0});var n=$(e);l=K(n,"No fields selected. Please select at least one field to download."),n.forEach(m),this.h()},h(){T(e,"class","text-gray-600")},m(t,n){E(t,e,n),b(e,l)},d(t){t&&m(e)}}}function go(i){let e,l;return e=new Zn({props:{value:JSON.stringify(i[7].data,null,2),readonly:!0,rows:30,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&128&&(o.value=JSON.stringify(t[7].data,null,2)),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function po(i){let e,l;return e=new Qe({props:{paragraph:!0}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function bo(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S;const k=[mo,co],D=[];function C(F,M){return F[6]==null?0:1}o=C(i),r=D[o]=k[o](i);let V=(i[5]==null||i[5].length>0)&&Sn(i),A=i[3].length===0&&En();const N=[po,go],j=[];function J(F,M){return F[7]&&F[7].isFetching?0:F[4]&&F[7]?1:-1}return~(p=J(i))&&(w=j[p]=N[p](i)),{c(){e=y("section"),l=y("h4"),t=G("Select source fields"),n=U(),r.c(),s=U(),V&&V.c(),a=U(),f=y("section"),u=y("h4"),d=G("Download preview"),c=U(),A&&A.c(),h=U(),_=y("div"),w&&w.c(),this.h()},l(F){e=I(F,"SECTION",{});var M=$(e);l=I(M,"H4",{class:!0});var le=$(l);t=K(le,"Select source fields"),le.forEach(m),n=Y(M),r.l(M),M.forEach(m),s=Y(F),V&&V.l(F),a=Y(F),f=I(F,"SECTION",{});var Q=$(f);u=I(Q,"H4",{class:!0});var X=$(u);d=K(X,"Download preview"),X.forEach(m),c=Y(Q),A&&A.l(Q),h=Y(Q),_=I(Q,"DIV",{class:!0});var P=$(_);w&&w.l(P),P.forEach(m),Q.forEach(m),this.h()},h(){T(l,"class","svelte-1ge817j"),T(u,"class","svelte-1ge817j"),T(_,"class","preview svelte-1ge817j")},m(F,M){E(F,e,M),b(e,l),b(l,t),b(e,n),D[o].m(e,null),E(F,s,M),V&&V.m(F,M),E(F,a,M),E(F,f,M),b(f,u),b(u,d),b(f,c),A&&A.m(f,null),b(f,h),b(f,_),~p&&j[p].m(_,null),S=!0},p(F,M){let le=o;o=C(F),o===le?D[o].p(F,M):(ie(),v(D[le],1,1,()=>{D[le]=null}),re(),r=D[o],r?r.p(F,M):(r=D[o]=k[o](F),r.c()),g(r,1),r.m(e,null)),F[5]==null||F[5].length>0?V?(V.p(F,M),M&32&&g(V,1)):(V=Sn(F),V.c(),g(V,1),V.m(a.parentNode,a)):V&&(ie(),v(V,1,1,()=>{V=null}),re()),F[3].length===0?A||(A=En(),A.c(),A.m(f,h)):A&&(A.d(1),A=null);let Q=p;p=J(F),p===Q?~p&&j[p].p(F,M):(w&&(ie(),v(j[Q],1,1,()=>{j[Q]=null}),re()),~p?(w=j[p],w?w.p(F,M):(w=j[p]=N[p](F),w.c()),g(w,1),w.m(_,null)):w=null)},i(F){S||(g(r),g(V),g(w),S=!0)},o(F){v(r),v(V),v(w),S=!1},d(F){F&&m(e),D[o].d(),F&&m(s),V&&V.d(F),F&&m(a),F&&m(f),A&&A.d(),~p&&j[p].d()}}}function vo(i){let e,l,t,n,o,r;return e=new jn({props:{title:"Download data"}}),t=new Un({props:{hasForm:!0,$$slots:{default:[bo]},$$scope:{ctx:i}}}),o=new Yn({props:{primaryButtonText:"Download",primaryButtonDisabled:i[3].length===0,secondaryButtonText:"Cancel"}}),o.$on("click:button--secondary",i[10]),{c(){R(e.$$.fragment),l=U(),R(t.$$.fragment),n=U(),R(o.$$.fragment)},l(s){q(e.$$.fragment,s),l=Y(s),q(t.$$.fragment,s),n=Y(s),q(o.$$.fragment,s)},m(s,a){H(e,s,a),E(s,l,a),H(t,s,a),E(s,n,a),H(o,s,a),r=!0},p(s,a){const f={};a&262398&&(f.$$scope={dirty:a,ctx:s}),t.$set(f);const u={};a&8&&(u.primaryButtonDisabled=s[3].length===0),o.$set(u)},i(s){r||(g(e.$$.fragment,s),g(t.$$.fragment,s),g(o.$$.fragment,s),r=!0)},o(s){v(e.$$.fragment,s),v(t.$$.fragment,s),v(o.$$.fragment,s),r=!1},d(s){O(e,s),s&&m(l),O(t,s),s&&m(n),O(o,s)}}}function wo(i){let e,l;return e=new qn({props:{size:"lg",open:i[0],$$slots:{default:[vo]},$$scope:{ctx:i}}}),e.$on("submit",i[9]),e.$on("close",i[15]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.open=t[0]),n&262398&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function ko(i,e,l){let t,n,o,r,s,a,f=ee,u=()=>(f(),f=Me(r,N=>l(7,a=N)),r);i.$$.on_destroy.push(()=>f());let{open:d=!1}=e,{schema:c}=e;const h=ht(),_=Ue();be(i,_,N=>l(12,s=N));let p=[],w=[];function S(N){if(N==null)return{sourceFields:null,enrichedFields:null};const J=Vt(N).filter(M=>["embedding"].indexOf(M.dtype)===-1).filter(M=>!at(M)),F=rt(N).filter(M=>Mt(M)).filter(M=>!rt(M).some(le=>le.dtype==="embedding"));return{sourceFields:J,enrichedFields:F}}async function k(){const N=s.namespace,j=s.datasetName,J={combine_columns:!1,columns:o.map(le=>le.path)},F=`/api/v1/datasets/${N}/${j}/select_rows_download?url_safe_options=${encodeURIComponent(JSON.stringify(J))}`,M=document.createElement("a");M.download=`${N}_${j}.json`,M.href=F,document.body.appendChild(M),M.click(),M.remove()}function D(){l(0,d=!1),h("close")}function C(N){p=N,l(1,p)}function V(N){w=N,l(2,w)}const A=()=>l(0,d=!1);return i.$$set=N=>{"open"in N&&l(0,d=N.open),"schema"in N&&l(11,c=N.schema)},i.$$.update=()=>{i.$$.dirty&2048&&l(6,{sourceFields:t,enrichedFields:n}=S(c),t,(l(5,n),l(11,c))),i.$$.dirty&6&&l(3,o=[...p,...w]),i.$$.dirty&4104&&u(l(4,r=o.length>0?ji(s.namespace,s.datasetName,{columns:o.map(N=>N.path),limit:3,combine_columns:!1}):null))},[d,p,w,o,r,n,t,a,_,k,D,c,s,C,V,A]}class $o extends ke{constructor(e){super(),$e(this,e,ko,wo,we,{open:0,schema:11})}}function yn(i){let e,l,t,n,o,r;function s(d){i[23](d)}let a={schema:i[12].data,namespace:i[0],name:i[1]};i[4]!==void 0&&(a.open=i[4]),e=new uo({props:a}),Le.push(()=>Je(e,"open",s));function f(d){i[24](d)}let u={schema:i[12].data};return i[5]!==void 0&&(u.open=i[5]),n=new $o({props:u}),Le.push(()=>Je(n,"open",f)),{c(){R(e.$$.fragment),t=U(),R(n.$$.fragment)},l(d){q(e.$$.fragment,d),t=Y(d),q(n.$$.fragment,d)},m(d,c){H(e,d,c),E(d,t,c),H(n,d,c),r=!0},p(d,c){const h={};c&4096&&(h.schema=d[12].data),c&1&&(h.namespace=d[0]),c&2&&(h.name=d[1]),!l&&c&16&&(l=!0,h.open=d[4],Xe(()=>l=!1)),e.$set(h);const _={};c&4096&&(_.schema=d[12].data),!o&&c&32&&(o=!0,_.open=d[5],Xe(()=>o=!1)),n.$set(_)},i(d){r||(g(e.$$.fragment,d),g(n.$$.fragment,d),r=!0)},o(d){v(e.$$.fragment,d),v(n.$$.fragment,d),r=!1},d(d){O(e,d),d&&m(t),O(n,d)}}}function In(i){let e,l;return e=new At({props:{open:!0,modalHeading:"Dataset config",primaryButtonText:"Ok",secondaryButtonText:"Cancel",$$slots:{default:[yo]},$$scope:{ctx:i}}}),e.$on("click:button--secondary",i[25]),e.$on("close",i[26]),e.$on("submit",i[27]),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&268443648&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function So(i){let e,l;return e=new Zn({props:{value:`${i[13].data}`,readonly:!0,rows:15,placeholder:"3 rows of data for previewing the response",class:"mb-2 font-mono"}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&8192&&(o.value=`${t[13].data}`),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Eo(i){let e,l;return e=new Qe({}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p:ee,i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function yo(i){let e,l,t,n,o,r,s,a,f,u;const d=[Eo,So],c=[];function h(_,p){var w,S;return(w=_[13])!=null&&w.isFetching?0:(S=_[13])!=null&&S.data?1:-1}return~(s=h(i))&&(a=c[s]=d[s](i)),{c(){e=y("div"),l=G(`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),t=U(),n=y("div"),o=G("config.yml"),r=U(),a&&a.c(),f=oe(),this.h()},l(_){e=I(_,"DIV",{class:!0});var p=$(e);l=K(p,`This dataset configuration represents the transformations that created the dataset,
        including signals, embeddings, and user settings. This can be used with lilac.load to
        generate the dataset with the same view as presented.`),p.forEach(m),t=Y(_),n=I(_,"DIV",{class:!0});var w=$(n);o=K(w,"config.yml"),w.forEach(m),r=Y(_),a&&a.l(_),f=oe(),this.h()},h(){T(e,"class","mb-4 text-sm"),T(n,"class","font-mono text-xs")},m(_,p){E(_,e,p),b(e,l),E(_,t,p),E(_,n,p),b(n,o),E(_,r,p),~s&&c[s].m(_,p),E(_,f,p),u=!0},p(_,p){let w=s;s=h(_),s===w?~s&&c[s].p(_,p):(a&&(ie(),v(c[w],1,1,()=>{c[w]=null}),re()),~s?(a=c[s],a?a.p(_,p):(a=c[s]=d[s](_),a.c()),g(a,1),a.m(f.parentNode,f)):a=null)},i(_){u||(g(a),u=!0)},o(_){v(a),u=!1},d(_){_&&m(e),_&&m(t),_&&m(n),_&&m(r),~s&&c[s].d(_),_&&m(f)}}}function Io(i){let e,l,t,n,o,r,s,a,f,u,d;t=new Ua({}),s=new Js({});let c=i[12].data&&yn(i),h=i[2]&&In(i);return{c(){e=y("div"),l=y("div"),R(t.$$.fragment),o=U(),r=y("div"),R(s.$$.fragment),a=U(),c&&c.c(),f=U(),h&&h.c(),u=oe(),this.h()},l(_){e=I(_,"DIV",{class:!0});var p=$(e);l=I(p,"DIV",{class:!0});var w=$(l);q(t.$$.fragment,w),w.forEach(m),o=Y(p),r=I(p,"DIV",{class:!0});var S=$(r);q(s.$$.fragment,S),S.forEach(m),p.forEach(m),a=Y(_),c&&c.l(_),f=Y(_),h&&h.l(_),u=oe(),this.h()},h(){T(l,"class",n=Lt(`schema-container relative h-full ${i[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"),T(r,"class","h-full w-2/3 flex-grow"),T(e,"class","flex h-full w-full")},m(_,p){E(_,e,p),b(e,l),H(t,l,null),b(e,o),b(e,r),H(s,r,null),E(_,a,p),c&&c.m(_,p),E(_,f,p),h&&h.m(_,p),E(_,u,p),d=!0},p(_,p){(!d||p&2048&&n!==(n=Lt(`schema-container relative h-full ${_[11]?"w-0":"w-1/3"} border-r border-gray-200`)+" svelte-1xlsh2v"))&&T(l,"class",n),_[12].data?c?(c.p(_,p),p&4096&&g(c,1)):(c=yn(_),c.c(),g(c,1),c.m(f.parentNode,f)):c&&(ie(),v(c,1,1,()=>{c=null}),re()),_[2]?h?(h.p(_,p),p&4&&g(h,1)):(h=In(_),h.c(),g(h,1),h.m(u.parentNode,u)):h&&(ie(),v(h,1,1,()=>{h=null}),re())},i(_){d||(g(t.$$.fragment,_),g(s.$$.fragment,_),g(c),g(h),d=!0)},o(_){v(t.$$.fragment,_),v(s.$$.fragment,_),v(c),v(h),d=!1},d(_){_&&m(e),O(t),O(s),_&&m(a),c&&c.d(_),_&&m(f),h&&h.d(_),_&&m(u)}}}function Do(i){let e,l,t=i[3].namespace+"",n,o,r=i[3].datasetName+"",s,a,f;return{c(){e=y("div"),l=y("a"),n=G(t),o=G("/"),s=G(r),this.h()},l(u){e=I(u,"DIV",{class:!0});var d=$(e);l=I(d,"A",{class:!0,href:!0});var c=$(l);n=K(c,t),o=K(c,"/"),s=K(c,r),c.forEach(m),d.forEach(m),this.h()},h(){T(l,"class","font-semibold text-black"),T(l,"href",i[8]),T(e,"class","dataset-name svelte-1xlsh2v")},m(u,d){E(u,e,d),b(e,l),b(l,n),b(l,o),b(l,s),a||(f=Pe(l,"click",i[21]),a=!0)},p(u,d){d&8&&t!==(t=u[3].namespace+"")&&de(n,t),d&8&&r!==(r=u[3].datasetName+"")&&de(s,r),d&256&&T(l,"href",u[8])},d(u){u&&m(e),a=!1,f()}}}function To(i){let e,l,t,n,o,r,s,a,f,u,d,c;return t=new ss({}),r=new xe({props:{type:"outline",$$slots:{default:[Do]},$$scope:{ctx:i}}}),f=new mt({}),{c(){e=y("div"),l=y("button"),R(t.$$.fragment),o=U(),R(r.$$.fragment),s=U(),a=y("button"),R(f.$$.fragment),this.h()},l(h){e=I(h,"DIV",{slot:!0,class:!0});var _=$(e);l=I(_,"BUTTON",{class:!0});var p=$(l);q(t.$$.fragment,p),p.forEach(m),o=Y(_),q(r.$$.fragment,_),s=Y(_),a=I(_,"BUTTON",{});var w=$(a);q(f.$$.fragment,w),w.forEach(m),_.forEach(m),this.h()},h(){T(l,"class","mr-2"),ue(l,"bg-blue-100",!i[11]),ue(l,"outline-blue-400",!i[11]),ue(l,"outline",!i[11]),T(e,"slot","header-subtext"),T(e,"class","flex flex-row items-center gap-x-1")},m(h,_){E(h,e,_),b(e,l),H(t,l,null),b(e,o),H(r,e,null),b(e,s),b(e,a),H(f,a,null),u=!0,d||(c=[De(n=Te.call(null,l,{text:i[11]?"Show Schema":"Hide Schema"})),Pe(l,"click",i[15]),Pe(l,"keypress",i[15]),Pe(a,"click",i[22]),De(Te.call(null,a,{text:"Dataset information"}))],d=!0)},p(h,_){n&&je(n.update)&&_&2048&&n.update.call(null,{text:h[11]?"Show Schema":"Hide Schema"}),(!u||_&2048)&&ue(l,"bg-blue-100",!h[11]),(!u||_&2048)&&ue(l,"outline-blue-400",!h[11]),(!u||_&2048)&&ue(l,"outline",!h[11]);const p={};_&268435720&&(p.$$scope={dirty:_,ctx:h}),r.$set(p)},i(h){u||(g(t.$$.fragment,h),g(r.$$.fragment,h),g(f.$$.fragment,h),u=!0)},o(h){v(t.$$.fragment,h),v(r.$$.fragment,h),v(f.$$.fragment,h),u=!1},d(h){h&&m(e),O(t),O(r),O(f),d=!1,tt(c)}}}function Vo(i){let e,l,t;return l=new ha({}),{c(){e=y("div"),R(l.$$.fragment),this.h()},l(n){e=I(n,"DIV",{slot:!0,class:!0});var o=$(e);q(l.$$.fragment,o),o.forEach(m),this.h()},h(){T(e,"slot","header-center"),T(e,"class","flex w-full items-center")},m(n,o){E(n,e,o),H(l,e,null),t=!0},p:ee,i(n){t||(g(l.$$.fragment,n),t=!0)},o(n){v(l.$$.fragment,n),t=!1},d(n){n&&m(e),O(l)}}}function Dn(i){let e,l,t,n;return{c(){e=y("div"),l=G("Copied!"),this.h()},l(o){e=I(o,"DIV",{class:!0});var r=$(e);l=K(r,"Copied!"),r.forEach(m),this.h()},h(){T(e,"class","absolute right-12 z-50 mt-2 rounded border border-neutral-300 bg-neutral-50 px-4 py-1 text-xs")},m(o,r){E(o,e,r),b(e,l),n=!0},i(o){n||(t&&t.end(1),n=!0)},o(o){t=ci(e,ur,{}),n=!1},d(o){o&&m(e),o&&t&&t.end()}}}function No(i){let e,l,t,n,o,r,s,a,f,u,d,c,h,_,p,w,S,k,D,C=i[6]&&Dn();return s=new gr({}),u=new jr({}),_=new vr({}),{c(){e=y("div"),l=y("div"),t=y("div"),n=y("div"),C&&C.c(),o=U(),r=y("button"),R(s.$$.fragment),a=U(),f=y("button"),R(u.$$.fragment),d=U(),c=y("div"),h=y("button"),R(_.$$.fragment),this.h()},l(V){e=I(V,"DIV",{slot:!0});var A=$(e);l=I(A,"DIV",{class:!0});var N=$(l);t=I(N,"DIV",{class:!0});var j=$(t);n=I(j,"DIV",{class:!0});var J=$(n);C&&C.l(J),o=Y(J),r=I(J,"BUTTON",{});var F=$(r);q(s.$$.fragment,F),F.forEach(m),J.forEach(m),a=Y(j),f=I(j,"BUTTON",{});var M=$(f);q(u.$$.fragment,M),M.forEach(m),d=Y(j),c=I(j,"DIV",{class:!0});var le=$(c);h=I(le,"BUTTON",{});var Q=$(h);q(_.$$.fragment,Q),Q.forEach(m),le.forEach(m),j.forEach(m),N.forEach(m),A.forEach(m),this.h()},h(){T(n,"class","relative"),h.disabled=p=!i[9],T(c,"class","mr-2"),ue(c,"opacity-40",!i[9]),T(t,"class","flex"),T(l,"class","flex h-full flex-col"),T(e,"slot","header-right")},m(V,A){E(V,e,A),b(e,l),b(l,t),b(t,n),C&&C.m(n,null),b(n,o),b(n,r),H(s,r,null),b(t,a),b(t,f),H(u,f,null),b(t,d),b(t,c),b(c,h),H(_,h,null),S=!0,k||(D=[De(Te.call(null,r,{text:"Copy the URL"})),Pe(r,"click",i[18]),De(Te.call(null,f,{text:"Download data"})),Pe(f,"click",i[19]),De(Te.call(null,h,{text:"Dataset settings"})),Pe(h,"click",i[20]),De(w=Te.call(null,c,{text:i[9]?"":"User does not have access to update settings of this dataset."}))],k=!0)},p(V,A){V[6]?C?A&64&&g(C,1):(C=Dn(),C.c(),g(C,1),C.m(n,o)):C&&(ie(),v(C,1,1,()=>{C=null}),re()),(!S||A&512&&p!==(p=!V[9]))&&(h.disabled=p),w&&je(w.update)&&A&512&&w.update.call(null,{text:V[9]?"":"User does not have access to update settings of this dataset."}),(!S||A&512)&&ue(c,"opacity-40",!V[9])},i(V){S||(g(C),g(s.$$.fragment,V),g(u.$$.fragment,V),g(_.$$.fragment,V),S=!0)},o(V){v(C),v(s.$$.fragment,V),v(u.$$.fragment,V),v(_.$$.fragment,V),S=!1},d(V){V&&m(e),C&&C.d(),O(s),O(u),O(_),k=!1,tt(D)}}}function Co(i){let e,l;return e=new vi({props:{$$slots:{"header-right":[No],"header-center":[Vo],"header-subtext":[To],default:[Io]},$$scope:{ctx:i}}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,[n]){const o={};n&268450687&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Fo(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=Me(n,Z=>l(12,u=Z)),n),h,_=ee,p=()=>(_(),_=Me(s,Z=>l(13,h=Z)),s);i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>_());let{namespace:w}=e,{datasetName:S}=e;const k=Ue();be(i,k,Z=>l(3,f=Z));function D(){$t(k,f.schemaCollapsed=!f.schemaCollapsed,f)}let C=!1,V=!1;const A=Ft();be(i,A,Z=>l(17,a=Z));let N=!1,j=!1;const J=()=>navigator.clipboard.writeText(location.href).then(()=>{l(6,N=!0),setTimeout(()=>l(6,N=!1),2e3)},()=>{throw Error("Error copying link to clipboard.")}),F=()=>l(5,V=!0),M=()=>l(4,C=!0),le=()=>zn(r),Q=()=>l(2,j=!0);function X(Z){C=Z,l(4,C)}function P(Z){V=Z,l(5,V)}const z=()=>l(2,j=!1),x=()=>l(2,j=!1),L=()=>l(2,j=!1);return i.$$set=Z=>{"namespace"in Z&&l(0,w=Z.namespace),"datasetName"in Z&&l(1,S=Z.datasetName)},i.$$.update=()=>{var Z;i.$$.dirty&8&&l(11,t=f.schemaCollapsed),i.$$.dirty&8&&c(l(10,n=Ct(f.namespace,f.datasetName))),i.$$.dirty&131072&&l(9,o=(Z=a.data)==null?void 0:Z.access.dataset.update_settings),i.$$.dirty&3&&l(8,r=mi(w,S)),i.$$.dirty&7&&p(l(7,s=j?Ui(w,S,"yaml"):null))},[w,S,j,f,C,V,N,s,r,o,n,t,u,h,k,D,A,a,J,F,M,le,Q,X,P,z,x,L]}class Mo extends ke{constructor(e){super(),$e(this,e,Fo,Co,we,{namespace:0,datasetName:1})}}function zo(i){let e;return{c(){e=G("Page not found! Please specify a dataset.")},l(l){e=K(l,"Page not found! Please specify a dataset.")},m(l,t){E(l,e,t)},p:ee,i:ee,o:ee,d(l){l&&m(e)}}}function Po(i){let e=i[2],l,t,n=Tn(i);return{c(){n.c(),l=oe()},l(o){n.l(o),l=oe()},m(o,r){n.m(o,r),E(o,l,r),t=!0},p(o,r){r&4&&we(e,e=o[2])?(ie(),v(n,1,1,ee),re(),n=Tn(o),n.c(),g(n,1),n.m(l.parentNode,l)):n.p(o,r)},i(o){t||(g(n),t=!0)},o(o){v(n),t=!1},d(o){o&&m(l),n.d(o)}}}function Tn(i){let e,l;return e=new Mo({props:{namespace:i[0],datasetName:i[1]}}),{c(){R(e.$$.fragment)},l(t){q(e.$$.fragment,t)},m(t,n){H(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.namespace=t[0]),n&2&&(o.datasetName=t[1]),e.$set(o)},i(t){l||(g(e.$$.fragment,t),l=!0)},o(t){v(e.$$.fragment,t),l=!1},d(t){O(e,t)}}}function Ao(i){let e,l,t,n;const o=[Po,zo],r=[];function s(a,f){return a[2]&&a[0]&&a[1]?0:1}return e=s(i),l=r[e]=o[e](i),{c(){l.c(),t=oe()},l(a){l.l(a),t=oe()},m(a,f){r[e].m(a,f),E(a,t,f),n=!0},p(a,[f]){let u=e;e=s(a),e===u?r[e].p(a,f):(ie(),v(r[u],1,1,()=>{r[u]=null}),re(),l=r[e],l?l.p(a,f):(l=r[e]=o[e](a),l.c()),g(l,1),l.m(t.parentNode,t))},i(a){n||(g(l),n=!0)},o(a){v(l),n=!1},d(a){r[e].d(a),a&&m(t)}}}function Bo(i,e,l){let t,n,o,r,s,a,f,u,d=ee,c=()=>(d(),d=Me(f,Q=>l(10,u=Q)),f),h,_=ee,p=()=>(_(),_=Me(t,Q=>l(11,h=Q)),t),w,S=ee,k=()=>(S(),S=Me(a,Q=>l(12,w=Q)),a),D,C=ee,V=()=>(C(),C=Me(r,Q=>l(13,D=Q)),r),A,N=ee,j=()=>(N(),N=Me(o,Q=>l(14,A=Q)),o),J;i.$$.on_destroy.push(()=>d()),i.$$.on_destroy.push(()=>_()),i.$$.on_destroy.push(()=>S()),i.$$.on_destroy.push(()=>C()),i.$$.on_destroy.push(()=>N());let F,M;const le=hi();return be(i,le,Q=>l(15,J=Q)),i.$$.update=()=>{if(i.$$.dirty&32771&&J.page==="datasets")if(J.identifier==""||J.identifier==null)l(0,F=void 0),l(1,M=void 0);else{const[Q,X]=J.identifier.split("/");(F!=Q||M!=X)&&(l(0,F=Q),l(1,M=X))}if(i.$$.dirty&3&&p(l(2,t=F&&M?Qi(F,M):null)),i.$$.dirty&7&&t!=null){const Q=xi(F,M);_i("datasets",`${F}/${M}`,t,le,X=>pi(X,Q),X=>gi(X,Q))}if(i.$$.dirty&4&&t!=null&&Yi(t),i.$$.dirty&3&&l(8,n=F&&M?Gi(F,M):null),i.$$.dirty&256&&n!=null&&Wi(n),i.$$.dirty&3&&j(l(6,o=F&&M?_t(F,M):null)),i.$$.dirty&16640&&n&&A!=null&&A.data&&n.setSettings(A.data),i.$$.dirty&3&&V(l(5,r=F&&M?Ct(F,M):null)),i.$$.dirty&8448&&n&&D!=null&&D.data&&n.setSchema(D.data),i.$$.dirty&8192&&l(9,s=D!=null&&D.data?Ki("string",D.data):null),i.$$.dirty&515&&k(l(4,a=F&&M&&s?Zi(F,M,s.map(Q=>Q.path)):null)),i.$$.dirty&4352&&n&&w!=null&&w.data&&!w.isFetching&&n.setStats(w.data),i.$$.dirty&2051&&c(l(3,f=F&&M&&h?Ji(F,M,Xi(h)):null)),i.$$.dirty&1280&&n&&u!=null&&u.data&&n.setSelectRowsSchema(u),i.$$.dirty&3328&&n&&h&&u!=null&&u.data){const Q=cr(h.selectedColumns||{},h.query,(u==null?void 0:u.data)||null);n.setVisibleFields(Q)}},[F,M,t,f,a,r,o,le,n,s,u,h,w,D,A,J]}class Xo extends ke{constructor(e){super(),$e(this,e,Bo,Ao,we,{})}}export{Xo as component};
