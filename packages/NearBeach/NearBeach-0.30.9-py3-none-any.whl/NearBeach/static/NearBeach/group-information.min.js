"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[4417],{1334:(o,e,t)=>{t.r(e),t.d(e,{default:()=>U});var r=t(6252),n=t(9963);const l={class:"card"},a={class:"card-body"},s=(0,r._)("h1",null,"Group Information",-1),u=(0,r._)("br",null,null,-1),d=["href"],p=(0,r._)("hr",null,null,-1),i={class:"row"},m=(0,r._)("div",{class:"col-md-4"},[(0,r._)("strong",null,"Group Information"),(0,r._)("p",{class:"text-instruction"}," Please edit the group information here. Please note - groups have to be unique! ")],-1),c={class:"col-md-8"},g={class:"form-group"},h=(0,r._)("label",null,"Group Name",-1),M={class:"form-group"},_=(0,r._)("label",null,"Parent Group",-1),f=(0,r._)("hr",null,null,-1),v={class:"row submit-row"},y={class:"col-md-12"};var w=t(1317),G=t(3058),b=t(8416);const E=t(9669),I={name:"GroupInformation",components:{NSelect:w.Z},props:{groupResults:{type:Array,default:()=>[]},parentGroupResults:{type:Array,default:()=>[]},rootUrl:{type:String,default:"/"}},data(){return{groupNameModel:this.groupResults[0].fields.group_name,parentGroupFixList:[],parentGroupModel:this.groupResults[0].fields.parent_group}},mixins:[G.Z,b.Z],methods:{updateGroup(){const o=new FormData;o.set("group_name",this.groupNameModel),null!==this.parentGroupModel&&""!==this.parentGroupModel&&o.set("parent_group",this.parentGroupModel),this.showLoadingModal("Group Information"),E.post(`${this.rootUrl}group_information/${this.groupResults[0].pk}/save/`,o).then((o=>{this.closeLoadingModal()})).catch((o=>{this.showErrorModal(o,"group_information","")}))}},mounted(){const o=this.parentGroupResults.map((o=>({group_name:o.fields.group_name,label:o.fields.group_name,value:o.pk})));this.parentGroupFixList=o,this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl})}},U=(0,t(3744).Z)(I,[["render",function(o,e,t,w,G,b){const E=(0,r.up)("n-select");return(0,r.wg)(),(0,r.iD)("div",l,[(0,r._)("div",a,[s,u,(0,r._)("a",{href:`${this.rootUrl}search/group/`},"Back to group list",8,d),p,(0,r._)("div",i,[m,(0,r._)("div",c,[(0,r._)("div",g,[h,(0,r.wy)((0,r._)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>G.groupNameModel=o),class:"form-control"},null,512),[[n.vModelText,G.groupNameModel]])]),(0,r._)("div",M,[_,(0,r.Wm)(E,{value:G.parentGroupModel,"onUpdate:value":e[1]||(e[1]=o=>G.parentGroupModel=o),filterable:"",options:G.parentGroupFixList,clearable:""},null,8,["value","options"])])])]),(0,r.kq)(" Submit Button "),f,(0,r._)("div",v,[(0,r._)("div",y,[(0,r._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:e[2]||(e[2]=(...o)=>b.updateGroup&&b.updateGroup(...o))},"Update Group")])])])])}]])},3058:(o,e,t)=>{t.d(e,{Z:()=>n});var r=t(3138);const n={methods:{showErrorModal(o,e,t){new r.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${e}-${t}<hr>${o}`,new r.u_(document.getElementById("errorModal")).show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new r.u_(document.getElementById("errorModal")).show()}}}},8416:(o,e,t)=>{t.d(e,{Z:()=>n});var r=t(3138);const n={methods:{closeLoadingModal(){const o=new r.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{o.hide()}),1e3)},showLoadingModal(o){new r.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${o} details`}}}}}]);