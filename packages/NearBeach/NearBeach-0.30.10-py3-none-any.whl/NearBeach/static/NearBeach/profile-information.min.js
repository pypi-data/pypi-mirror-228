"use strict";(self.webpackChunknearbeach=self.webpackChunknearbeach||[]).push([[1793],{3744:(e,t)=>{t.Z=(e,t)=>{const l=e.__vccOpts||e;for(const[e,o]of t)l[e]=o;return l}},2953:(e,t,l)=>{l.r(t),l.d(t,{default:()=>T});var o=l(6252),r=l(3577),s=l(9963);const a={class:"card"},n={class:"card-body"},d=(0,o._)("h1",null,"My Profile",-1),i=(0,o._)("hr",null,null,-1),u={class:"row"},m=(0,o._)("div",{class:"col-md-4"},[(0,o._)("strong",null,"User Details"),(0,o._)("p",{class:"text-instructions"},"Please update your details.")],-1),c={class:"col-md-8"},h=(0,o._)("strong",null,"Username: ",-1),p={class:"row"},M={class:"col-md-6"},_=(0,o._)("br",null,null,-1),g={class:"col-md-6"},v=(0,o._)("br",null,null,-1),f=(0,o._)("div",{class:"spacer"},null,-1),y={class:"row"},w={class:"col-md-6"},U=(0,o._)("label",null," Email: ",-1),E=(0,o._)("hr",null,null,-1),$={class:"row submit-row"},L={class:"col-md-12"};var b=l(5705),S=l(760),N=l(4650),I=l(3058),B=l(8416);const C=l(9669),D={name:"ProfileInformation",setup:()=>({v$:(0,b.ZP)()}),props:{rootUrl:{type:String,default:"/"},staticUrl:{type:String,default:"/"},userResults:{type:Array,default:()=>[]}},components:{ValidationRendering:N.Z},data(){return{emailModel:this.userResults[0].email,firstNameModel:this.userResults[0].first_name,lastNameModel:this.userResults[0].last_name}},mixins:[I.Z,B.Z],validations:()=>({lastNameModel:{required:S.C1,maxLength:(0,S.BS)(255)},firstNameModel:{required:S.C1,maxLength:(0,S.BS)(255)}}),methods:{updateUser(){if(this.v$.$touch(),this.v$.$invalid)return void this.showValidationErrorModal();const e=new FormData;e.set("username",this.userResults[0].id),e.set("first_name",this.firstNameModel),e.set("last_name",this.lastNameModel),this.showLoadingModal("Project"),C.post(`${this.rootUrl}profile_information/update_data/`,e).then((e=>{this.closeLoadingModal()})).catch((e=>{this.showErrorModal(e,"profile")}))}},mounted(){this.$store.commit({type:"updateUrl",rootUrl:this.rootUrl,staticUrl:this.staticUrl})}},T=(0,l(3744).Z)(D,[["render",function(e,t,l,b,S,N){const I=(0,o.up)("validation-rendering");return(0,o.wg)(),(0,o.iD)("div",a,[(0,o._)("div",n,[d,i,(0,o._)("div",u,[m,(0,o._)("div",c,[(0,o._)("p",null,[h,(0,o.Uk)((0,r.toDisplayString)(l.userResults[0].username),1)]),(0,o._)("div",p,[(0,o._)("div",M,[(0,o._)("label",null,[(0,o.Uk)(" First Name: "),(0,o.Wm)(I,{"error-list":b.v$.firstNameModel.$errors},null,8,["error-list"]),_]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>S.firstNameModel=e),class:"form-control"},null,512),[[s.vModelText,S.firstNameModel]])]),(0,o._)("div",g,[(0,o._)("label",null,[(0,o.Uk)(" Last Name: "),(0,o.Wm)(I,{"error-list":b.v$.firstNameModel.$errors},null,8,["error-list"]),v]),(0,o.wy)((0,o._)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>S.lastNameModel=e),class:"form-control"},null,512),[[s.vModelText,S.lastNameModel]])])]),f,(0,o._)("div",y,[(0,o._)("div",w,[U,(0,o.wy)((0,o._)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>S.emailModel=e),class:"form-control",disabled:"true"},null,512),[[s.vModelText,S.emailModel]])])])])]),E,(0,o.kq)(" UPDATE USER "),(0,o._)("div",$,[(0,o._)("div",L,[(0,o._)("a",{href:"javascript:void(0)",class:"btn btn-primary save-changes",onClick:t[3]||(t[3]=(...e)=>N.updateUser&&N.updateUser(...e))}," Update User Details ")])])])])}]])},4650:(e,t,l)=>{l.d(t,{Z:()=>a});var o=l(6252),r=l(3577);const s={name:"ValidationRendering",props:{errorList:{type:Array,default:()=>[]}}},a=(0,l(3744).Z)(s,[["render",function(e,t,l,s,a,n){return(0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.errorList,(e=>((0,o.wg)(),(0,o.iD)("span",{class:"error",key:e.$uid},(0,r.toDisplayString)(e.$message),1)))),128)}]])},3058:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(3138);const r={methods:{showErrorModal(e,t,l){new o.u_(document.getElementById("loadingModal")).hide(),document.getElementById("errorModalContent").innerHTML=`<strong>HTML ISSUE:</strong> We could not save the new ${t}-${l}<hr>${e}`,new o.u_(document.getElementById("errorModal")).show()},showValidationErrorModal(){document.getElementById("errorModalContent").innerHTML="<strong>FORM ISSUE:</strong> Sorry, but can you please fill out the form completely.",new o.u_(document.getElementById("errorModal")).show()}}}},8416:(e,t,l)=>{l.d(t,{Z:()=>r});var o=l(3138);const r={methods:{closeLoadingModal(){const e=new o.u_(document.getElementById("loadingModal"));document.getElementById("loadingModalContent").innerHTML="UPDATED SUCCESSFULLY",setTimeout((()=>{e.hide()}),1e3)},showLoadingModal(e){new o.u_(document.getElementById("loadingModal")).show(),document.getElementById("loadingModalContent").innerHTML=`Updating your ${e} details`}}}}}]);